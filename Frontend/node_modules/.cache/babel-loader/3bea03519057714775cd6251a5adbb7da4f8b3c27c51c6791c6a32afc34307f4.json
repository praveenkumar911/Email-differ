{"ast":null,"code":"import _defineProperty from \"/home/rcts/Email-differ/Frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport { NormalizedSchema } from \"@smithy/core/schema\";\nimport { dateToUtcString, generateIdempotencyToken, LazyJsonString, quoteHeader } from \"@smithy/core/serde\";\nimport { toBase64 } from \"@smithy/util-base64\";\nimport { SerdeContext } from \"../SerdeContext\";\nimport { determineTimestampFormat } from \"./determineTimestampFormat\";\nexport class ToStringShapeSerializer extends SerdeContext {\n  constructor(settings) {\n    super();\n    _defineProperty(this, \"settings\", void 0);\n    _defineProperty(this, \"stringBuffer\", \"\");\n    this.settings = settings;\n  }\n  write(schema, value) {\n    const ns = NormalizedSchema.of(schema);\n    switch (typeof value) {\n      case \"object\":\n        if (value === null) {\n          this.stringBuffer = \"null\";\n          return;\n        }\n        if (ns.isTimestampSchema()) {\n          if (!(value instanceof Date)) {\n            throw new Error(\"@smithy/core/protocols - received non-Date value \".concat(value, \" when schema expected Date in \").concat(ns.getName(true)));\n          }\n          const format = determineTimestampFormat(ns, this.settings);\n          switch (format) {\n            case 5:\n              this.stringBuffer = value.toISOString().replace(\".000Z\", \"Z\");\n              break;\n            case 6:\n              this.stringBuffer = dateToUtcString(value);\n              break;\n            case 7:\n              this.stringBuffer = String(value.getTime() / 1000);\n              break;\n            default:\n              console.warn(\"Missing timestamp format, using epoch seconds\", value);\n              this.stringBuffer = String(value.getTime() / 1000);\n          }\n          return;\n        }\n        if (ns.isBlobSchema() && \"byteLength\" in value) {\n          var _this$serdeContext$ba, _this$serdeContext;\n          this.stringBuffer = ((_this$serdeContext$ba = (_this$serdeContext = this.serdeContext) === null || _this$serdeContext === void 0 ? void 0 : _this$serdeContext.base64Encoder) !== null && _this$serdeContext$ba !== void 0 ? _this$serdeContext$ba : toBase64)(value);\n          return;\n        }\n        if (ns.isListSchema() && Array.isArray(value)) {\n          let buffer = \"\";\n          for (const item of value) {\n            this.write([ns.getValueSchema(), ns.getMergedTraits()], item);\n            const headerItem = this.flush();\n            const serialized = ns.getValueSchema().isTimestampSchema() ? headerItem : quoteHeader(headerItem);\n            if (buffer !== \"\") {\n              buffer += \", \";\n            }\n            buffer += serialized;\n          }\n          this.stringBuffer = buffer;\n          return;\n        }\n        this.stringBuffer = JSON.stringify(value, null, 2);\n        break;\n      case \"string\":\n        const mediaType = ns.getMergedTraits().mediaType;\n        let intermediateValue = value;\n        if (mediaType) {\n          const isJson = mediaType === \"application/json\" || mediaType.endsWith(\"+json\");\n          if (isJson) {\n            intermediateValue = LazyJsonString.from(intermediateValue);\n          }\n          if (ns.getMergedTraits().httpHeader) {\n            var _this$serdeContext$ba2, _this$serdeContext2;\n            this.stringBuffer = ((_this$serdeContext$ba2 = (_this$serdeContext2 = this.serdeContext) === null || _this$serdeContext2 === void 0 ? void 0 : _this$serdeContext2.base64Encoder) !== null && _this$serdeContext$ba2 !== void 0 ? _this$serdeContext$ba2 : toBase64)(intermediateValue.toString());\n            return;\n          }\n        }\n        this.stringBuffer = value;\n        break;\n      default:\n        if (ns.isIdempotencyToken()) {\n          this.stringBuffer = generateIdempotencyToken();\n        } else {\n          this.stringBuffer = String(value);\n        }\n    }\n  }\n  flush() {\n    const buffer = this.stringBuffer;\n    this.stringBuffer = \"\";\n    return buffer;\n  }\n}","map":{"version":3,"names":["NormalizedSchema","dateToUtcString","generateIdempotencyToken","LazyJsonString","quoteHeader","toBase64","SerdeContext","determineTimestampFormat","ToStringShapeSerializer","constructor","settings","_defineProperty","write","schema","value","ns","of","stringBuffer","isTimestampSchema","Date","Error","concat","getName","format","toISOString","replace","String","getTime","console","warn","isBlobSchema","_this$serdeContext$ba","_this$serdeContext","serdeContext","base64Encoder","isListSchema","Array","isArray","buffer","item","getValueSchema","getMergedTraits","headerItem","flush","serialized","JSON","stringify","mediaType","intermediateValue","isJson","endsWith","from","httpHeader","_this$serdeContext$ba2","_this$serdeContext2","toString","isIdempotencyToken"],"sources":["/home/rcts/Email-differ/Frontend/node_modules/@smithy/core/dist-es/submodules/protocols/serde/ToStringShapeSerializer.js"],"sourcesContent":["import { NormalizedSchema } from \"@smithy/core/schema\";\nimport { dateToUtcString, generateIdempotencyToken, LazyJsonString, quoteHeader } from \"@smithy/core/serde\";\nimport { toBase64 } from \"@smithy/util-base64\";\nimport { SerdeContext } from \"../SerdeContext\";\nimport { determineTimestampFormat } from \"./determineTimestampFormat\";\nexport class ToStringShapeSerializer extends SerdeContext {\n    settings;\n    stringBuffer = \"\";\n    constructor(settings) {\n        super();\n        this.settings = settings;\n    }\n    write(schema, value) {\n        const ns = NormalizedSchema.of(schema);\n        switch (typeof value) {\n            case \"object\":\n                if (value === null) {\n                    this.stringBuffer = \"null\";\n                    return;\n                }\n                if (ns.isTimestampSchema()) {\n                    if (!(value instanceof Date)) {\n                        throw new Error(`@smithy/core/protocols - received non-Date value ${value} when schema expected Date in ${ns.getName(true)}`);\n                    }\n                    const format = determineTimestampFormat(ns, this.settings);\n                    switch (format) {\n                        case 5:\n                            this.stringBuffer = value.toISOString().replace(\".000Z\", \"Z\");\n                            break;\n                        case 6:\n                            this.stringBuffer = dateToUtcString(value);\n                            break;\n                        case 7:\n                            this.stringBuffer = String(value.getTime() / 1000);\n                            break;\n                        default:\n                            console.warn(\"Missing timestamp format, using epoch seconds\", value);\n                            this.stringBuffer = String(value.getTime() / 1000);\n                    }\n                    return;\n                }\n                if (ns.isBlobSchema() && \"byteLength\" in value) {\n                    this.stringBuffer = (this.serdeContext?.base64Encoder ?? toBase64)(value);\n                    return;\n                }\n                if (ns.isListSchema() && Array.isArray(value)) {\n                    let buffer = \"\";\n                    for (const item of value) {\n                        this.write([ns.getValueSchema(), ns.getMergedTraits()], item);\n                        const headerItem = this.flush();\n                        const serialized = ns.getValueSchema().isTimestampSchema() ? headerItem : quoteHeader(headerItem);\n                        if (buffer !== \"\") {\n                            buffer += \", \";\n                        }\n                        buffer += serialized;\n                    }\n                    this.stringBuffer = buffer;\n                    return;\n                }\n                this.stringBuffer = JSON.stringify(value, null, 2);\n                break;\n            case \"string\":\n                const mediaType = ns.getMergedTraits().mediaType;\n                let intermediateValue = value;\n                if (mediaType) {\n                    const isJson = mediaType === \"application/json\" || mediaType.endsWith(\"+json\");\n                    if (isJson) {\n                        intermediateValue = LazyJsonString.from(intermediateValue);\n                    }\n                    if (ns.getMergedTraits().httpHeader) {\n                        this.stringBuffer = (this.serdeContext?.base64Encoder ?? toBase64)(intermediateValue.toString());\n                        return;\n                    }\n                }\n                this.stringBuffer = value;\n                break;\n            default:\n                if (ns.isIdempotencyToken()) {\n                    this.stringBuffer = generateIdempotencyToken();\n                }\n                else {\n                    this.stringBuffer = String(value);\n                }\n        }\n    }\n    flush() {\n        const buffer = this.stringBuffer;\n        this.stringBuffer = \"\";\n        return buffer;\n    }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}