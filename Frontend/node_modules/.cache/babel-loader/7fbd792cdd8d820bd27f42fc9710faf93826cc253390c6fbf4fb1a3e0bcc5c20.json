{"ast":null,"code":"import _objectSpread from \"/home/rcts/Email-differ/Frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _defineProperty from \"/home/rcts/Email-differ/Frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport { NormalizedSchema, TypeRegistry } from \"@smithy/core/schema\";\nimport { decorateServiceException } from \"@smithy/smithy-client\";\nexport class ProtocolLib {\n  constructor() {\n    let queryCompat = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    _defineProperty(this, \"queryCompat\", void 0);\n    this.queryCompat = queryCompat;\n  }\n  resolveRestContentType(defaultContentType, inputSchema) {\n    const members = inputSchema.getMemberSchemas();\n    const httpPayloadMember = Object.values(members).find(m => {\n      return !!m.getMergedTraits().httpPayload;\n    });\n    if (httpPayloadMember) {\n      const mediaType = httpPayloadMember.getMergedTraits().mediaType;\n      if (mediaType) {\n        return mediaType;\n      } else if (httpPayloadMember.isStringSchema()) {\n        return \"text/plain\";\n      } else if (httpPayloadMember.isBlobSchema()) {\n        return \"application/octet-stream\";\n      } else {\n        return defaultContentType;\n      }\n    } else if (!inputSchema.isUnitSchema()) {\n      const hasBody = Object.values(members).find(m => {\n        const {\n          httpQuery,\n          httpQueryParams,\n          httpHeader,\n          httpLabel,\n          httpPrefixHeaders\n        } = m.getMergedTraits();\n        const noPrefixHeaders = httpPrefixHeaders === void 0;\n        return !httpQuery && !httpQueryParams && !httpHeader && !httpLabel && noPrefixHeaders;\n      });\n      if (hasBody) {\n        return defaultContentType;\n      }\n    }\n  }\n  async getErrorSchemaOrThrowBaseException(errorIdentifier, defaultNamespace, response, dataObject, metadata, getErrorSchema) {\n    let namespace = defaultNamespace;\n    let errorName = errorIdentifier;\n    if (errorIdentifier.includes(\"#\")) {\n      [namespace, errorName] = errorIdentifier.split(\"#\");\n    }\n    const errorMetadata = {\n      $metadata: metadata,\n      $fault: response.statusCode < 500 ? \"client\" : \"server\"\n    };\n    const registry = TypeRegistry.for(namespace);\n    try {\n      var _getErrorSchema;\n      const errorSchema = (_getErrorSchema = getErrorSchema === null || getErrorSchema === void 0 ? void 0 : getErrorSchema(registry, errorName)) !== null && _getErrorSchema !== void 0 ? _getErrorSchema : registry.getSchema(errorIdentifier);\n      return {\n        errorSchema,\n        errorMetadata\n      };\n    } catch (e) {\n      var _ref, _dataObject$message;\n      dataObject.message = (_ref = (_dataObject$message = dataObject.message) !== null && _dataObject$message !== void 0 ? _dataObject$message : dataObject.Message) !== null && _ref !== void 0 ? _ref : \"UnknownError\";\n      const synthetic = TypeRegistry.for(\"smithy.ts.sdk.synthetic.\" + namespace);\n      const baseExceptionSchema = synthetic.getBaseException();\n      if (baseExceptionSchema) {\n        var _synthetic$getErrorCt;\n        const ErrorCtor = (_synthetic$getErrorCt = synthetic.getErrorCtor(baseExceptionSchema)) !== null && _synthetic$getErrorCt !== void 0 ? _synthetic$getErrorCt : Error;\n        throw this.decorateServiceException(Object.assign(new ErrorCtor({\n          name: errorName\n        }), errorMetadata), dataObject);\n      }\n      throw this.decorateServiceException(Object.assign(new Error(errorName), errorMetadata), dataObject);\n    }\n  }\n  decorateServiceException(exception) {\n    let additions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    if (this.queryCompat) {\n      var _exception$Message, _ref2, _error$Error$message;\n      const msg = (_exception$Message = exception.Message) !== null && _exception$Message !== void 0 ? _exception$Message : additions.Message;\n      const error = decorateServiceException(exception, additions);\n      if (msg) {\n        error.message = msg;\n      }\n      error.Error = _objectSpread(_objectSpread({}, error.Error), {}, {\n        Type: error.Error.Type,\n        Code: error.Error.Code,\n        Message: (_ref2 = (_error$Error$message = error.Error.message) !== null && _error$Error$message !== void 0 ? _error$Error$message : error.Error.Message) !== null && _ref2 !== void 0 ? _ref2 : msg\n      });\n      const reqId = error.$metadata.requestId;\n      if (reqId) {\n        error.RequestId = reqId;\n      }\n      return error;\n    }\n    return decorateServiceException(exception, additions);\n  }\n  setQueryCompatError(output, response) {\n    var _response$headers;\n    const queryErrorHeader = (_response$headers = response.headers) === null || _response$headers === void 0 ? void 0 : _response$headers[\"x-amzn-query-error\"];\n    if (output !== undefined && queryErrorHeader != null) {\n      const [Code, Type] = queryErrorHeader.split(\";\");\n      const entries = Object.entries(output);\n      const Error = {\n        Code,\n        Type\n      };\n      Object.assign(output, Error);\n      for (const [k, v] of entries) {\n        Error[k === \"message\" ? \"Message\" : k] = v;\n      }\n      delete Error.__type;\n      output.Error = Error;\n    }\n  }\n  queryCompatOutput(queryCompatErrorData, errorData) {\n    if (queryCompatErrorData.Error) {\n      errorData.Error = queryCompatErrorData.Error;\n    }\n    if (queryCompatErrorData.Type) {\n      errorData.Type = queryCompatErrorData.Type;\n    }\n    if (queryCompatErrorData.Code) {\n      errorData.Code = queryCompatErrorData.Code;\n    }\n  }\n  findQueryCompatibleError(registry, errorName) {\n    try {\n      return registry.getSchema(errorName);\n    } catch (e) {\n      return registry.find(schema => {\n        var _NormalizedSchema$of$;\n        return ((_NormalizedSchema$of$ = NormalizedSchema.of(schema).getMergedTraits().awsQueryError) === null || _NormalizedSchema$of$ === void 0 ? void 0 : _NormalizedSchema$of$[0]) === errorName;\n      });\n    }\n  }\n}","map":{"version":3,"names":["NormalizedSchema","TypeRegistry","decorateServiceException","ProtocolLib","constructor","queryCompat","arguments","length","undefined","_defineProperty","resolveRestContentType","defaultContentType","inputSchema","members","getMemberSchemas","httpPayloadMember","Object","values","find","m","getMergedTraits","httpPayload","mediaType","isStringSchema","isBlobSchema","isUnitSchema","hasBody","httpQuery","httpQueryParams","httpHeader","httpLabel","httpPrefixHeaders","noPrefixHeaders","getErrorSchemaOrThrowBaseException","errorIdentifier","defaultNamespace","response","dataObject","metadata","getErrorSchema","namespace","errorName","includes","split","errorMetadata","$metadata","$fault","statusCode","registry","for","_getErrorSchema","errorSchema","getSchema","e","_ref","_dataObject$message","message","Message","synthetic","baseExceptionSchema","getBaseException","_synthetic$getErrorCt","ErrorCtor","getErrorCtor","Error","assign","name","exception","additions","_exception$Message","_ref2","_error$Error$message","msg","error","_objectSpread","Type","Code","reqId","requestId","RequestId","setQueryCompatError","output","_response$headers","queryErrorHeader","headers","entries","k","v","__type","queryCompatOutput","queryCompatErrorData","errorData","findQueryCompatibleError","schema","_NormalizedSchema$of$","of","awsQueryError"],"sources":["/home/rcts/Email-differ/Frontend/node_modules/@aws-sdk/core/dist-es/submodules/protocols/ProtocolLib.js"],"sourcesContent":["import { NormalizedSchema, TypeRegistry } from \"@smithy/core/schema\";\nimport { decorateServiceException } from \"@smithy/smithy-client\";\nexport class ProtocolLib {\n    queryCompat;\n    constructor(queryCompat = false) {\n        this.queryCompat = queryCompat;\n    }\n    resolveRestContentType(defaultContentType, inputSchema) {\n        const members = inputSchema.getMemberSchemas();\n        const httpPayloadMember = Object.values(members).find((m) => {\n            return !!m.getMergedTraits().httpPayload;\n        });\n        if (httpPayloadMember) {\n            const mediaType = httpPayloadMember.getMergedTraits().mediaType;\n            if (mediaType) {\n                return mediaType;\n            }\n            else if (httpPayloadMember.isStringSchema()) {\n                return \"text/plain\";\n            }\n            else if (httpPayloadMember.isBlobSchema()) {\n                return \"application/octet-stream\";\n            }\n            else {\n                return defaultContentType;\n            }\n        }\n        else if (!inputSchema.isUnitSchema()) {\n            const hasBody = Object.values(members).find((m) => {\n                const { httpQuery, httpQueryParams, httpHeader, httpLabel, httpPrefixHeaders } = m.getMergedTraits();\n                const noPrefixHeaders = httpPrefixHeaders === void 0;\n                return !httpQuery && !httpQueryParams && !httpHeader && !httpLabel && noPrefixHeaders;\n            });\n            if (hasBody) {\n                return defaultContentType;\n            }\n        }\n    }\n    async getErrorSchemaOrThrowBaseException(errorIdentifier, defaultNamespace, response, dataObject, metadata, getErrorSchema) {\n        let namespace = defaultNamespace;\n        let errorName = errorIdentifier;\n        if (errorIdentifier.includes(\"#\")) {\n            [namespace, errorName] = errorIdentifier.split(\"#\");\n        }\n        const errorMetadata = {\n            $metadata: metadata,\n            $fault: response.statusCode < 500 ? \"client\" : \"server\",\n        };\n        const registry = TypeRegistry.for(namespace);\n        try {\n            const errorSchema = getErrorSchema?.(registry, errorName) ?? registry.getSchema(errorIdentifier);\n            return { errorSchema, errorMetadata };\n        }\n        catch (e) {\n            dataObject.message = dataObject.message ?? dataObject.Message ?? \"UnknownError\";\n            const synthetic = TypeRegistry.for(\"smithy.ts.sdk.synthetic.\" + namespace);\n            const baseExceptionSchema = synthetic.getBaseException();\n            if (baseExceptionSchema) {\n                const ErrorCtor = synthetic.getErrorCtor(baseExceptionSchema) ?? Error;\n                throw this.decorateServiceException(Object.assign(new ErrorCtor({ name: errorName }), errorMetadata), dataObject);\n            }\n            throw this.decorateServiceException(Object.assign(new Error(errorName), errorMetadata), dataObject);\n        }\n    }\n    decorateServiceException(exception, additions = {}) {\n        if (this.queryCompat) {\n            const msg = exception.Message ?? additions.Message;\n            const error = decorateServiceException(exception, additions);\n            if (msg) {\n                error.message = msg;\n            }\n            error.Error = {\n                ...error.Error,\n                Type: error.Error.Type,\n                Code: error.Error.Code,\n                Message: error.Error.message ?? error.Error.Message ?? msg,\n            };\n            const reqId = error.$metadata.requestId;\n            if (reqId) {\n                error.RequestId = reqId;\n            }\n            return error;\n        }\n        return decorateServiceException(exception, additions);\n    }\n    setQueryCompatError(output, response) {\n        const queryErrorHeader = response.headers?.[\"x-amzn-query-error\"];\n        if (output !== undefined && queryErrorHeader != null) {\n            const [Code, Type] = queryErrorHeader.split(\";\");\n            const entries = Object.entries(output);\n            const Error = {\n                Code,\n                Type,\n            };\n            Object.assign(output, Error);\n            for (const [k, v] of entries) {\n                Error[k === \"message\" ? \"Message\" : k] = v;\n            }\n            delete Error.__type;\n            output.Error = Error;\n        }\n    }\n    queryCompatOutput(queryCompatErrorData, errorData) {\n        if (queryCompatErrorData.Error) {\n            errorData.Error = queryCompatErrorData.Error;\n        }\n        if (queryCompatErrorData.Type) {\n            errorData.Type = queryCompatErrorData.Type;\n        }\n        if (queryCompatErrorData.Code) {\n            errorData.Code = queryCompatErrorData.Code;\n        }\n    }\n    findQueryCompatibleError(registry, errorName) {\n        try {\n            return registry.getSchema(errorName);\n        }\n        catch (e) {\n            return registry.find((schema) => NormalizedSchema.of(schema).getMergedTraits().awsQueryError?.[0] === errorName);\n        }\n    }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}