{"ast":null,"code":"import _objectSpread from \"/home/rcts/Email-differ/Frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nexport function bucketEndpointMiddleware(options) {\n  return (next, context) => async args => {\n    if (options.bucketEndpoint) {\n      const endpoint = context.endpointV2;\n      if (endpoint) {\n        const bucket = args.input.Bucket;\n        if (typeof bucket === \"string\") {\n          try {\n            const bucketEndpointUrl = new URL(bucket);\n            context.endpointV2 = _objectSpread(_objectSpread({}, endpoint), {}, {\n              url: bucketEndpointUrl\n            });\n          } catch (e) {\n            var _context$logger;\n            const warning = \"@aws-sdk/middleware-sdk-s3: bucketEndpoint=true was set but Bucket=\".concat(bucket, \" could not be parsed as URL.\");\n            if (((_context$logger = context.logger) === null || _context$logger === void 0 || (_context$logger = _context$logger.constructor) === null || _context$logger === void 0 ? void 0 : _context$logger.name) === \"NoOpLogger\") {\n              console.warn(warning);\n            } else {\n              var _context$logger2, _context$logger2$warn;\n              (_context$logger2 = context.logger) === null || _context$logger2 === void 0 || (_context$logger2$warn = _context$logger2.warn) === null || _context$logger2$warn === void 0 || _context$logger2$warn.call(_context$logger2, warning);\n            }\n            throw e;\n          }\n        }\n      }\n    }\n    return next(args);\n  };\n}\nexport const bucketEndpointMiddlewareOptions = {\n  name: \"bucketEndpointMiddleware\",\n  override: true,\n  relation: \"after\",\n  toMiddleware: \"endpointV2Middleware\"\n};","map":{"version":3,"names":["bucketEndpointMiddleware","options","next","context","args","bucketEndpoint","endpoint","endpointV2","bucket","input","Bucket","bucketEndpointUrl","URL","_objectSpread","url","e","_context$logger","warning","concat","logger","constructor","name","console","warn","_context$logger2","_context$logger2$warn","call","bucketEndpointMiddlewareOptions","override","relation","toMiddleware"],"sources":["/home/rcts/Email-differ/Frontend/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/bucket-endpoint-middleware.js"],"sourcesContent":["export function bucketEndpointMiddleware(options) {\n    return (next, context) => async (args) => {\n        if (options.bucketEndpoint) {\n            const endpoint = context.endpointV2;\n            if (endpoint) {\n                const bucket = args.input.Bucket;\n                if (typeof bucket === \"string\") {\n                    try {\n                        const bucketEndpointUrl = new URL(bucket);\n                        context.endpointV2 = {\n                            ...endpoint,\n                            url: bucketEndpointUrl,\n                        };\n                    }\n                    catch (e) {\n                        const warning = `@aws-sdk/middleware-sdk-s3: bucketEndpoint=true was set but Bucket=${bucket} could not be parsed as URL.`;\n                        if (context.logger?.constructor?.name === \"NoOpLogger\") {\n                            console.warn(warning);\n                        }\n                        else {\n                            context.logger?.warn?.(warning);\n                        }\n                        throw e;\n                    }\n                }\n            }\n        }\n        return next(args);\n    };\n}\nexport const bucketEndpointMiddlewareOptions = {\n    name: \"bucketEndpointMiddleware\",\n    override: true,\n    relation: \"after\",\n    toMiddleware: \"endpointV2Middleware\",\n};\n"],"mappings":";AAAA,OAAO,SAASA,wBAAwBA,CAACC,OAAO,EAAE;EAC9C,OAAO,CAACC,IAAI,EAAEC,OAAO,KAAK,MAAOC,IAAI,IAAK;IACtC,IAAIH,OAAO,CAACI,cAAc,EAAE;MACxB,MAAMC,QAAQ,GAAGH,OAAO,CAACI,UAAU;MACnC,IAAID,QAAQ,EAAE;QACV,MAAME,MAAM,GAAGJ,IAAI,CAACK,KAAK,CAACC,MAAM;QAChC,IAAI,OAAOF,MAAM,KAAK,QAAQ,EAAE;UAC5B,IAAI;YACA,MAAMG,iBAAiB,GAAG,IAAIC,GAAG,CAACJ,MAAM,CAAC;YACzCL,OAAO,CAACI,UAAU,GAAAM,aAAA,CAAAA,aAAA,KACXP,QAAQ;cACXQ,GAAG,EAAEH;YAAiB,EACzB;UACL,CAAC,CACD,OAAOI,CAAC,EAAE;YAAA,IAAAC,eAAA;YACN,MAAMC,OAAO,yEAAAC,MAAA,CAAyEV,MAAM,iCAA8B;YAC1H,IAAI,EAAAQ,eAAA,GAAAb,OAAO,CAACgB,MAAM,cAAAH,eAAA,gBAAAA,eAAA,GAAdA,eAAA,CAAgBI,WAAW,cAAAJ,eAAA,uBAA3BA,eAAA,CAA6BK,IAAI,MAAK,YAAY,EAAE;cACpDC,OAAO,CAACC,IAAI,CAACN,OAAO,CAAC;YACzB,CAAC,MACI;cAAA,IAAAO,gBAAA,EAAAC,qBAAA;cACD,CAAAD,gBAAA,GAAArB,OAAO,CAACgB,MAAM,cAAAK,gBAAA,gBAAAC,qBAAA,GAAdD,gBAAA,CAAgBD,IAAI,cAAAE,qBAAA,eAApBA,qBAAA,CAAAC,IAAA,CAAAF,gBAAA,EAAuBP,OAAO,CAAC;YACnC;YACA,MAAMF,CAAC;UACX;QACJ;MACJ;IACJ;IACA,OAAOb,IAAI,CAACE,IAAI,CAAC;EACrB,CAAC;AACL;AACA,OAAO,MAAMuB,+BAA+B,GAAG;EAC3CN,IAAI,EAAE,0BAA0B;EAChCO,QAAQ,EAAE,IAAI;EACdC,QAAQ,EAAE,OAAO;EACjBC,YAAY,EAAE;AAClB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}