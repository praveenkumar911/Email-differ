{"ast":null,"code":"import _objectSpread from\"/home/rcts/Email-differ/Frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useMemo,useRef}from\"react\";import{useParams,useNavigate}from\"react-router-dom\";import{AppBar,Box,Typography,Button,Grid,Chip,TextField,Divider,CircularProgress,Snackbar,Alert}from\"@mui/material\";import orgimgfallback from\"../../assets/org_logo_fallback.png\";import SidebarSection from\"../../components/SidebarSection\";import FilterPanel from\"../../components/FilterPanel\";import PaginationBar from\"../../components/PaginationBar\";import{Loader,ErrorMessage}from\"../../components/Loader\";import headerImage from\"../../assets/header-background.png\";import DetailedCard from\"../../components/DetailedCard\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const BASE_API=process.env.REACT_APP_BASE_API;function normalizeProjects(rawProjects){return Array.isArray(rawProjects)?rawProjects.map(p=>{const domain=Array.isArray(p.domain)&&p.domain.length>0?p.domain:[\"General\"];return{project_id:p.project_id||p._id||\"\",key:p.project_id||p._id||\"\",projectName:p.projectName||\"Untitled Project\",description:p.description||\"\",githubUrl:p.githubUrl||\"\",domain,techStack:Array.isArray(p.techStack)?p.techStack:[],status:p.status?p.status.toLowerCase():\"unknown\",isOpen:p.status&&p.status.toLowerCase()===\"ongoing\",created_at:p.created_at?new Date(p.created_at).toLocaleDateString():\"-\",complexity:p.complexity||\"N/A\"};}):[];}function Repository(){var _repo$organization,_repo$organization3,_repo$organization4;const{repoId}=useParams();const navigate=useNavigate();const[repo,setRepo]=useState(null);const[projects,setProjects]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[isEditing,setIsEditing]=useState(false);const[tempName,setTempName]=useState(\"\");const[tempDescription,setTempDescription]=useState(\"\");const[tempDomains,setTempDomains]=useState(\"\");const[saving,setSaving]=useState(false);const[toast,setToast]=useState({open:false,message:\"\",severity:\"success\"});const[showOpenOnly,setShowOpenOnly]=useState(false);const[selectedTechs,setSelectedTechs]=useState([]);const[currentPage,setCurrentPage]=useState(1);const projectsPerPage=10;const[openFilters,setOpenFilters]=useState(false);const[openFiltersTech,setOpenFiltersTech]=useState(false);const detailedContainerRef=useRef(null);const scrollToTop=()=>{if(detailedContainerRef.current){detailedContainerRef.current.scrollTop=0;}};useEffect(()=>{scrollToTop();},[currentPage,selectedTechs,showOpenOnly]);const userData=JSON.parse(localStorage.getItem(\"authData\"))||{};const{orgId:userOrgId,token,permissions=[],roleId}=userData;const allowedRoles=[\"R002\",\"R003\",\"R005\"];const hasEditPermission=permissions.includes(\"P003\");const canEditRepo=hasEditPermission&&allowedRoles.includes(roleId)&&(roleId===\"R002\"||(repo===null||repo===void 0?void 0:(_repo$organization=repo.organization)===null||_repo$organization===void 0?void 0:_repo$organization.org_id)===userOrgId);useEffect(()=>{setLoading(true);setError(null);// Helper to extract last 2 URL segments and join with \"-\"\nconst getRepoSlugName=url=>{if(!url)return\"unknown-repo\";try{const parts=new URL(url).pathname.split(\"/\").filter(Boolean);const lastTwo=parts.slice(-2);return lastTwo.join(\"-\");}catch(e){return\"unknown-repo\";}};fetch(\"\".concat(BASE_API,\"/api/projects/repo-stats/\").concat(encodeURIComponent(repoId))).then(res=>{if(!res.ok)throw new Error(\"API error: \".concat(res.status));return res.json();}).then(json=>{const r=json.repo;const normalizedRepo={id:r._id,repoId:r.repoId,name:r.repoName||\"Untitled Repository\",repoDescription:r.repoDescription||\"\",description:r.repoDescription||\"\",domains:Array.isArray(r.domains)?r.domains:[],organization:r.organization||null,slugName:getRepoSlugName(r.repoUrl)//the new name that we derived from url\n};setRepo(normalizedRepo);setProjects(normalizeProjects(json.projects));setTempName(normalizedRepo.name);setTempDescription(normalizedRepo.repoDescription===\"No description available\"?\"\":normalizedRepo.repoDescription||\"\");setTempDomains(normalizedRepo.domains.length===1&&normalizedRepo.domains[0]===\"General\"?\"\":normalizedRepo.domains.join(\", \"));setLoading(false);}).catch(err=>{console.error(\"Failed to load repository:\",err);setError(err.message||\"Failed to load repository\");setLoading(false);});setIsEditing(false);setCurrentPage(1);},[repoId]);const allRepoTechs=useMemo(()=>{const techs=projects.flatMap(proj=>Array.isArray(proj.techStack)?proj.techStack:[]);return Array.from(new Set(techs)).sort((a,b)=>a.localeCompare(b));},[projects]);const filteredProjects=useMemo(()=>{return projects.filter(project=>{const isOpenAllowed=!showOpenOnly||project.isOpen;const matchesTech=selectedTechs.length===0||selectedTechs.every(tech=>project.techStack.map(t=>t.toLowerCase()).includes(tech.toLowerCase()));return isOpenAllowed&&matchesTech;});},[projects,showOpenOnly,selectedTechs]);const totalPages=Math.ceil(filteredProjects.length/projectsPerPage);const startIndex=(currentPage-1)*projectsPerPage;const currentProjects=filteredProjects.slice(startIndex,startIndex+projectsPerPage);const handleRepoOrgClick=()=>{var _repo$organization2;if(repo!==null&&repo!==void 0&&(_repo$organization2=repo.organization)!==null&&_repo$organization2!==void 0&&_repo$organization2.org_id){navigate(\"/organisation/\".concat(repo.organization.org_id));}};const handleEdit=()=>{if(!canEditRepo){setToast({open:true,message:\"You do not have permission to edit this repository.\",severity:\"error\"});return;}setIsEditing(true);};const handleSave=async()=>{if(!canEditRepo||saving)return;setSaving(true);const cleanDomains=tempDomains.split(\",\").map(d=>d.trim()).filter(Boolean);const payload={repoName:tempName.trim(),domains:cleanDomains.length>0?cleanDomains:[],repoDescription:tempDescription.trim()===\"\"?null:tempDescription.trim()};try{const response=await fetch(\"\".concat(BASE_API,\"/api/projects/edit/repo-stats/\").concat(encodeURIComponent(repoId)),{method:\"PUT\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(token)},body:JSON.stringify(payload)});if(!response.ok){const errText=await response.text();throw new Error(errText||\"Failed to update repository\");}setRepo(prev=>_objectSpread(_objectSpread({},prev),{},{name:payload.repoName,repoDescription:payload.repoDescription||\"No description available\",description:payload.repoDescription||\"No description available\",domains:payload.domains.length>0?payload.domains:[\"General\"]}));setIsEditing(false);setToast({open:true,message:\"Repository updated successfully!\",severity:\"success\"});}catch(err){console.error(\"Save failed:\",err);setToast({open:true,message:err.message||\"Failed to save changes\",severity:\"error\"});}finally{setSaving(false);}};const handleDiscard=()=>{setTempName(repo.name);setTempDescription(repo.repoDescription===\"No description available\"?\"\":repo.repoDescription||\"\");setTempDomains(repo.domains.length===1&&repo.domains[0]===\"General\"?\"\":repo.domains.join(\", \"));setIsEditing(false);};const handleCloseToast=()=>{setToast(prev=>_objectSpread(_objectSpread({},prev),{},{open:false}));};if(loading)return/*#__PURE__*/_jsx(Loader,{});if(error||!repo)return/*#__PURE__*/_jsxs(Box,{sx:{p:3,display:\"flex\",flexDirection:\"column\",justifyContent:\"center\",alignItems:\"center\",width:\"100%\"},children:[/*#__PURE__*/_jsx(ErrorMessage,{error:error||\"Repository not found\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",sx:{mt:2},onClick:()=>navigate(\"/projects\"),children:\"Back to Projects\"})]});return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"title\",{children:\"Repository - Badal\"}),/*#__PURE__*/_jsxs(Box,{sx:{width:\"100%\",boxSizing:\"border-box\"},children:[/*#__PURE__*/_jsx(AppBar,{position:\"static\",sx:{height:80,backgroundImage:\"url(\".concat(headerImage,\")\"),backgroundSize:\"cover\",backgroundPosition:\"center\"},children:/*#__PURE__*/_jsx(Box,{sx:{height:\"100%\",display:\"flex\",alignItems:\"center\",px:3},children:/*#__PURE__*/_jsx(Typography,{variant:\"mainHeading\",sx:{color:\"#fff\"},children:repo.slugName})})}),/*#__PURE__*/_jsxs(Box,{sx:{p:{xs:1,md:3}},children:[/*#__PURE__*/_jsxs(Box,{sx:{display:\"flex\",flexDirection:{xs:\"column-reverse\",md:\"row\"},gap:3,mb:4},children:[/*#__PURE__*/_jsx(Box,{sx:{flexGrow:1,width:{xs:\"100%\",md:\"70%\"}},children:isEditing?/*#__PURE__*/_jsxs(Box,{sx:{display:\"flex\",flexDirection:\"column\",gap:2.5},children:[/*#__PURE__*/_jsx(TextField,{label:\"Repository Name\",fullWidth:true,value:tempName,onChange:e=>setTempName(e.target.value),disabled:saving}),/*#__PURE__*/_jsx(TextField,{label:\"Description\",multiline:true,minRows:5,fullWidth:true,value:tempDescription,onChange:e=>setTempDescription(e.target.value),disabled:saving}),/*#__PURE__*/_jsx(TextField,{label:\"Domains (comma-separated)\",fullWidth:true,value:tempDomains,onChange:e=>setTempDomains(e.target.value),placeholder:\"e.g. AI, Cybersecurity, Backend\",disabled:saving})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"cardLabel\",children:\"Description\"}),/*#__PURE__*/_jsx(Typography,{sx:{mb:2,whiteSpace:\"pre-line\"},children:repo.repoDescription||\"No description provided\"}),/*#__PURE__*/_jsx(Typography,{variant:\"cardLabel\",children:\"Domains\"}),/*#__PURE__*/_jsx(Box,{sx:{display:\"flex\",gap:1,flexWrap:\"wrap\",mt:1},children:repo.domains.length>0?/*#__PURE__*/_jsxs(_Fragment,{children:[repo.domains.slice(0,5).map((d,i)=>/*#__PURE__*/_jsx(Chip,{label:d,size:\"small\",variant:\"outlined\"},i)),repo.domains.length>5&&/*#__PURE__*/_jsx(Chip,{label:\"+\".concat(repo.domains.length-5,\" more\"),size:\"small\",variant:\"outlined\"})]}):/*#__PURE__*/_jsx(Chip,{label:\"General\",size:\"small\",variant:\"outlined\"})})]})}),/*#__PURE__*/_jsxs(Box,{sx:{width:{xs:\"100%\",md:\"30%\"},textAlign:\"center\"},children:[/*#__PURE__*/_jsxs(Box,{onClick:handleRepoOrgClick,sx:{height:200,backgroundColor:\"var(--color-bg-pink)\",borderRadius:2,display:\"flex\",alignItems:\"center\",p:2,mb:2,gap:2,boxSizing:\"border-box\",cursor:\"pointer\",transition:\"0.2s\",\"&:hover\":{transform:\"scale(1.01)\",boxShadow:\"0 0 10px rgba(0,0,0,0.15)\"}},children:[/*#__PURE__*/_jsx(\"img\",{src:((_repo$organization3=repo.organization)===null||_repo$organization3===void 0?void 0:_repo$organization3.orgLogo)||orgimgfallback,alt:\"org logo\",style:{width:\"40%\",maxWidth:120,borderRadius:8,objectFit:\"contain\"}}),/*#__PURE__*/_jsx(Box,{sx:{textAlign:\"left\",flexGrow:1,backgroundColor:\"#fff\",borderRadius:2,p:2,height:\"100%\",display:\"flex\",alignItems:\"center\",boxShadow:\"inset 0 1px 3px rgba(0,0,0,0.1)\"},children:/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",sx:{overflow:\"hidden\",display:\"-webkit-box\",WebkitLineClamp:5,WebkitBoxOrient:\"vertical\",lineHeight:1.4},children:(repo===null||repo===void 0?void 0:(_repo$organization4=repo.organization)===null||_repo$organization4===void 0?void 0:_repo$organization4.description)||\"No organization description available\"})})]}),canEditRepo&&!isEditing&&/*#__PURE__*/_jsx(Chip,{label:\"Edit repository details\",onClick:handleEdit}),canEditRepo&&isEditing&&/*#__PURE__*/_jsxs(Box,{sx:{display:\"flex\",gap:1,justifyContent:\"center\",flexWrap:\"wrap\"},children:[/*#__PURE__*/_jsx(Chip,{label:saving?\"Saving...\":\"Save\",color:\"success\",onClick:handleSave,clickable:!saving,disabled:saving,icon:saving?/*#__PURE__*/_jsx(CircularProgress,{size:14,color:\"inherit\"}):undefined}),/*#__PURE__*/_jsx(Chip,{label:\"Discard\",color:\"error\",onClick:handleDiscard,clickable:true,disabled:saving})]})]})]}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,sx:{display:\"grid\",gridTemplateColumns:{xs:\"1fr\",md:\"1fr 4fr\"}},children:[/*#__PURE__*/_jsx(Box,{children:/*#__PURE__*/_jsxs(Box,{sx:{border:\"2px solid #000\",borderRadius:\"12px\",px:1,maxHeight:\"60vh\",overflow:\"auto\"},children:[/*#__PURE__*/_jsx(Divider,{sx:{my:1}}),/*#__PURE__*/_jsx(SidebarSection,{title:/*#__PURE__*/_jsx(Typography,{variant:\"sideSectionTitle\",children:\"Filter Projects\"}),open:openFilters,toggleOpen:()=>setOpenFilters(!openFilters),children:/*#__PURE__*/_jsx(FilterPanel,{switchFilters:[{label:\"Open Projects Only\",checked:showOpenOnly,name:\"open\"}],onSwitchChange:(name,value)=>name===\"open\"&&setShowOpenOnly(value)})}),/*#__PURE__*/_jsx(SidebarSection,{title:/*#__PURE__*/_jsx(Typography,{variant:\"sideSectionTitle\",children:\"Tech Need\"}),open:openFiltersTech,toggleOpen:()=>setOpenFiltersTech(!openFiltersTech),children:/*#__PURE__*/_jsx(FilterPanel,{switchFilters:allRepoTechs.map(tech=>({label:tech,checked:selectedTechs.includes(tech),name:tech})),onSwitchChange:(name,checked)=>{setSelectedTechs(prev=>checked?[...prev,name]:prev.filter(t=>t!==name));setCurrentPage(1);}})})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:9,children:/*#__PURE__*/_jsxs(Box,{sx:{flex:1,py:2,height:\"calc(100vh - 150px)\",maxHeight:\"calc(100vh - 150px)\",boxSizing:\"border-box\",border:\"2px solid #000\",borderRadius:\"12px\",boxShadow:\"3px 3px 0 #000\",overflowY:\"hidden\",\"&::-webkit-scrollbar\":{display:\"none\"},msOverflowStyle:\"none\",scrollbarWidth:\"none\",width:\"100%\"},children:[/*#__PURE__*/_jsx(Typography,{variant:\"tableTitle\",gutterBottom:true,sx:{px:2,display:\"flex\",alignItems:\"center\",gap:1},children:\"Projects\"}),/*#__PURE__*/_jsx(Box,{sx:{overflow:\"auto\",boxSizing:\"border-box\",\"&::-webkit-scrollbar\":{display:\"none\"}},children:currentProjects.length===0?/*#__PURE__*/_jsx(Box,{sx:{height:\"100vh\",maxHeight:\"calc(100vh - 260px)\",display:\"flex\",justifyContent:\"center\",alignItems:\"center\",px:2},children:/*#__PURE__*/_jsx(Typography,{variant:\"noticeText\",children:\"No Projects match the current filters. (Try resetting your filters)\"})}):/*#__PURE__*/_jsx(Box// ref={detailedContainerRef}\n,{sx:{// height: \"100vh\",\nmaxHeight:\"calc(100vh - 260px)\",overflow:\"auto\",\"&::-webkit-scrollbar\":{display:\"none\"},msOverflowStyle:\"none\",scrollbarWidth:\"none\",mx:1},children:/*#__PURE__*/_jsx(DetailedCard,{data:currentProjects,renderConfig:proj=>({key:proj.key,title:proj.projectName,iconName:proj.githubUrl?\"GitHub\":null,secondaryLabel:\"Creation Date:\",secondaryValue:proj.created_at,description:proj.description,items:[{label:\"Domain:\",value:proj.domain,type:\"chip\"},{label:\"Complexity:\",value:proj.complexity,type:\"chip\"},{label:\"Tech Need:\",value:proj.techStack,type:\"chip\"},{label:\"Status:\",value:proj.status,type:\"text\"}],onClick:proj.githubUrl?()=>window.open(proj.githubUrl,\"_blank\",\"noopener,noreferrer\"):undefined})})})}),/*#__PURE__*/_jsx(PaginationBar,{totalPages:totalPages,currentPage:currentPage,onPageChange:(_,page)=>setCurrentPage(page)})]})})]})]})]}),/*#__PURE__*/_jsx(Snackbar,{open:toast.open,autoHideDuration:4000,onClose:handleCloseToast,anchorOrigin:{vertical:\"bottom\",horizontal:\"center\"},children:/*#__PURE__*/_jsx(Alert,{onClose:handleCloseToast,severity:toast.severity,variant:\"filled\",children:toast.message})})]});}export default Repository;","map":{"version":3,"names":["React","useState","useEffect","useMemo","useRef","useParams","useNavigate","AppBar","Box","Typography","Button","Grid","Chip","TextField","Divider","CircularProgress","Snackbar","Alert","orgimgfallback","SidebarSection","FilterPanel","PaginationBar","Loader","ErrorMessage","headerImage","DetailedCard","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","BASE_API","process","env","REACT_APP_BASE_API","normalizeProjects","rawProjects","Array","isArray","map","p","domain","length","project_id","_id","key","projectName","description","githubUrl","techStack","status","toLowerCase","isOpen","created_at","Date","toLocaleDateString","complexity","Repository","_repo$organization","_repo$organization3","_repo$organization4","repoId","navigate","repo","setRepo","projects","setProjects","loading","setLoading","error","setError","isEditing","setIsEditing","tempName","setTempName","tempDescription","setTempDescription","tempDomains","setTempDomains","saving","setSaving","toast","setToast","open","message","severity","showOpenOnly","setShowOpenOnly","selectedTechs","setSelectedTechs","currentPage","setCurrentPage","projectsPerPage","openFilters","setOpenFilters","openFiltersTech","setOpenFiltersTech","detailedContainerRef","scrollToTop","current","scrollTop","userData","JSON","parse","localStorage","getItem","orgId","userOrgId","token","permissions","roleId","allowedRoles","hasEditPermission","includes","canEditRepo","organization","org_id","getRepoSlugName","url","parts","URL","pathname","split","filter","Boolean","lastTwo","slice","join","e","fetch","concat","encodeURIComponent","then","res","ok","Error","json","r","normalizedRepo","id","name","repoName","repoDescription","domains","slugName","repoUrl","catch","err","console","allRepoTechs","techs","flatMap","proj","from","Set","sort","a","b","localeCompare","filteredProjects","project","isOpenAllowed","matchesTech","every","tech","t","totalPages","Math","ceil","startIndex","currentProjects","handleRepoOrgClick","_repo$organization2","handleEdit","handleSave","cleanDomains","d","trim","payload","response","method","headers","Authorization","body","stringify","errText","text","prev","_objectSpread","handleDiscard","handleCloseToast","sx","display","flexDirection","justifyContent","alignItems","width","children","variant","mt","onClick","boxSizing","position","height","backgroundImage","backgroundSize","backgroundPosition","px","color","xs","md","gap","mb","flexGrow","label","fullWidth","value","onChange","target","disabled","multiline","minRows","placeholder","whiteSpace","flexWrap","i","size","textAlign","backgroundColor","borderRadius","cursor","transition","transform","boxShadow","src","orgLogo","alt","style","maxWidth","objectFit","overflow","WebkitLineClamp","WebkitBoxOrient","lineHeight","clickable","icon","undefined","container","spacing","gridTemplateColumns","border","maxHeight","my","title","toggleOpen","switchFilters","checked","onSwitchChange","item","flex","py","overflowY","msOverflowStyle","scrollbarWidth","gutterBottom","mx","data","renderConfig","iconName","secondaryLabel","secondaryValue","items","type","window","onPageChange","_","page","autoHideDuration","onClose","anchorOrigin","vertical","horizontal"],"sources":["/home/rcts/Email-differ/Frontend/src/pages/Repository/Repository.jsx"],"sourcesContent":["import React, { useState, useEffect, useMemo, useRef } from \"react\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\nimport {\r\n  AppBar,\r\n  Box,\r\n  Typography,\r\n  Button,\r\n  Grid,\r\n  Chip,\r\n  TextField,\r\n  Divider,\r\n  CircularProgress,\r\n  Snackbar,\r\n  Alert,\r\n} from \"@mui/material\";\r\nimport orgimgfallback from \"../../assets/org_logo_fallback.png\";\r\nimport SidebarSection from \"../../components/SidebarSection\";\r\nimport FilterPanel from \"../../components/FilterPanel\";\r\nimport PaginationBar from \"../../components/PaginationBar\";\r\nimport { Loader, ErrorMessage } from \"../../components/Loader\";\r\nimport headerImage from \"../../assets/header-background.png\";\r\nimport DetailedCard from \"../../components/DetailedCard\";\r\n\r\nconst BASE_API = process.env.REACT_APP_BASE_API;\r\n\r\nfunction normalizeProjects(rawProjects) {\r\n  return Array.isArray(rawProjects)\r\n    ? rawProjects.map((p) => {\r\n        const domain =\r\n          Array.isArray(p.domain) && p.domain.length > 0\r\n            ? p.domain\r\n            : [\"General\"];\r\n\r\n        return {\r\n          project_id: p.project_id || p._id || \"\",\r\n          key: p.project_id || p._id || \"\",\r\n          projectName: p.projectName || \"Untitled Project\",\r\n          description: p.description || \"\",\r\n          githubUrl: p.githubUrl || \"\",\r\n          domain,\r\n          techStack: Array.isArray(p.techStack) ? p.techStack : [],\r\n          status: p.status ? p.status.toLowerCase() : \"unknown\",\r\n          isOpen: p.status && p.status.toLowerCase() === \"ongoing\",\r\n          created_at: p.created_at\r\n            ? new Date(p.created_at).toLocaleDateString()\r\n            : \"-\",\r\n          complexity: p.complexity || \"N/A\",\r\n        };\r\n      })\r\n    : [];\r\n}\r\n\r\nfunction Repository() {\r\n  const { repoId } = useParams();\r\n  const navigate = useNavigate();\r\n\r\n  const [repo, setRepo] = useState(null);\r\n  const [projects, setProjects] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [tempName, setTempName] = useState(\"\");\r\n  const [tempDescription, setTempDescription] = useState(\"\");\r\n  const [tempDomains, setTempDomains] = useState(\"\");\r\n\r\n  const [saving, setSaving] = useState(false);\r\n\r\n  const [toast, setToast] = useState({\r\n    open: false,\r\n    message: \"\",\r\n    severity: \"success\",\r\n  });\r\n\r\n  const [showOpenOnly, setShowOpenOnly] = useState(false);\r\n  const [selectedTechs, setSelectedTechs] = useState([]);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const projectsPerPage = 10;\r\n\r\n  const [openFilters, setOpenFilters] = useState(false);\r\n  const [openFiltersTech, setOpenFiltersTech] = useState(false);\r\n\r\n  const detailedContainerRef = useRef(null);\r\n\r\n  const scrollToTop = () => {\r\n    if (detailedContainerRef.current) {\r\n      detailedContainerRef.current.scrollTop = 0;\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    scrollToTop();\r\n  }, [currentPage, selectedTechs, showOpenOnly]);\r\n\r\n  const userData = JSON.parse(localStorage.getItem(\"authData\")) || {};\r\n  const { orgId: userOrgId, token, permissions = [], roleId } = userData;\r\n\r\n  const allowedRoles = [\"R002\", \"R003\", \"R005\"];\r\n  const hasEditPermission = permissions.includes(\"P003\");\r\n\r\n  const canEditRepo =\r\n    hasEditPermission &&\r\n    allowedRoles.includes(roleId) &&\r\n    (roleId === \"R002\" || repo?.organization?.org_id === userOrgId);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    // Helper to extract last 2 URL segments and join with \"-\"\r\n    const getRepoSlugName = (url) => {\r\n      if (!url) return \"unknown-repo\";\r\n      try {\r\n        const parts = new URL(url).pathname.split(\"/\").filter(Boolean);\r\n        const lastTwo = parts.slice(-2);\r\n        return lastTwo.join(\"-\");\r\n      } catch (e) {\r\n        return \"unknown-repo\";\r\n      }\r\n    };\r\n\r\n    fetch(`${BASE_API}/api/projects/repo-stats/${encodeURIComponent(repoId)}`)\r\n      .then((res) => {\r\n        if (!res.ok) throw new Error(`API error: ${res.status}`);\r\n        return res.json();\r\n      })\r\n      .then((json) => {\r\n        const r = json.repo;\r\n\r\n        const normalizedRepo = {\r\n          id: r._id,\r\n          repoId: r.repoId,\r\n          name: r.repoName || \"Untitled Repository\",\r\n          repoDescription: r.repoDescription || \"\",\r\n          description: r.repoDescription || \"\",\r\n          domains: Array.isArray(r.domains) ? r.domains : [],\r\n          organization: r.organization || null,\r\n          slugName: getRepoSlugName(r.repoUrl), //the new name that we derived from url\r\n        };\r\n        setRepo(normalizedRepo);\r\n        setProjects(normalizeProjects(json.projects));\r\n\r\n        setTempName(normalizedRepo.name);\r\n        setTempDescription(\r\n          normalizedRepo.repoDescription === \"No description available\"\r\n            ? \"\"\r\n            : normalizedRepo.repoDescription || \"\"\r\n        );\r\n        setTempDomains(\r\n          normalizedRepo.domains.length === 1 &&\r\n            normalizedRepo.domains[0] === \"General\"\r\n            ? \"\"\r\n            : normalizedRepo.domains.join(\", \")\r\n        );\r\n\r\n        setLoading(false);\r\n      })\r\n      .catch((err) => {\r\n        console.error(\"Failed to load repository:\", err);\r\n        setError(err.message || \"Failed to load repository\");\r\n        setLoading(false);\r\n      });\r\n\r\n    setIsEditing(false);\r\n    setCurrentPage(1);\r\n  }, [repoId]);\r\n\r\n  const allRepoTechs = useMemo(() => {\r\n    const techs = projects.flatMap((proj) =>\r\n      Array.isArray(proj.techStack) ? proj.techStack : []\r\n    );\r\n    return Array.from(new Set(techs)).sort((a, b) => a.localeCompare(b));\r\n  }, [projects]);\r\n\r\n  const filteredProjects = useMemo(() => {\r\n    return projects.filter((project) => {\r\n      const isOpenAllowed = !showOpenOnly || project.isOpen;\r\n\r\n      const matchesTech =\r\n        selectedTechs.length === 0 ||\r\n        selectedTechs.every((tech) =>\r\n          project.techStack\r\n            .map((t) => t.toLowerCase())\r\n            .includes(tech.toLowerCase())\r\n        );\r\n\r\n      return isOpenAllowed && matchesTech;\r\n    });\r\n  }, [projects, showOpenOnly, selectedTechs]);\r\n\r\n  const totalPages = Math.ceil(filteredProjects.length / projectsPerPage);\r\n  const startIndex = (currentPage - 1) * projectsPerPage;\r\n  const currentProjects = filteredProjects.slice(\r\n    startIndex,\r\n    startIndex + projectsPerPage\r\n  );\r\n\r\n  const handleRepoOrgClick = () => {\r\n    if (repo?.organization?.org_id) {\r\n      navigate(`/organisation/${repo.organization.org_id}`);\r\n    }\r\n  };\r\n\r\n  const handleEdit = () => {\r\n    if (!canEditRepo) {\r\n      setToast({\r\n        open: true,\r\n        message: \"You do not have permission to edit this repository.\",\r\n        severity: \"error\",\r\n      });\r\n      return;\r\n    }\r\n    setIsEditing(true);\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    if (!canEditRepo || saving) return;\r\n\r\n    setSaving(true);\r\n\r\n    const cleanDomains = tempDomains\r\n      .split(\",\")\r\n      .map((d) => d.trim())\r\n      .filter(Boolean);\r\n\r\n    const payload = {\r\n      repoName: tempName.trim(),\r\n      domains: cleanDomains.length > 0 ? cleanDomains : [],\r\n      repoDescription:\r\n        tempDescription.trim() === \"\" ? null : tempDescription.trim(),\r\n    };\r\n\r\n    try {\r\n      const response = await fetch(\r\n        `${BASE_API}/api/projects/edit/repo-stats/${encodeURIComponent(\r\n          repoId\r\n        )}`,\r\n        {\r\n          method: \"PUT\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n          body: JSON.stringify(payload),\r\n        }\r\n      );\r\n\r\n      if (!response.ok) {\r\n        const errText = await response.text();\r\n        throw new Error(errText || \"Failed to update repository\");\r\n      }\r\n\r\n      setRepo((prev) => ({\r\n        ...prev,\r\n        name: payload.repoName,\r\n        repoDescription: payload.repoDescription || \"No description available\",\r\n        description: payload.repoDescription || \"No description available\",\r\n        domains: payload.domains.length > 0 ? payload.domains : [\"General\"],\r\n      }));\r\n\r\n      setIsEditing(false);\r\n      setToast({\r\n        open: true,\r\n        message: \"Repository updated successfully!\",\r\n        severity: \"success\",\r\n      });\r\n    } catch (err) {\r\n      console.error(\"Save failed:\", err);\r\n      setToast({\r\n        open: true,\r\n        message: err.message || \"Failed to save changes\",\r\n        severity: \"error\",\r\n      });\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  const handleDiscard = () => {\r\n    setTempName(repo.name);\r\n    setTempDescription(\r\n      repo.repoDescription === \"No description available\"\r\n        ? \"\"\r\n        : repo.repoDescription || \"\"\r\n    );\r\n    setTempDomains(\r\n      repo.domains.length === 1 && repo.domains[0] === \"General\"\r\n        ? \"\"\r\n        : repo.domains.join(\", \")\r\n    );\r\n    setIsEditing(false);\r\n  };\r\n\r\n  const handleCloseToast = () => {\r\n    setToast((prev) => ({ ...prev, open: false }));\r\n  };\r\n\r\n  if (loading) return <Loader />;\r\n  if (error || !repo)\r\n    return (\r\n      <Box\r\n        sx={{\r\n          p: 3,\r\n          display: \"flex\",\r\n          flexDirection: \"column\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n          width: \"100%\",\r\n        }}\r\n      >\r\n        <ErrorMessage error={error || \"Repository not found\"} />\r\n        <Button\r\n          variant=\"contained\"\r\n          sx={{ mt: 2 }}\r\n          onClick={() => navigate(\"/projects\")}\r\n        >\r\n          Back to Projects\r\n        </Button>\r\n      </Box>\r\n    );\r\n\r\n  return (\r\n    <>\r\n      <title>Repository - Badal</title>\r\n      <Box sx={{ width: \"100%\", boxSizing: \"border-box\" }}>\r\n        <AppBar\r\n          position=\"static\"\r\n          sx={{\r\n            height: 80,\r\n            backgroundImage: `url(${headerImage})`,\r\n            backgroundSize: \"cover\",\r\n            backgroundPosition: \"center\",\r\n          }}\r\n        >\r\n          <Box\r\n            sx={{\r\n              height: \"100%\",\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              px: 3,\r\n            }}\r\n          >\r\n            <Typography variant=\"mainHeading\" sx={{ color: \"#fff\" }}>\r\n              {repo.slugName}\r\n            </Typography>\r\n          </Box>\r\n        </AppBar>\r\n\r\n        <Box\r\n          sx={{\r\n            p: { xs: 1, md: 3 },\r\n          }}\r\n        >\r\n          <Box\r\n            sx={{\r\n              display: \"flex\",\r\n              flexDirection: { xs: \"column-reverse\", md: \"row\" },\r\n              gap: 3,\r\n              mb: 4,\r\n            }}\r\n          >\r\n            <Box sx={{ flexGrow: 1, width: { xs: \"100%\", md: \"70%\" } }}>\r\n              {isEditing ? (\r\n                <Box\r\n                  sx={{ display: \"flex\", flexDirection: \"column\", gap: 2.5 }}\r\n                >\r\n                  <TextField\r\n                    label=\"Repository Name\"\r\n                    fullWidth\r\n                    value={tempName}\r\n                    onChange={(e) => setTempName(e.target.value)}\r\n                    disabled={saving}\r\n                  />\r\n                  <TextField\r\n                    label=\"Description\"\r\n                    multiline\r\n                    minRows={5}\r\n                    fullWidth\r\n                    value={tempDescription}\r\n                    onChange={(e) => setTempDescription(e.target.value)}\r\n                    disabled={saving}\r\n                  />\r\n                  <TextField\r\n                    label=\"Domains (comma-separated)\"\r\n                    fullWidth\r\n                    value={tempDomains}\r\n                    onChange={(e) => setTempDomains(e.target.value)}\r\n                    placeholder=\"e.g. AI, Cybersecurity, Backend\"\r\n                    disabled={saving}\r\n                  />\r\n                </Box>\r\n              ) : (\r\n                <>\r\n                  <Typography variant=\"cardLabel\">Description</Typography>\r\n                  <Typography sx={{ mb: 2, whiteSpace: \"pre-line\" }}>\r\n                    {repo.repoDescription || \"No description provided\"}\r\n                  </Typography>\r\n                  <Typography variant=\"cardLabel\">Domains</Typography>\r\n                  <Box\r\n                    sx={{ display: \"flex\", gap: 1, flexWrap: \"wrap\", mt: 1 }}\r\n                  >\r\n                    {repo.domains.length > 0 ? (\r\n                      <>\r\n                        {repo.domains.slice(0, 5).map((d, i) => (\r\n                          <Chip\r\n                            key={i}\r\n                            label={d}\r\n                            size=\"small\"\r\n                            variant=\"outlined\"\r\n                          />\r\n                        ))}\r\n\r\n                        {repo.domains.length > 5 && (\r\n                          <Chip\r\n                            label={`+${repo.domains.length - 5} more`}\r\n                            size=\"small\"\r\n                            variant=\"outlined\"\r\n                          />\r\n                        )}\r\n                      </>\r\n                    ) : (\r\n                      <Chip label=\"General\" size=\"small\" variant=\"outlined\" />\r\n                    )}\r\n                  </Box>\r\n                </>\r\n              )}\r\n            </Box>\r\n\r\n            {/* Right: Org Image + Edit Controls (Same as Organisation page) */}\r\n            {/* Right Column: Logo + Org Description + Edit */}\r\n            <Box sx={{ width: { xs: \"100%\", md: \"30%\" }, textAlign: \"center\" }}>\r\n              <Box\r\n                onClick={handleRepoOrgClick}\r\n                sx={{\r\n                  height: 200,\r\n                  backgroundColor: \"var(--color-bg-pink)\",\r\n                  borderRadius: 2,\r\n                  display: \"flex\",\r\n                  alignItems: \"center\",\r\n                  p: 2,\r\n                  mb: 2,\r\n                  gap: 2,\r\n                  boxSizing: \"border-box\",\r\n                  cursor: \"pointer\",\r\n                  transition: \"0.2s\",\r\n                  \"&:hover\": {\r\n                    transform: \"scale(1.01)\",\r\n                    boxShadow: \"0 0 10px rgba(0,0,0,0.15)\",\r\n                  },\r\n                }}\r\n              >\r\n                <img\r\n                  src={repo.organization?.orgLogo || orgimgfallback}\r\n                  alt=\"org logo\"\r\n                  style={{\r\n                    width: \"40%\",\r\n                    maxWidth: 120,\r\n                    borderRadius: 8,\r\n                    objectFit: \"contain\",\r\n                  }}\r\n                />\r\n                <Box\r\n                  sx={{\r\n                    textAlign: \"left\",\r\n                    flexGrow: 1,\r\n                    backgroundColor: \"#fff\",\r\n                    borderRadius: 2,\r\n                    p: 2,\r\n                    height: \"100%\",\r\n                    display: \"flex\",\r\n                    alignItems: \"center\",\r\n                    boxShadow: \"inset 0 1px 3px rgba(0,0,0,0.1)\",\r\n                  }}\r\n                >\r\n                  <Typography\r\n                    variant=\"body2\"\r\n                    color=\"text.secondary\"\r\n                    sx={{\r\n                      overflow: \"hidden\",\r\n                      display: \"-webkit-box\",\r\n                      WebkitLineClamp: 5,\r\n                      WebkitBoxOrient: \"vertical\",\r\n                      lineHeight: 1.4,\r\n                    }}\r\n                  >\r\n                    {repo?.organization?.description ||\r\n                      \"No organization description available\"}\r\n                  </Typography>\r\n                </Box>\r\n              </Box>\r\n\r\n              {canEditRepo && !isEditing && (\r\n                <Chip label=\"Edit repository details\" onClick={handleEdit} />\r\n              )}\r\n\r\n              {canEditRepo && isEditing && (\r\n                <Box\r\n                  sx={{\r\n                    display: \"flex\",\r\n                    gap: 1,\r\n                    justifyContent: \"center\",\r\n                    flexWrap: \"wrap\",\r\n                  }}\r\n                >\r\n                  <Chip\r\n                    label={saving ? \"Saving...\" : \"Save\"}\r\n                    color=\"success\"\r\n                    onClick={handleSave}\r\n                    clickable={!saving}\r\n                    disabled={saving}\r\n                    icon={\r\n                      saving ? (\r\n                        <CircularProgress size={14} color=\"inherit\" />\r\n                      ) : undefined\r\n                    }\r\n                  />\r\n                  <Chip\r\n                    label=\"Discard\"\r\n                    color=\"error\"\r\n                    onClick={handleDiscard}\r\n                    clickable\r\n                    disabled={saving}\r\n                  />\r\n                </Box>\r\n              )}\r\n            </Box>\r\n          </Box>\r\n\r\n          <Grid\r\n            container\r\n            spacing={3}\r\n            sx={{\r\n              display: \"grid\",\r\n              gridTemplateColumns: { xs: \"1fr\", md: \"1fr 4fr\" },\r\n            }}\r\n          >\r\n            <Box>\r\n              <Box\r\n                sx={{\r\n                  border: \"2px solid #000\",\r\n                  borderRadius: \"12px\",\r\n                  px: 1,\r\n                  maxHeight: \"60vh\",\r\n                  overflow: \"auto\",\r\n                }}\r\n              >\r\n                <Divider sx={{ my: 1 }} />\r\n                <SidebarSection\r\n                  title={\r\n                    <Typography variant=\"sideSectionTitle\">\r\n                      Filter Projects\r\n                    </Typography>\r\n                  }\r\n                  open={openFilters}\r\n                  toggleOpen={() => setOpenFilters(!openFilters)}\r\n                >\r\n                  <FilterPanel\r\n                    switchFilters={[\r\n                      {\r\n                        label: \"Open Projects Only\",\r\n                        checked: showOpenOnly,\r\n                        name: \"open\",\r\n                      },\r\n                    ]}\r\n                    onSwitchChange={(name, value) =>\r\n                      name === \"open\" && setShowOpenOnly(value)\r\n                    }\r\n                  />\r\n                </SidebarSection>\r\n                <SidebarSection\r\n                  title={\r\n                    <Typography variant=\"sideSectionTitle\">\r\n                      Tech Need\r\n                    </Typography>\r\n                  }\r\n                  open={openFiltersTech}\r\n                  toggleOpen={() => setOpenFiltersTech(!openFiltersTech)}\r\n                >\r\n                  <FilterPanel\r\n                    switchFilters={allRepoTechs.map((tech) => ({\r\n                      label: tech,\r\n                      checked: selectedTechs.includes(tech),\r\n                      name: tech,\r\n                    }))}\r\n                    onSwitchChange={(name, checked) => {\r\n                      setSelectedTechs((prev) =>\r\n                        checked\r\n                          ? [...prev, name]\r\n                          : prev.filter((t) => t !== name)\r\n                      );\r\n                      setCurrentPage(1);\r\n                    }}\r\n                  />\r\n                </SidebarSection>\r\n              </Box>\r\n            </Box>\r\n\r\n            <Grid item xs={12} md={9}>\r\n              <Box\r\n                sx={{\r\n                  flex: 1,\r\n                  py: 2,\r\n                  height: \"calc(100vh - 150px)\",\r\n                  maxHeight: \"calc(100vh - 150px)\",\r\n                  boxSizing: \"border-box\",\r\n                  border: \"2px solid #000\",\r\n                  borderRadius: \"12px\",\r\n                  boxShadow: \"3px 3px 0 #000\",\r\n                  overflowY: \"hidden\",\r\n                  \"&::-webkit-scrollbar\": { display: \"none\" },\r\n                  msOverflowStyle: \"none\",\r\n                  scrollbarWidth: \"none\",\r\n                  width: \"100%\",\r\n                }}\r\n              >\r\n                <Typography\r\n                  variant=\"tableTitle\"\r\n                  gutterBottom\r\n                  sx={{ px: 2, display: \"flex\", alignItems: \"center\", gap: 1 }}\r\n                >\r\n                  Projects\r\n                </Typography>\r\n                <Box\r\n                  sx={{\r\n                    overflow: \"auto\",\r\n                    boxSizing: \"border-box\",\r\n                    \"&::-webkit-scrollbar\": { display: \"none\" },\r\n                  }}\r\n                >\r\n                  {currentProjects.length === 0 ? (\r\n                    <Box\r\n                      sx={{\r\n                        height: \"100vh\",\r\n                        maxHeight: \"calc(100vh - 260px)\",\r\n                        display: \"flex\",\r\n                        justifyContent: \"center\",\r\n                        alignItems: \"center\",\r\n                        px: 2,\r\n                      }}\r\n                    >\r\n                      <Typography variant=\"noticeText\">\r\n                        No Projects match the current filters. (Try resetting\r\n                        your filters)\r\n                      </Typography>\r\n                    </Box>\r\n                  ) : (\r\n                    <Box\r\n                      // ref={detailedContainerRef}\r\n                      sx={{\r\n                        // height: \"100vh\",\r\n                        maxHeight: \"calc(100vh - 260px)\",\r\n                        overflow: \"auto\",\r\n                        \"&::-webkit-scrollbar\": { display: \"none\" },\r\n                        msOverflowStyle: \"none\",\r\n                        scrollbarWidth: \"none\",\r\n                        mx: 1,\r\n                      }}\r\n                    >\r\n                      <DetailedCard\r\n                        data={currentProjects}\r\n                        renderConfig={(proj) => ({\r\n                          key: proj.key,\r\n                          title: proj.projectName,\r\n                          iconName: proj.githubUrl ? \"GitHub\" : null,\r\n                          secondaryLabel: \"Creation Date:\",\r\n                          secondaryValue: proj.created_at,\r\n                          description: proj.description,\r\n                          items: [\r\n                            {\r\n                              label: \"Domain:\",\r\n                              value: proj.domain,\r\n                              type: \"chip\",\r\n                            },\r\n                            {\r\n                              label: \"Complexity:\",\r\n                              value: proj.complexity,\r\n                              type: \"chip\",\r\n                            },\r\n                            {\r\n                              label: \"Tech Need:\",\r\n                              value: proj.techStack,\r\n                              type: \"chip\",\r\n                            },\r\n                            {\r\n                              label: \"Status:\",\r\n                              value: proj.status,\r\n                              type: \"text\",\r\n                            },\r\n                          ],\r\n                          onClick: proj.githubUrl\r\n                            ? () =>\r\n                                window.open(\r\n                                  proj.githubUrl,\r\n                                  \"_blank\",\r\n                                  \"noopener,noreferrer\"\r\n                                )\r\n                            : undefined,\r\n                        })}\r\n                      />\r\n                    </Box>\r\n                  )}\r\n                </Box>\r\n                <PaginationBar\r\n                  totalPages={totalPages}\r\n                  currentPage={currentPage}\r\n                  onPageChange={(_, page) => setCurrentPage(page)}\r\n                />\r\n              </Box>\r\n            </Grid>\r\n          </Grid>\r\n        </Box>\r\n      </Box>\r\n\r\n      <Snackbar\r\n        open={toast.open}\r\n        autoHideDuration={4000}\r\n        onClose={handleCloseToast}\r\n        anchorOrigin={{ vertical: \"bottom\", horizontal: \"center\" }}\r\n      >\r\n        <Alert\r\n          onClose={handleCloseToast}\r\n          severity={toast.severity}\r\n          variant=\"filled\"\r\n        >\r\n          {toast.message}\r\n        </Alert>\r\n      </Snackbar>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Repository;\r\n"],"mappings":"qHAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,OAAO,CAAEC,MAAM,KAAQ,OAAO,CACnE,OAASC,SAAS,CAAEC,WAAW,KAAQ,kBAAkB,CACzD,OACEC,MAAM,CACNC,GAAG,CACHC,UAAU,CACVC,MAAM,CACNC,IAAI,CACJC,IAAI,CACJC,SAAS,CACTC,OAAO,CACPC,gBAAgB,CAChBC,QAAQ,CACRC,KAAK,KACA,eAAe,CACtB,MAAO,CAAAC,cAAc,KAAM,oCAAoC,CAC/D,MAAO,CAAAC,cAAc,KAAM,iCAAiC,CAC5D,MAAO,CAAAC,WAAW,KAAM,8BAA8B,CACtD,MAAO,CAAAC,aAAa,KAAM,gCAAgC,CAC1D,OAASC,MAAM,CAAEC,YAAY,KAAQ,yBAAyB,CAC9D,MAAO,CAAAC,WAAW,KAAM,oCAAoC,CAC5D,MAAO,CAAAC,YAAY,KAAM,+BAA+B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAEzD,KAAM,CAAAC,QAAQ,CAAGC,OAAO,CAACC,GAAG,CAACC,kBAAkB,CAE/C,QAAS,CAAAC,iBAAiBA,CAACC,WAAW,CAAE,CACtC,MAAO,CAAAC,KAAK,CAACC,OAAO,CAACF,WAAW,CAAC,CAC7BA,WAAW,CAACG,GAAG,CAAEC,CAAC,EAAK,CACrB,KAAM,CAAAC,MAAM,CACVJ,KAAK,CAACC,OAAO,CAACE,CAAC,CAACC,MAAM,CAAC,EAAID,CAAC,CAACC,MAAM,CAACC,MAAM,CAAG,CAAC,CAC1CF,CAAC,CAACC,MAAM,CACR,CAAC,SAAS,CAAC,CAEjB,MAAO,CACLE,UAAU,CAAEH,CAAC,CAACG,UAAU,EAAIH,CAAC,CAACI,GAAG,EAAI,EAAE,CACvCC,GAAG,CAAEL,CAAC,CAACG,UAAU,EAAIH,CAAC,CAACI,GAAG,EAAI,EAAE,CAChCE,WAAW,CAAEN,CAAC,CAACM,WAAW,EAAI,kBAAkB,CAChDC,WAAW,CAAEP,CAAC,CAACO,WAAW,EAAI,EAAE,CAChCC,SAAS,CAAER,CAAC,CAACQ,SAAS,EAAI,EAAE,CAC5BP,MAAM,CACNQ,SAAS,CAAEZ,KAAK,CAACC,OAAO,CAACE,CAAC,CAACS,SAAS,CAAC,CAAGT,CAAC,CAACS,SAAS,CAAG,EAAE,CACxDC,MAAM,CAAEV,CAAC,CAACU,MAAM,CAAGV,CAAC,CAACU,MAAM,CAACC,WAAW,CAAC,CAAC,CAAG,SAAS,CACrDC,MAAM,CAAEZ,CAAC,CAACU,MAAM,EAAIV,CAAC,CAACU,MAAM,CAACC,WAAW,CAAC,CAAC,GAAK,SAAS,CACxDE,UAAU,CAAEb,CAAC,CAACa,UAAU,CACpB,GAAI,CAAAC,IAAI,CAACd,CAAC,CAACa,UAAU,CAAC,CAACE,kBAAkB,CAAC,CAAC,CAC3C,GAAG,CACPC,UAAU,CAAEhB,CAAC,CAACgB,UAAU,EAAI,KAC9B,CAAC,CACH,CAAC,CAAC,CACF,EAAE,CACR,CAEA,QAAS,CAAAC,UAAUA,CAAA,CAAG,KAAAC,kBAAA,CAAAC,mBAAA,CAAAC,mBAAA,CACpB,KAAM,CAAEC,MAAO,CAAC,CAAGzD,SAAS,CAAC,CAAC,CAC9B,KAAM,CAAA0D,QAAQ,CAAGzD,WAAW,CAAC,CAAC,CAE9B,KAAM,CAAC0D,IAAI,CAAEC,OAAO,CAAC,CAAGhE,QAAQ,CAAC,IAAI,CAAC,CACtC,KAAM,CAACiE,QAAQ,CAAEC,WAAW,CAAC,CAAGlE,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACmE,OAAO,CAAEC,UAAU,CAAC,CAAGpE,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACqE,KAAK,CAAEC,QAAQ,CAAC,CAAGtE,QAAQ,CAAC,IAAI,CAAC,CAExC,KAAM,CAACuE,SAAS,CAAEC,YAAY,CAAC,CAAGxE,QAAQ,CAAC,KAAK,CAAC,CACjD,KAAM,CAACyE,QAAQ,CAAEC,WAAW,CAAC,CAAG1E,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAAC2E,eAAe,CAAEC,kBAAkB,CAAC,CAAG5E,QAAQ,CAAC,EAAE,CAAC,CAC1D,KAAM,CAAC6E,WAAW,CAAEC,cAAc,CAAC,CAAG9E,QAAQ,CAAC,EAAE,CAAC,CAElD,KAAM,CAAC+E,MAAM,CAAEC,SAAS,CAAC,CAAGhF,QAAQ,CAAC,KAAK,CAAC,CAE3C,KAAM,CAACiF,KAAK,CAAEC,QAAQ,CAAC,CAAGlF,QAAQ,CAAC,CACjCmF,IAAI,CAAE,KAAK,CACXC,OAAO,CAAE,EAAE,CACXC,QAAQ,CAAE,SACZ,CAAC,CAAC,CAEF,KAAM,CAACC,YAAY,CAAEC,eAAe,CAAC,CAAGvF,QAAQ,CAAC,KAAK,CAAC,CACvD,KAAM,CAACwF,aAAa,CAAEC,gBAAgB,CAAC,CAAGzF,QAAQ,CAAC,EAAE,CAAC,CACtD,KAAM,CAAC0F,WAAW,CAAEC,cAAc,CAAC,CAAG3F,QAAQ,CAAC,CAAC,CAAC,CACjD,KAAM,CAAA4F,eAAe,CAAG,EAAE,CAE1B,KAAM,CAACC,WAAW,CAAEC,cAAc,CAAC,CAAG9F,QAAQ,CAAC,KAAK,CAAC,CACrD,KAAM,CAAC+F,eAAe,CAAEC,kBAAkB,CAAC,CAAGhG,QAAQ,CAAC,KAAK,CAAC,CAE7D,KAAM,CAAAiG,oBAAoB,CAAG9F,MAAM,CAAC,IAAI,CAAC,CAEzC,KAAM,CAAA+F,WAAW,CAAGA,CAAA,GAAM,CACxB,GAAID,oBAAoB,CAACE,OAAO,CAAE,CAChCF,oBAAoB,CAACE,OAAO,CAACC,SAAS,CAAG,CAAC,CAC5C,CACF,CAAC,CAEDnG,SAAS,CAAC,IAAM,CACdiG,WAAW,CAAC,CAAC,CACf,CAAC,CAAE,CAACR,WAAW,CAAEF,aAAa,CAAEF,YAAY,CAAC,CAAC,CAE9C,KAAM,CAAAe,QAAQ,CAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CAAC,EAAI,CAAC,CAAC,CACnE,KAAM,CAAEC,KAAK,CAAEC,SAAS,CAAEC,KAAK,CAAEC,WAAW,CAAG,EAAE,CAAEC,MAAO,CAAC,CAAGT,QAAQ,CAEtE,KAAM,CAAAU,YAAY,CAAG,CAAC,MAAM,CAAE,MAAM,CAAE,MAAM,CAAC,CAC7C,KAAM,CAAAC,iBAAiB,CAAGH,WAAW,CAACI,QAAQ,CAAC,MAAM,CAAC,CAEtD,KAAM,CAAAC,WAAW,CACfF,iBAAiB,EACjBD,YAAY,CAACE,QAAQ,CAACH,MAAM,CAAC,GAC5BA,MAAM,GAAK,MAAM,EAAI,CAAA/C,IAAI,SAAJA,IAAI,kBAAAL,kBAAA,CAAJK,IAAI,CAAEoD,YAAY,UAAAzD,kBAAA,iBAAlBA,kBAAA,CAAoB0D,MAAM,IAAKT,SAAS,CAAC,CAEjE1G,SAAS,CAAC,IAAM,CACdmE,UAAU,CAAC,IAAI,CAAC,CAChBE,QAAQ,CAAC,IAAI,CAAC,CAEd;AACA,KAAM,CAAA+C,eAAe,CAAIC,GAAG,EAAK,CAC/B,GAAI,CAACA,GAAG,CAAE,MAAO,cAAc,CAC/B,GAAI,CACF,KAAM,CAAAC,KAAK,CAAG,GAAI,CAAAC,GAAG,CAACF,GAAG,CAAC,CAACG,QAAQ,CAACC,KAAK,CAAC,GAAG,CAAC,CAACC,MAAM,CAACC,OAAO,CAAC,CAC9D,KAAM,CAAAC,OAAO,CAAGN,KAAK,CAACO,KAAK,CAAC,CAAC,CAAC,CAAC,CAC/B,MAAO,CAAAD,OAAO,CAACE,IAAI,CAAC,GAAG,CAAC,CAC1B,CAAE,MAAOC,CAAC,CAAE,CACV,MAAO,cAAc,CACvB,CACF,CAAC,CAEDC,KAAK,IAAAC,MAAA,CAAInG,QAAQ,8BAAAmG,MAAA,CAA4BC,kBAAkB,CAACtE,MAAM,CAAC,CAAE,CAAC,CACvEuE,IAAI,CAAEC,GAAG,EAAK,CACb,GAAI,CAACA,GAAG,CAACC,EAAE,CAAE,KAAM,IAAI,CAAAC,KAAK,eAAAL,MAAA,CAAeG,GAAG,CAACnF,MAAM,CAAE,CAAC,CACxD,MAAO,CAAAmF,GAAG,CAACG,IAAI,CAAC,CAAC,CACnB,CAAC,CAAC,CACDJ,IAAI,CAAEI,IAAI,EAAK,CACd,KAAM,CAAAC,CAAC,CAAGD,IAAI,CAACzE,IAAI,CAEnB,KAAM,CAAA2E,cAAc,CAAG,CACrBC,EAAE,CAAEF,CAAC,CAAC7F,GAAG,CACTiB,MAAM,CAAE4E,CAAC,CAAC5E,MAAM,CAChB+E,IAAI,CAAEH,CAAC,CAACI,QAAQ,EAAI,qBAAqB,CACzCC,eAAe,CAAEL,CAAC,CAACK,eAAe,EAAI,EAAE,CACxC/F,WAAW,CAAE0F,CAAC,CAACK,eAAe,EAAI,EAAE,CACpCC,OAAO,CAAE1G,KAAK,CAACC,OAAO,CAACmG,CAAC,CAACM,OAAO,CAAC,CAAGN,CAAC,CAACM,OAAO,CAAG,EAAE,CAClD5B,YAAY,CAAEsB,CAAC,CAACtB,YAAY,EAAI,IAAI,CACpC6B,QAAQ,CAAE3B,eAAe,CAACoB,CAAC,CAACQ,OAAO,CAAG;AACxC,CAAC,CACDjF,OAAO,CAAC0E,cAAc,CAAC,CACvBxE,WAAW,CAAC/B,iBAAiB,CAACqG,IAAI,CAACvE,QAAQ,CAAC,CAAC,CAE7CS,WAAW,CAACgE,cAAc,CAACE,IAAI,CAAC,CAChChE,kBAAkB,CAChB8D,cAAc,CAACI,eAAe,GAAK,0BAA0B,CACzD,EAAE,CACFJ,cAAc,CAACI,eAAe,EAAI,EACxC,CAAC,CACDhE,cAAc,CACZ4D,cAAc,CAACK,OAAO,CAACrG,MAAM,GAAK,CAAC,EACjCgG,cAAc,CAACK,OAAO,CAAC,CAAC,CAAC,GAAK,SAAS,CACrC,EAAE,CACFL,cAAc,CAACK,OAAO,CAAChB,IAAI,CAAC,IAAI,CACtC,CAAC,CAED3D,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,CAAC,CACD8E,KAAK,CAAEC,GAAG,EAAK,CACdC,OAAO,CAAC/E,KAAK,CAAC,4BAA4B,CAAE8E,GAAG,CAAC,CAChD7E,QAAQ,CAAC6E,GAAG,CAAC/D,OAAO,EAAI,2BAA2B,CAAC,CACpDhB,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,CAAC,CAEJI,YAAY,CAAC,KAAK,CAAC,CACnBmB,cAAc,CAAC,CAAC,CAAC,CACnB,CAAC,CAAE,CAAC9B,MAAM,CAAC,CAAC,CAEZ,KAAM,CAAAwF,YAAY,CAAGnJ,OAAO,CAAC,IAAM,CACjC,KAAM,CAAAoJ,KAAK,CAAGrF,QAAQ,CAACsF,OAAO,CAAEC,IAAI,EAClCnH,KAAK,CAACC,OAAO,CAACkH,IAAI,CAACvG,SAAS,CAAC,CAAGuG,IAAI,CAACvG,SAAS,CAAG,EACnD,CAAC,CACD,MAAO,CAAAZ,KAAK,CAACoH,IAAI,CAAC,GAAI,CAAAC,GAAG,CAACJ,KAAK,CAAC,CAAC,CAACK,IAAI,CAAC,CAACC,CAAC,CAAEC,CAAC,GAAKD,CAAC,CAACE,aAAa,CAACD,CAAC,CAAC,CAAC,CACtE,CAAC,CAAE,CAAC5F,QAAQ,CAAC,CAAC,CAEd,KAAM,CAAA8F,gBAAgB,CAAG7J,OAAO,CAAC,IAAM,CACrC,MAAO,CAAA+D,QAAQ,CAAC0D,MAAM,CAAEqC,OAAO,EAAK,CAClC,KAAM,CAAAC,aAAa,CAAG,CAAC3E,YAAY,EAAI0E,OAAO,CAAC5G,MAAM,CAErD,KAAM,CAAA8G,WAAW,CACf1E,aAAa,CAAC9C,MAAM,GAAK,CAAC,EAC1B8C,aAAa,CAAC2E,KAAK,CAAEC,IAAI,EACvBJ,OAAO,CAAC/G,SAAS,CACdV,GAAG,CAAE8H,CAAC,EAAKA,CAAC,CAAClH,WAAW,CAAC,CAAC,CAAC,CAC3B8D,QAAQ,CAACmD,IAAI,CAACjH,WAAW,CAAC,CAAC,CAChC,CAAC,CAEH,MAAO,CAAA8G,aAAa,EAAIC,WAAW,CACrC,CAAC,CAAC,CACJ,CAAC,CAAE,CAACjG,QAAQ,CAAEqB,YAAY,CAAEE,aAAa,CAAC,CAAC,CAE3C,KAAM,CAAA8E,UAAU,CAAGC,IAAI,CAACC,IAAI,CAACT,gBAAgB,CAACrH,MAAM,CAAGkD,eAAe,CAAC,CACvE,KAAM,CAAA6E,UAAU,CAAG,CAAC/E,WAAW,CAAG,CAAC,EAAIE,eAAe,CACtD,KAAM,CAAA8E,eAAe,CAAGX,gBAAgB,CAACjC,KAAK,CAC5C2C,UAAU,CACVA,UAAU,CAAG7E,eACf,CAAC,CAED,KAAM,CAAA+E,kBAAkB,CAAGA,CAAA,GAAM,KAAAC,mBAAA,CAC/B,GAAI7G,IAAI,SAAJA,IAAI,YAAA6G,mBAAA,CAAJ7G,IAAI,CAAEoD,YAAY,UAAAyD,mBAAA,WAAlBA,mBAAA,CAAoBxD,MAAM,CAAE,CAC9BtD,QAAQ,kBAAAoE,MAAA,CAAkBnE,IAAI,CAACoD,YAAY,CAACC,MAAM,CAAE,CAAC,CACvD,CACF,CAAC,CAED,KAAM,CAAAyD,UAAU,CAAGA,CAAA,GAAM,CACvB,GAAI,CAAC3D,WAAW,CAAE,CAChBhC,QAAQ,CAAC,CACPC,IAAI,CAAE,IAAI,CACVC,OAAO,CAAE,qDAAqD,CAC9DC,QAAQ,CAAE,OACZ,CAAC,CAAC,CACF,OACF,CACAb,YAAY,CAAC,IAAI,CAAC,CACpB,CAAC,CAED,KAAM,CAAAsG,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC7B,GAAI,CAAC5D,WAAW,EAAInC,MAAM,CAAE,OAE5BC,SAAS,CAAC,IAAI,CAAC,CAEf,KAAM,CAAA+F,YAAY,CAAGlG,WAAW,CAC7B6C,KAAK,CAAC,GAAG,CAAC,CACVnF,GAAG,CAAEyI,CAAC,EAAKA,CAAC,CAACC,IAAI,CAAC,CAAC,CAAC,CACpBtD,MAAM,CAACC,OAAO,CAAC,CAElB,KAAM,CAAAsD,OAAO,CAAG,CACdrC,QAAQ,CAAEpE,QAAQ,CAACwG,IAAI,CAAC,CAAC,CACzBlC,OAAO,CAAEgC,YAAY,CAACrI,MAAM,CAAG,CAAC,CAAGqI,YAAY,CAAG,EAAE,CACpDjC,eAAe,CACbnE,eAAe,CAACsG,IAAI,CAAC,CAAC,GAAK,EAAE,CAAG,IAAI,CAAGtG,eAAe,CAACsG,IAAI,CAAC,CAChE,CAAC,CAED,GAAI,CACF,KAAM,CAAAE,QAAQ,CAAG,KAAM,CAAAlD,KAAK,IAAAC,MAAA,CACvBnG,QAAQ,mCAAAmG,MAAA,CAAiCC,kBAAkB,CAC5DtE,MACF,CAAC,EACD,CACEuH,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CACP,cAAc,CAAE,kBAAkB,CAClCC,aAAa,WAAApD,MAAA,CAAYtB,KAAK,CAChC,CAAC,CACD2E,IAAI,CAAEjF,IAAI,CAACkF,SAAS,CAACN,OAAO,CAC9B,CACF,CAAC,CAED,GAAI,CAACC,QAAQ,CAAC7C,EAAE,CAAE,CAChB,KAAM,CAAAmD,OAAO,CAAG,KAAM,CAAAN,QAAQ,CAACO,IAAI,CAAC,CAAC,CACrC,KAAM,IAAI,CAAAnD,KAAK,CAACkD,OAAO,EAAI,6BAA6B,CAAC,CAC3D,CAEAzH,OAAO,CAAE2H,IAAI,EAAAC,aAAA,CAAAA,aAAA,IACRD,IAAI,MACP/C,IAAI,CAAEsC,OAAO,CAACrC,QAAQ,CACtBC,eAAe,CAAEoC,OAAO,CAACpC,eAAe,EAAI,0BAA0B,CACtE/F,WAAW,CAAEmI,OAAO,CAACpC,eAAe,EAAI,0BAA0B,CAClEC,OAAO,CAAEmC,OAAO,CAACnC,OAAO,CAACrG,MAAM,CAAG,CAAC,CAAGwI,OAAO,CAACnC,OAAO,CAAG,CAAC,SAAS,CAAC,EACnE,CAAC,CAEHvE,YAAY,CAAC,KAAK,CAAC,CACnBU,QAAQ,CAAC,CACPC,IAAI,CAAE,IAAI,CACVC,OAAO,CAAE,kCAAkC,CAC3CC,QAAQ,CAAE,SACZ,CAAC,CAAC,CACJ,CAAE,MAAO8D,GAAG,CAAE,CACZC,OAAO,CAAC/E,KAAK,CAAC,cAAc,CAAE8E,GAAG,CAAC,CAClCjE,QAAQ,CAAC,CACPC,IAAI,CAAE,IAAI,CACVC,OAAO,CAAE+D,GAAG,CAAC/D,OAAO,EAAI,wBAAwB,CAChDC,QAAQ,CAAE,OACZ,CAAC,CAAC,CACJ,CAAC,OAAS,CACRL,SAAS,CAAC,KAAK,CAAC,CAClB,CACF,CAAC,CAED,KAAM,CAAA6G,aAAa,CAAGA,CAAA,GAAM,CAC1BnH,WAAW,CAACX,IAAI,CAAC6E,IAAI,CAAC,CACtBhE,kBAAkB,CAChBb,IAAI,CAAC+E,eAAe,GAAK,0BAA0B,CAC/C,EAAE,CACF/E,IAAI,CAAC+E,eAAe,EAAI,EAC9B,CAAC,CACDhE,cAAc,CACZf,IAAI,CAACgF,OAAO,CAACrG,MAAM,GAAK,CAAC,EAAIqB,IAAI,CAACgF,OAAO,CAAC,CAAC,CAAC,GAAK,SAAS,CACtD,EAAE,CACFhF,IAAI,CAACgF,OAAO,CAAChB,IAAI,CAAC,IAAI,CAC5B,CAAC,CACDvD,YAAY,CAAC,KAAK,CAAC,CACrB,CAAC,CAED,KAAM,CAAAsH,gBAAgB,CAAGA,CAAA,GAAM,CAC7B5G,QAAQ,CAAEyG,IAAI,EAAAC,aAAA,CAAAA,aAAA,IAAWD,IAAI,MAAExG,IAAI,CAAE,KAAK,EAAG,CAAC,CAChD,CAAC,CAED,GAAIhB,OAAO,CAAE,mBAAOzC,IAAA,CAACL,MAAM,GAAE,CAAC,CAC9B,GAAIgD,KAAK,EAAI,CAACN,IAAI,CAChB,mBACEnC,KAAA,CAACrB,GAAG,EACFwL,EAAE,CAAE,CACFvJ,CAAC,CAAE,CAAC,CACJwJ,OAAO,CAAE,MAAM,CACfC,aAAa,CAAE,QAAQ,CACvBC,cAAc,CAAE,QAAQ,CACxBC,UAAU,CAAE,QAAQ,CACpBC,KAAK,CAAE,MACT,CAAE,CAAAC,QAAA,eAEF3K,IAAA,CAACJ,YAAY,EAAC+C,KAAK,CAAEA,KAAK,EAAI,sBAAuB,CAAE,CAAC,cACxD3C,IAAA,CAACjB,MAAM,EACL6L,OAAO,CAAC,WAAW,CACnBP,EAAE,CAAE,CAAEQ,EAAE,CAAE,CAAE,CAAE,CACdC,OAAO,CAAEA,CAAA,GAAM1I,QAAQ,CAAC,WAAW,CAAE,CAAAuI,QAAA,CACtC,kBAED,CAAQ,CAAC,EACN,CAAC,CAGV,mBACEzK,KAAA,CAAAE,SAAA,EAAAuK,QAAA,eACE3K,IAAA,UAAA2K,QAAA,CAAO,oBAAkB,CAAO,CAAC,cACjCzK,KAAA,CAACrB,GAAG,EAACwL,EAAE,CAAE,CAAEK,KAAK,CAAE,MAAM,CAAEK,SAAS,CAAE,YAAa,CAAE,CAAAJ,QAAA,eAClD3K,IAAA,CAACpB,MAAM,EACLoM,QAAQ,CAAC,QAAQ,CACjBX,EAAE,CAAE,CACFY,MAAM,CAAE,EAAE,CACVC,eAAe,QAAA1E,MAAA,CAAS3G,WAAW,KAAG,CACtCsL,cAAc,CAAE,OAAO,CACvBC,kBAAkB,CAAE,QACtB,CAAE,CAAAT,QAAA,cAEF3K,IAAA,CAACnB,GAAG,EACFwL,EAAE,CAAE,CACFY,MAAM,CAAE,MAAM,CACdX,OAAO,CAAE,MAAM,CACfG,UAAU,CAAE,QAAQ,CACpBY,EAAE,CAAE,CACN,CAAE,CAAAV,QAAA,cAEF3K,IAAA,CAAClB,UAAU,EAAC8L,OAAO,CAAC,aAAa,CAACP,EAAE,CAAE,CAAEiB,KAAK,CAAE,MAAO,CAAE,CAAAX,QAAA,CACrDtI,IAAI,CAACiF,QAAQ,CACJ,CAAC,CACV,CAAC,CACA,CAAC,cAETpH,KAAA,CAACrB,GAAG,EACFwL,EAAE,CAAE,CACFvJ,CAAC,CAAE,CAAEyK,EAAE,CAAE,CAAC,CAAEC,EAAE,CAAE,CAAE,CACpB,CAAE,CAAAb,QAAA,eAEFzK,KAAA,CAACrB,GAAG,EACFwL,EAAE,CAAE,CACFC,OAAO,CAAE,MAAM,CACfC,aAAa,CAAE,CAAEgB,EAAE,CAAE,gBAAgB,CAAEC,EAAE,CAAE,KAAM,CAAC,CAClDC,GAAG,CAAE,CAAC,CACNC,EAAE,CAAE,CACN,CAAE,CAAAf,QAAA,eAEF3K,IAAA,CAACnB,GAAG,EAACwL,EAAE,CAAE,CAAEsB,QAAQ,CAAE,CAAC,CAAEjB,KAAK,CAAE,CAAEa,EAAE,CAAE,MAAM,CAAEC,EAAE,CAAE,KAAM,CAAE,CAAE,CAAAb,QAAA,CACxD9H,SAAS,cACR3C,KAAA,CAACrB,GAAG,EACFwL,EAAE,CAAE,CAAEC,OAAO,CAAE,MAAM,CAAEC,aAAa,CAAE,QAAQ,CAAEkB,GAAG,CAAE,GAAI,CAAE,CAAAd,QAAA,eAE3D3K,IAAA,CAACd,SAAS,EACR0M,KAAK,CAAC,iBAAiB,CACvBC,SAAS,MACTC,KAAK,CAAE/I,QAAS,CAChBgJ,QAAQ,CAAGzF,CAAC,EAAKtD,WAAW,CAACsD,CAAC,CAAC0F,MAAM,CAACF,KAAK,CAAE,CAC7CG,QAAQ,CAAE5I,MAAO,CAClB,CAAC,cACFrD,IAAA,CAACd,SAAS,EACR0M,KAAK,CAAC,aAAa,CACnBM,SAAS,MACTC,OAAO,CAAE,CAAE,CACXN,SAAS,MACTC,KAAK,CAAE7I,eAAgB,CACvB8I,QAAQ,CAAGzF,CAAC,EAAKpD,kBAAkB,CAACoD,CAAC,CAAC0F,MAAM,CAACF,KAAK,CAAE,CACpDG,QAAQ,CAAE5I,MAAO,CAClB,CAAC,cACFrD,IAAA,CAACd,SAAS,EACR0M,KAAK,CAAC,2BAA2B,CACjCC,SAAS,MACTC,KAAK,CAAE3I,WAAY,CACnB4I,QAAQ,CAAGzF,CAAC,EAAKlD,cAAc,CAACkD,CAAC,CAAC0F,MAAM,CAACF,KAAK,CAAE,CAChDM,WAAW,CAAC,iCAAiC,CAC7CH,QAAQ,CAAE5I,MAAO,CAClB,CAAC,EACC,CAAC,cAENnD,KAAA,CAAAE,SAAA,EAAAuK,QAAA,eACE3K,IAAA,CAAClB,UAAU,EAAC8L,OAAO,CAAC,WAAW,CAAAD,QAAA,CAAC,aAAW,CAAY,CAAC,cACxD3K,IAAA,CAAClB,UAAU,EAACuL,EAAE,CAAE,CAAEqB,EAAE,CAAE,CAAC,CAAEW,UAAU,CAAE,UAAW,CAAE,CAAA1B,QAAA,CAC/CtI,IAAI,CAAC+E,eAAe,EAAI,yBAAyB,CACxC,CAAC,cACbpH,IAAA,CAAClB,UAAU,EAAC8L,OAAO,CAAC,WAAW,CAAAD,QAAA,CAAC,SAAO,CAAY,CAAC,cACpD3K,IAAA,CAACnB,GAAG,EACFwL,EAAE,CAAE,CAAEC,OAAO,CAAE,MAAM,CAAEmB,GAAG,CAAE,CAAC,CAAEa,QAAQ,CAAE,MAAM,CAAEzB,EAAE,CAAE,CAAE,CAAE,CAAAF,QAAA,CAExDtI,IAAI,CAACgF,OAAO,CAACrG,MAAM,CAAG,CAAC,cACtBd,KAAA,CAAAE,SAAA,EAAAuK,QAAA,EACGtI,IAAI,CAACgF,OAAO,CAACjB,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,CAACvF,GAAG,CAAC,CAACyI,CAAC,CAAEiD,CAAC,gBACjCvM,IAAA,CAACf,IAAI,EAEH2M,KAAK,CAAEtC,CAAE,CACTkD,IAAI,CAAC,OAAO,CACZ5B,OAAO,CAAC,UAAU,EAHb2B,CAIN,CACF,CAAC,CAEDlK,IAAI,CAACgF,OAAO,CAACrG,MAAM,CAAG,CAAC,eACtBhB,IAAA,CAACf,IAAI,EACH2M,KAAK,KAAApF,MAAA,CAAMnE,IAAI,CAACgF,OAAO,CAACrG,MAAM,CAAG,CAAC,SAAQ,CAC1CwL,IAAI,CAAC,OAAO,CACZ5B,OAAO,CAAC,UAAU,CACnB,CACF,EACD,CAAC,cAEH5K,IAAA,CAACf,IAAI,EAAC2M,KAAK,CAAC,SAAS,CAACY,IAAI,CAAC,OAAO,CAAC5B,OAAO,CAAC,UAAU,CAAE,CACxD,CACE,CAAC,EACN,CACH,CACE,CAAC,cAIN1K,KAAA,CAACrB,GAAG,EAACwL,EAAE,CAAE,CAAEK,KAAK,CAAE,CAAEa,EAAE,CAAE,MAAM,CAAEC,EAAE,CAAE,KAAM,CAAC,CAAEiB,SAAS,CAAE,QAAS,CAAE,CAAA9B,QAAA,eACjEzK,KAAA,CAACrB,GAAG,EACFiM,OAAO,CAAE7B,kBAAmB,CAC5BoB,EAAE,CAAE,CACFY,MAAM,CAAE,GAAG,CACXyB,eAAe,CAAE,sBAAsB,CACvCC,YAAY,CAAE,CAAC,CACfrC,OAAO,CAAE,MAAM,CACfG,UAAU,CAAE,QAAQ,CACpB3J,CAAC,CAAE,CAAC,CACJ4K,EAAE,CAAE,CAAC,CACLD,GAAG,CAAE,CAAC,CACNV,SAAS,CAAE,YAAY,CACvB6B,MAAM,CAAE,SAAS,CACjBC,UAAU,CAAE,MAAM,CAClB,SAAS,CAAE,CACTC,SAAS,CAAE,aAAa,CACxBC,SAAS,CAAE,2BACb,CACF,CAAE,CAAApC,QAAA,eAEF3K,IAAA,QACEgN,GAAG,CAAE,EAAA/K,mBAAA,CAAAI,IAAI,CAACoD,YAAY,UAAAxD,mBAAA,iBAAjBA,mBAAA,CAAmBgL,OAAO,GAAI1N,cAAe,CAClD2N,GAAG,CAAC,UAAU,CACdC,KAAK,CAAE,CACLzC,KAAK,CAAE,KAAK,CACZ0C,QAAQ,CAAE,GAAG,CACbT,YAAY,CAAE,CAAC,CACfU,SAAS,CAAE,SACb,CAAE,CACH,CAAC,cACFrN,IAAA,CAACnB,GAAG,EACFwL,EAAE,CAAE,CACFoC,SAAS,CAAE,MAAM,CACjBd,QAAQ,CAAE,CAAC,CACXe,eAAe,CAAE,MAAM,CACvBC,YAAY,CAAE,CAAC,CACf7L,CAAC,CAAE,CAAC,CACJmK,MAAM,CAAE,MAAM,CACdX,OAAO,CAAE,MAAM,CACfG,UAAU,CAAE,QAAQ,CACpBsC,SAAS,CAAE,iCACb,CAAE,CAAApC,QAAA,cAEF3K,IAAA,CAAClB,UAAU,EACT8L,OAAO,CAAC,OAAO,CACfU,KAAK,CAAC,gBAAgB,CACtBjB,EAAE,CAAE,CACFiD,QAAQ,CAAE,QAAQ,CAClBhD,OAAO,CAAE,aAAa,CACtBiD,eAAe,CAAE,CAAC,CAClBC,eAAe,CAAE,UAAU,CAC3BC,UAAU,CAAE,GACd,CAAE,CAAA9C,QAAA,CAED,CAAAtI,IAAI,SAAJA,IAAI,kBAAAH,mBAAA,CAAJG,IAAI,CAAEoD,YAAY,UAAAvD,mBAAA,iBAAlBA,mBAAA,CAAoBb,WAAW,GAC9B,uCAAuC,CAC/B,CAAC,CACV,CAAC,EACH,CAAC,CAELmE,WAAW,EAAI,CAAC3C,SAAS,eACxB7C,IAAA,CAACf,IAAI,EAAC2M,KAAK,CAAC,yBAAyB,CAACd,OAAO,CAAE3B,UAAW,CAAE,CAC7D,CAEA3D,WAAW,EAAI3C,SAAS,eACvB3C,KAAA,CAACrB,GAAG,EACFwL,EAAE,CAAE,CACFC,OAAO,CAAE,MAAM,CACfmB,GAAG,CAAE,CAAC,CACNjB,cAAc,CAAE,QAAQ,CACxB8B,QAAQ,CAAE,MACZ,CAAE,CAAA3B,QAAA,eAEF3K,IAAA,CAACf,IAAI,EACH2M,KAAK,CAAEvI,MAAM,CAAG,WAAW,CAAG,MAAO,CACrCiI,KAAK,CAAC,SAAS,CACfR,OAAO,CAAE1B,UAAW,CACpBsE,SAAS,CAAE,CAACrK,MAAO,CACnB4I,QAAQ,CAAE5I,MAAO,CACjBsK,IAAI,CACFtK,MAAM,cACJrD,IAAA,CAACZ,gBAAgB,EAACoN,IAAI,CAAE,EAAG,CAAClB,KAAK,CAAC,SAAS,CAAE,CAAC,CAC5CsC,SACL,CACF,CAAC,cACF5N,IAAA,CAACf,IAAI,EACH2M,KAAK,CAAC,SAAS,CACfN,KAAK,CAAC,OAAO,CACbR,OAAO,CAAEX,aAAc,CACvBuD,SAAS,MACTzB,QAAQ,CAAE5I,MAAO,CAClB,CAAC,EACC,CACN,EACE,CAAC,EACH,CAAC,cAENnD,KAAA,CAAClB,IAAI,EACH6O,SAAS,MACTC,OAAO,CAAE,CAAE,CACXzD,EAAE,CAAE,CACFC,OAAO,CAAE,MAAM,CACfyD,mBAAmB,CAAE,CAAExC,EAAE,CAAE,KAAK,CAAEC,EAAE,CAAE,SAAU,CAClD,CAAE,CAAAb,QAAA,eAEF3K,IAAA,CAACnB,GAAG,EAAA8L,QAAA,cACFzK,KAAA,CAACrB,GAAG,EACFwL,EAAE,CAAE,CACF2D,MAAM,CAAE,gBAAgB,CACxBrB,YAAY,CAAE,MAAM,CACpBtB,EAAE,CAAE,CAAC,CACL4C,SAAS,CAAE,MAAM,CACjBX,QAAQ,CAAE,MACZ,CAAE,CAAA3C,QAAA,eAEF3K,IAAA,CAACb,OAAO,EAACkL,EAAE,CAAE,CAAE6D,EAAE,CAAE,CAAE,CAAE,CAAE,CAAC,cAC1BlO,IAAA,CAACR,cAAc,EACb2O,KAAK,cACHnO,IAAA,CAAClB,UAAU,EAAC8L,OAAO,CAAC,kBAAkB,CAAAD,QAAA,CAAC,iBAEvC,CAAY,CACb,CACDlH,IAAI,CAAEU,WAAY,CAClBiK,UAAU,CAAEA,CAAA,GAAMhK,cAAc,CAAC,CAACD,WAAW,CAAE,CAAAwG,QAAA,cAE/C3K,IAAA,CAACP,WAAW,EACV4O,aAAa,CAAE,CACb,CACEzC,KAAK,CAAE,oBAAoB,CAC3B0C,OAAO,CAAE1K,YAAY,CACrBsD,IAAI,CAAE,MACR,CAAC,CACD,CACFqH,cAAc,CAAEA,CAACrH,IAAI,CAAE4E,KAAK,GAC1B5E,IAAI,GAAK,MAAM,EAAIrD,eAAe,CAACiI,KAAK,CACzC,CACF,CAAC,CACY,CAAC,cACjB9L,IAAA,CAACR,cAAc,EACb2O,KAAK,cACHnO,IAAA,CAAClB,UAAU,EAAC8L,OAAO,CAAC,kBAAkB,CAAAD,QAAA,CAAC,WAEvC,CAAY,CACb,CACDlH,IAAI,CAAEY,eAAgB,CACtB+J,UAAU,CAAEA,CAAA,GAAM9J,kBAAkB,CAAC,CAACD,eAAe,CAAE,CAAAsG,QAAA,cAEvD3K,IAAA,CAACP,WAAW,EACV4O,aAAa,CAAE1G,YAAY,CAAC9G,GAAG,CAAE6H,IAAI,GAAM,CACzCkD,KAAK,CAAElD,IAAI,CACX4F,OAAO,CAAExK,aAAa,CAACyB,QAAQ,CAACmD,IAAI,CAAC,CACrCxB,IAAI,CAAEwB,IACR,CAAC,CAAC,CAAE,CACJ6F,cAAc,CAAEA,CAACrH,IAAI,CAAEoH,OAAO,GAAK,CACjCvK,gBAAgB,CAAEkG,IAAI,EACpBqE,OAAO,CACH,CAAC,GAAGrE,IAAI,CAAE/C,IAAI,CAAC,CACf+C,IAAI,CAAChE,MAAM,CAAE0C,CAAC,EAAKA,CAAC,GAAKzB,IAAI,CACnC,CAAC,CACDjD,cAAc,CAAC,CAAC,CAAC,CACnB,CAAE,CACH,CAAC,CACY,CAAC,EACd,CAAC,CACH,CAAC,cAENjE,IAAA,CAAChB,IAAI,EAACwP,IAAI,MAACjD,EAAE,CAAE,EAAG,CAACC,EAAE,CAAE,CAAE,CAAAb,QAAA,cACvBzK,KAAA,CAACrB,GAAG,EACFwL,EAAE,CAAE,CACFoE,IAAI,CAAE,CAAC,CACPC,EAAE,CAAE,CAAC,CACLzD,MAAM,CAAE,qBAAqB,CAC7BgD,SAAS,CAAE,qBAAqB,CAChClD,SAAS,CAAE,YAAY,CACvBiD,MAAM,CAAE,gBAAgB,CACxBrB,YAAY,CAAE,MAAM,CACpBI,SAAS,CAAE,gBAAgB,CAC3B4B,SAAS,CAAE,QAAQ,CACnB,sBAAsB,CAAE,CAAErE,OAAO,CAAE,MAAO,CAAC,CAC3CsE,eAAe,CAAE,MAAM,CACvBC,cAAc,CAAE,MAAM,CACtBnE,KAAK,CAAE,MACT,CAAE,CAAAC,QAAA,eAEF3K,IAAA,CAAClB,UAAU,EACT8L,OAAO,CAAC,YAAY,CACpBkE,YAAY,MACZzE,EAAE,CAAE,CAAEgB,EAAE,CAAE,CAAC,CAAEf,OAAO,CAAE,MAAM,CAAEG,UAAU,CAAE,QAAQ,CAAEgB,GAAG,CAAE,CAAE,CAAE,CAAAd,QAAA,CAC9D,UAED,CAAY,CAAC,cACb3K,IAAA,CAACnB,GAAG,EACFwL,EAAE,CAAE,CACFiD,QAAQ,CAAE,MAAM,CAChBvC,SAAS,CAAE,YAAY,CACvB,sBAAsB,CAAE,CAAET,OAAO,CAAE,MAAO,CAC5C,CAAE,CAAAK,QAAA,CAED3B,eAAe,CAAChI,MAAM,GAAK,CAAC,cAC3BhB,IAAA,CAACnB,GAAG,EACFwL,EAAE,CAAE,CACFY,MAAM,CAAE,OAAO,CACfgD,SAAS,CAAE,qBAAqB,CAChC3D,OAAO,CAAE,MAAM,CACfE,cAAc,CAAE,QAAQ,CACxBC,UAAU,CAAE,QAAQ,CACpBY,EAAE,CAAE,CACN,CAAE,CAAAV,QAAA,cAEF3K,IAAA,CAAClB,UAAU,EAAC8L,OAAO,CAAC,YAAY,CAAAD,QAAA,CAAC,qEAGjC,CAAY,CAAC,CACV,CAAC,cAEN3K,IAAA,CAACnB,GACC;AAAA,EACAwL,EAAE,CAAE,CACF;AACA4D,SAAS,CAAE,qBAAqB,CAChCX,QAAQ,CAAE,MAAM,CAChB,sBAAsB,CAAE,CAAEhD,OAAO,CAAE,MAAO,CAAC,CAC3CsE,eAAe,CAAE,MAAM,CACvBC,cAAc,CAAE,MAAM,CACtBE,EAAE,CAAE,CACN,CAAE,CAAApE,QAAA,cAEF3K,IAAA,CAACF,YAAY,EACXkP,IAAI,CAAEhG,eAAgB,CACtBiG,YAAY,CAAGnH,IAAI,GAAM,CACvB3G,GAAG,CAAE2G,IAAI,CAAC3G,GAAG,CACbgN,KAAK,CAAErG,IAAI,CAAC1G,WAAW,CACvB8N,QAAQ,CAAEpH,IAAI,CAACxG,SAAS,CAAG,QAAQ,CAAG,IAAI,CAC1C6N,cAAc,CAAE,gBAAgB,CAChCC,cAAc,CAAEtH,IAAI,CAACnG,UAAU,CAC/BN,WAAW,CAAEyG,IAAI,CAACzG,WAAW,CAC7BgO,KAAK,CAAE,CACL,CACEzD,KAAK,CAAE,SAAS,CAChBE,KAAK,CAAEhE,IAAI,CAAC/G,MAAM,CAClBuO,IAAI,CAAE,MACR,CAAC,CACD,CACE1D,KAAK,CAAE,aAAa,CACpBE,KAAK,CAAEhE,IAAI,CAAChG,UAAU,CACtBwN,IAAI,CAAE,MACR,CAAC,CACD,CACE1D,KAAK,CAAE,YAAY,CACnBE,KAAK,CAAEhE,IAAI,CAACvG,SAAS,CACrB+N,IAAI,CAAE,MACR,CAAC,CACD,CACE1D,KAAK,CAAE,SAAS,CAChBE,KAAK,CAAEhE,IAAI,CAACtG,MAAM,CAClB8N,IAAI,CAAE,MACR,CAAC,CACF,CACDxE,OAAO,CAAEhD,IAAI,CAACxG,SAAS,CACnB,IACEiO,MAAM,CAAC9L,IAAI,CACTqE,IAAI,CAACxG,SAAS,CACd,QAAQ,CACR,qBACF,CAAC,CACHsM,SACN,CAAC,CAAE,CACJ,CAAC,CACC,CACN,CACE,CAAC,cACN5N,IAAA,CAACN,aAAa,EACZkJ,UAAU,CAAEA,UAAW,CACvB5E,WAAW,CAAEA,WAAY,CACzBwL,YAAY,CAAEA,CAACC,CAAC,CAAEC,IAAI,GAAKzL,cAAc,CAACyL,IAAI,CAAE,CACjD,CAAC,EACC,CAAC,CACF,CAAC,EACH,CAAC,EACJ,CAAC,EACH,CAAC,cAEN1P,IAAA,CAACX,QAAQ,EACPoE,IAAI,CAAEF,KAAK,CAACE,IAAK,CACjBkM,gBAAgB,CAAE,IAAK,CACvBC,OAAO,CAAExF,gBAAiB,CAC1ByF,YAAY,CAAE,CAAEC,QAAQ,CAAE,QAAQ,CAAEC,UAAU,CAAE,QAAS,CAAE,CAAApF,QAAA,cAE3D3K,IAAA,CAACV,KAAK,EACJsQ,OAAO,CAAExF,gBAAiB,CAC1BzG,QAAQ,CAAEJ,KAAK,CAACI,QAAS,CACzBiH,OAAO,CAAC,QAAQ,CAAAD,QAAA,CAEfpH,KAAK,CAACG,OAAO,CACT,CAAC,CACA,CAAC,EACX,CAAC,CAEP,CAEA,cAAe,CAAA3B,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}