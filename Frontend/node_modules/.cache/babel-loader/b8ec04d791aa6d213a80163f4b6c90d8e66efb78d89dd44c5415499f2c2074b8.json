{"ast":null,"code":"import _objectSpread from \"/home/rcts/Email-differ/Frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _objectWithoutProperties from \"/home/rcts/Email-differ/Frontend/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nconst _excluded = [\"name\", \"properties\"];\nimport { resolveAwsSdkSigV4AConfig, resolveAwsSdkSigV4Config } from \"@aws-sdk/core\";\nimport { SignatureV4MultiRegion } from \"@aws-sdk/signature-v4-multi-region\";\nimport { resolveParams } from \"@smithy/middleware-endpoint\";\nimport { getSmithyContext, normalizeProvider } from \"@smithy/util-middleware\";\nimport { defaultEndpointResolver } from \"../endpoint/endpointResolver\";\nconst createEndpointRuleSetHttpAuthSchemeParametersProvider = defaultHttpAuthSchemeParametersProvider => async (config, context, input) => {\n  var _getSmithyContext;\n  if (!input) {\n    throw new Error(\"Could not find `input` for `defaultEndpointRuleSetHttpAuthSchemeParametersProvider`\");\n  }\n  const defaultParameters = await defaultHttpAuthSchemeParametersProvider(config, context, input);\n  const instructionsFn = (_getSmithyContext = getSmithyContext(context)) === null || _getSmithyContext === void 0 || (_getSmithyContext = _getSmithyContext.commandInstance) === null || _getSmithyContext === void 0 || (_getSmithyContext = _getSmithyContext.constructor) === null || _getSmithyContext === void 0 ? void 0 : _getSmithyContext.getEndpointParameterInstructions;\n  if (!instructionsFn) {\n    throw new Error(\"getEndpointParameterInstructions() is not defined on '\".concat(context.commandName, \"'\"));\n  }\n  const endpointParameters = await resolveParams(input, {\n    getEndpointParameterInstructions: instructionsFn\n  }, config);\n  return Object.assign(defaultParameters, endpointParameters);\n};\nconst _defaultS3HttpAuthSchemeParametersProvider = async (config, context, input) => {\n  return {\n    operation: getSmithyContext(context).operation,\n    region: (await normalizeProvider(config.region)()) || (() => {\n      throw new Error(\"expected `region` to be configured for `aws.auth#sigv4`\");\n    })()\n  };\n};\nexport const defaultS3HttpAuthSchemeParametersProvider = createEndpointRuleSetHttpAuthSchemeParametersProvider(_defaultS3HttpAuthSchemeParametersProvider);\nfunction createAwsAuthSigv4HttpAuthOption(authParameters) {\n  return {\n    schemeId: \"aws.auth#sigv4\",\n    signingProperties: {\n      name: \"s3\",\n      region: authParameters.region\n    },\n    propertiesExtractor: (config, context) => ({\n      signingProperties: {\n        config,\n        context\n      }\n    })\n  };\n}\nfunction createAwsAuthSigv4aHttpAuthOption(authParameters) {\n  return {\n    schemeId: \"aws.auth#sigv4a\",\n    signingProperties: {\n      name: \"s3\",\n      region: authParameters.region\n    },\n    propertiesExtractor: (config, context) => ({\n      signingProperties: {\n        config,\n        context\n      }\n    })\n  };\n}\nconst createEndpointRuleSetHttpAuthSchemeProvider = (defaultEndpointResolver, defaultHttpAuthSchemeResolver, createHttpAuthOptionFunctions) => {\n  const endpointRuleSetHttpAuthSchemeProvider = authParameters => {\n    var _endpoint$properties;\n    const endpoint = defaultEndpointResolver(authParameters);\n    const authSchemes = (_endpoint$properties = endpoint.properties) === null || _endpoint$properties === void 0 ? void 0 : _endpoint$properties.authSchemes;\n    if (!authSchemes) {\n      return defaultHttpAuthSchemeResolver(authParameters);\n    }\n    const options = [];\n    for (const scheme of authSchemes) {\n      const {\n          name: resolvedName,\n          properties = {}\n        } = scheme,\n        rest = _objectWithoutProperties(scheme, _excluded);\n      const name = resolvedName.toLowerCase();\n      if (resolvedName !== name) {\n        console.warn(\"HttpAuthScheme has been normalized with lowercasing: '\".concat(resolvedName, \"' to '\").concat(name, \"'\"));\n      }\n      let schemeId;\n      if (name === \"sigv4a\") {\n        schemeId = \"aws.auth#sigv4a\";\n        const sigv4Present = authSchemes.find(s => {\n          const name = s.name.toLowerCase();\n          return name !== \"sigv4a\" && name.startsWith(\"sigv4\");\n        });\n        if (SignatureV4MultiRegion.sigv4aDependency() === \"none\" && sigv4Present) {\n          continue;\n        }\n      } else if (name.startsWith(\"sigv4\")) {\n        schemeId = \"aws.auth#sigv4\";\n      } else {\n        throw new Error(\"Unknown HttpAuthScheme found in '@smithy.rules#endpointRuleSet': '\".concat(name, \"'\"));\n      }\n      const createOption = createHttpAuthOptionFunctions[schemeId];\n      if (!createOption) {\n        throw new Error(\"Could not find HttpAuthOption create function for '\".concat(schemeId, \"'\"));\n      }\n      const option = createOption(authParameters);\n      option.schemeId = schemeId;\n      option.signingProperties = _objectSpread(_objectSpread(_objectSpread({}, option.signingProperties || {}), rest), properties);\n      options.push(option);\n    }\n    return options;\n  };\n  return endpointRuleSetHttpAuthSchemeProvider;\n};\nconst _defaultS3HttpAuthSchemeProvider = authParameters => {\n  const options = [];\n  switch (authParameters.operation) {\n    default:\n      {\n        options.push(createAwsAuthSigv4HttpAuthOption(authParameters));\n        options.push(createAwsAuthSigv4aHttpAuthOption(authParameters));\n      }\n  }\n  return options;\n};\nexport const defaultS3HttpAuthSchemeProvider = createEndpointRuleSetHttpAuthSchemeProvider(defaultEndpointResolver, _defaultS3HttpAuthSchemeProvider, {\n  \"aws.auth#sigv4\": createAwsAuthSigv4HttpAuthOption,\n  \"aws.auth#sigv4a\": createAwsAuthSigv4aHttpAuthOption\n});\nexport const resolveHttpAuthSchemeConfig = config => {\n  var _config$authSchemePre;\n  const config_0 = resolveAwsSdkSigV4Config(config);\n  const config_1 = resolveAwsSdkSigV4AConfig(config_0);\n  return Object.assign(config_1, {\n    authSchemePreference: normalizeProvider((_config$authSchemePre = config.authSchemePreference) !== null && _config$authSchemePre !== void 0 ? _config$authSchemePre : [])\n  });\n};","map":{"version":3,"names":["resolveAwsSdkSigV4AConfig","resolveAwsSdkSigV4Config","SignatureV4MultiRegion","resolveParams","getSmithyContext","normalizeProvider","defaultEndpointResolver","createEndpointRuleSetHttpAuthSchemeParametersProvider","defaultHttpAuthSchemeParametersProvider","config","context","input","_getSmithyContext","Error","defaultParameters","instructionsFn","commandInstance","constructor","getEndpointParameterInstructions","concat","commandName","endpointParameters","Object","assign","_defaultS3HttpAuthSchemeParametersProvider","operation","region","defaultS3HttpAuthSchemeParametersProvider","createAwsAuthSigv4HttpAuthOption","authParameters","schemeId","signingProperties","name","propertiesExtractor","createAwsAuthSigv4aHttpAuthOption","createEndpointRuleSetHttpAuthSchemeProvider","defaultHttpAuthSchemeResolver","createHttpAuthOptionFunctions","endpointRuleSetHttpAuthSchemeProvider","_endpoint$properties","endpoint","authSchemes","properties","options","scheme","resolvedName","rest","_objectWithoutProperties","_excluded","toLowerCase","console","warn","sigv4Present","find","s","startsWith","sigv4aDependency","createOption","option","_objectSpread","push","_defaultS3HttpAuthSchemeProvider","defaultS3HttpAuthSchemeProvider","resolveHttpAuthSchemeConfig","_config$authSchemePre","config_0","config_1","authSchemePreference"],"sources":["/home/rcts/Email-differ/Frontend/node_modules/@aws-sdk/client-s3/dist-es/auth/httpAuthSchemeProvider.js"],"sourcesContent":["import { resolveAwsSdkSigV4AConfig, resolveAwsSdkSigV4Config, } from \"@aws-sdk/core\";\nimport { SignatureV4MultiRegion } from \"@aws-sdk/signature-v4-multi-region\";\nimport { resolveParams } from \"@smithy/middleware-endpoint\";\nimport { getSmithyContext, normalizeProvider } from \"@smithy/util-middleware\";\nimport { defaultEndpointResolver } from \"../endpoint/endpointResolver\";\nconst createEndpointRuleSetHttpAuthSchemeParametersProvider = (defaultHttpAuthSchemeParametersProvider) => async (config, context, input) => {\n    if (!input) {\n        throw new Error(\"Could not find `input` for `defaultEndpointRuleSetHttpAuthSchemeParametersProvider`\");\n    }\n    const defaultParameters = await defaultHttpAuthSchemeParametersProvider(config, context, input);\n    const instructionsFn = getSmithyContext(context)?.commandInstance?.constructor\n        ?.getEndpointParameterInstructions;\n    if (!instructionsFn) {\n        throw new Error(`getEndpointParameterInstructions() is not defined on '${context.commandName}'`);\n    }\n    const endpointParameters = await resolveParams(input, { getEndpointParameterInstructions: instructionsFn }, config);\n    return Object.assign(defaultParameters, endpointParameters);\n};\nconst _defaultS3HttpAuthSchemeParametersProvider = async (config, context, input) => {\n    return {\n        operation: getSmithyContext(context).operation,\n        region: await normalizeProvider(config.region)() || (() => {\n            throw new Error(\"expected `region` to be configured for `aws.auth#sigv4`\");\n        })(),\n    };\n};\nexport const defaultS3HttpAuthSchemeParametersProvider = createEndpointRuleSetHttpAuthSchemeParametersProvider(_defaultS3HttpAuthSchemeParametersProvider);\nfunction createAwsAuthSigv4HttpAuthOption(authParameters) {\n    return {\n        schemeId: \"aws.auth#sigv4\",\n        signingProperties: {\n            name: \"s3\",\n            region: authParameters.region,\n        },\n        propertiesExtractor: (config, context) => ({\n            signingProperties: {\n                config,\n                context,\n            },\n        }),\n    };\n}\nfunction createAwsAuthSigv4aHttpAuthOption(authParameters) {\n    return {\n        schemeId: \"aws.auth#sigv4a\",\n        signingProperties: {\n            name: \"s3\",\n            region: authParameters.region,\n        },\n        propertiesExtractor: (config, context) => ({\n            signingProperties: {\n                config,\n                context,\n            },\n        }),\n    };\n}\nconst createEndpointRuleSetHttpAuthSchemeProvider = (defaultEndpointResolver, defaultHttpAuthSchemeResolver, createHttpAuthOptionFunctions) => {\n    const endpointRuleSetHttpAuthSchemeProvider = (authParameters) => {\n        const endpoint = defaultEndpointResolver(authParameters);\n        const authSchemes = endpoint.properties?.authSchemes;\n        if (!authSchemes) {\n            return defaultHttpAuthSchemeResolver(authParameters);\n        }\n        const options = [];\n        for (const scheme of authSchemes) {\n            const { name: resolvedName, properties = {}, ...rest } = scheme;\n            const name = resolvedName.toLowerCase();\n            if (resolvedName !== name) {\n                console.warn(`HttpAuthScheme has been normalized with lowercasing: '${resolvedName}' to '${name}'`);\n            }\n            let schemeId;\n            if (name === \"sigv4a\") {\n                schemeId = \"aws.auth#sigv4a\";\n                const sigv4Present = authSchemes.find((s) => {\n                    const name = s.name.toLowerCase();\n                    return name !== \"sigv4a\" && name.startsWith(\"sigv4\");\n                });\n                if (SignatureV4MultiRegion.sigv4aDependency() === \"none\" && sigv4Present) {\n                    continue;\n                }\n            }\n            else if (name.startsWith(\"sigv4\")) {\n                schemeId = \"aws.auth#sigv4\";\n            }\n            else {\n                throw new Error(`Unknown HttpAuthScheme found in '@smithy.rules#endpointRuleSet': '${name}'`);\n            }\n            const createOption = createHttpAuthOptionFunctions[schemeId];\n            if (!createOption) {\n                throw new Error(`Could not find HttpAuthOption create function for '${schemeId}'`);\n            }\n            const option = createOption(authParameters);\n            option.schemeId = schemeId;\n            option.signingProperties = { ...(option.signingProperties || {}), ...rest, ...properties };\n            options.push(option);\n        }\n        return options;\n    };\n    return endpointRuleSetHttpAuthSchemeProvider;\n};\nconst _defaultS3HttpAuthSchemeProvider = (authParameters) => {\n    const options = [];\n    switch (authParameters.operation) {\n        default: {\n            options.push(createAwsAuthSigv4HttpAuthOption(authParameters));\n            options.push(createAwsAuthSigv4aHttpAuthOption(authParameters));\n        }\n    }\n    return options;\n};\nexport const defaultS3HttpAuthSchemeProvider = createEndpointRuleSetHttpAuthSchemeProvider(defaultEndpointResolver, _defaultS3HttpAuthSchemeProvider, {\n    \"aws.auth#sigv4\": createAwsAuthSigv4HttpAuthOption,\n    \"aws.auth#sigv4a\": createAwsAuthSigv4aHttpAuthOption,\n});\nexport const resolveHttpAuthSchemeConfig = (config) => {\n    const config_0 = resolveAwsSdkSigV4Config(config);\n    const config_1 = resolveAwsSdkSigV4AConfig(config_0);\n    return Object.assign(config_1, {\n        authSchemePreference: normalizeProvider(config.authSchemePreference ?? []),\n    });\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}