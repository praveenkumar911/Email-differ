{"ast":null,"code":"import _defineProperty from \"/home/rcts/Email-differ/Frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport { HttpBindingProtocol, HttpInterceptingShapeDeserializer, HttpInterceptingShapeSerializer } from \"@smithy/core/protocols\";\nimport { NormalizedSchema, TypeRegistry } from \"@smithy/core/schema\";\nimport { ProtocolLib } from \"../ProtocolLib\";\nimport { JsonCodec } from \"./JsonCodec\";\nimport { loadRestJsonErrorCode } from \"./parseJsonBody\";\nexport class AwsRestJsonProtocol extends HttpBindingProtocol {\n  constructor(_ref) {\n    let {\n      defaultNamespace\n    } = _ref;\n    super({\n      defaultNamespace\n    });\n    _defineProperty(this, \"serializer\", void 0);\n    _defineProperty(this, \"deserializer\", void 0);\n    _defineProperty(this, \"codec\", void 0);\n    _defineProperty(this, \"mixin\", new ProtocolLib());\n    const settings = {\n      timestampFormat: {\n        useTrait: true,\n        default: 7\n      },\n      httpBindings: true,\n      jsonName: true\n    };\n    this.codec = new JsonCodec(settings);\n    this.serializer = new HttpInterceptingShapeSerializer(this.codec.createSerializer(), settings);\n    this.deserializer = new HttpInterceptingShapeDeserializer(this.codec.createDeserializer(), settings);\n  }\n  getShapeId() {\n    return \"aws.protocols#restJson1\";\n  }\n  getPayloadCodec() {\n    return this.codec;\n  }\n  setSerdeContext(serdeContext) {\n    this.codec.setSerdeContext(serdeContext);\n    super.setSerdeContext(serdeContext);\n  }\n  async serializeRequest(operationSchema, input, context) {\n    const request = await super.serializeRequest(operationSchema, input, context);\n    const inputSchema = NormalizedSchema.of(operationSchema.input);\n    if (!request.headers[\"content-type\"]) {\n      const contentType = this.mixin.resolveRestContentType(this.getDefaultContentType(), inputSchema);\n      if (contentType) {\n        request.headers[\"content-type\"] = contentType;\n      }\n    }\n    if (request.body == null && request.headers[\"content-type\"] === this.getDefaultContentType()) {\n      request.body = \"{}\";\n    }\n    return request;\n  }\n  async deserializeResponse(operationSchema, context, response) {\n    const output = await super.deserializeResponse(operationSchema, context, response);\n    const outputSchema = NormalizedSchema.of(operationSchema.output);\n    for (const [name, member] of outputSchema.structIterator()) {\n      if (member.getMemberTraits().httpPayload && !(name in output)) {\n        output[name] = null;\n      }\n    }\n    return output;\n  }\n  async handleError(operationSchema, context, response, dataObject, metadata) {\n    var _loadRestJsonErrorCod, _ref2, _dataObject$message, _TypeRegistry$for$get;\n    const errorIdentifier = (_loadRestJsonErrorCod = loadRestJsonErrorCode(response, dataObject)) !== null && _loadRestJsonErrorCod !== void 0 ? _loadRestJsonErrorCod : \"Unknown\";\n    const {\n      errorSchema,\n      errorMetadata\n    } = await this.mixin.getErrorSchemaOrThrowBaseException(errorIdentifier, this.options.defaultNamespace, response, dataObject, metadata);\n    const ns = NormalizedSchema.of(errorSchema);\n    const message = (_ref2 = (_dataObject$message = dataObject.message) !== null && _dataObject$message !== void 0 ? _dataObject$message : dataObject.Message) !== null && _ref2 !== void 0 ? _ref2 : \"Unknown\";\n    const ErrorCtor = (_TypeRegistry$for$get = TypeRegistry.for(errorSchema[1]).getErrorCtor(errorSchema)) !== null && _TypeRegistry$for$get !== void 0 ? _TypeRegistry$for$get : Error;\n    const exception = new ErrorCtor(message);\n    await this.deserializeHttpMessage(errorSchema, context, response, dataObject);\n    const output = {};\n    for (const [name, member] of ns.structIterator()) {\n      var _member$getMergedTrai;\n      const target = (_member$getMergedTrai = member.getMergedTraits().jsonName) !== null && _member$getMergedTrai !== void 0 ? _member$getMergedTrai : name;\n      output[name] = this.codec.createDeserializer().readObject(member, dataObject[target]);\n    }\n    throw this.mixin.decorateServiceException(Object.assign(exception, errorMetadata, {\n      $fault: ns.getMergedTraits().error,\n      message\n    }, output), dataObject);\n  }\n  getDefaultContentType() {\n    return \"application/json\";\n  }\n}","map":{"version":3,"names":["HttpBindingProtocol","HttpInterceptingShapeDeserializer","HttpInterceptingShapeSerializer","NormalizedSchema","TypeRegistry","ProtocolLib","JsonCodec","loadRestJsonErrorCode","AwsRestJsonProtocol","constructor","_ref","defaultNamespace","_defineProperty","settings","timestampFormat","useTrait","default","httpBindings","jsonName","codec","serializer","createSerializer","deserializer","createDeserializer","getShapeId","getPayloadCodec","setSerdeContext","serdeContext","serializeRequest","operationSchema","input","context","request","inputSchema","of","headers","contentType","mixin","resolveRestContentType","getDefaultContentType","body","deserializeResponse","response","output","outputSchema","name","member","structIterator","getMemberTraits","httpPayload","handleError","dataObject","metadata","_loadRestJsonErrorCod","_ref2","_dataObject$message","_TypeRegistry$for$get","errorIdentifier","errorSchema","errorMetadata","getErrorSchemaOrThrowBaseException","options","ns","message","Message","ErrorCtor","for","getErrorCtor","Error","exception","deserializeHttpMessage","_member$getMergedTrai","target","getMergedTraits","readObject","decorateServiceException","Object","assign","$fault","error"],"sources":["/home/rcts/Email-differ/Frontend/node_modules/@aws-sdk/core/dist-es/submodules/protocols/json/AwsRestJsonProtocol.js"],"sourcesContent":["import { HttpBindingProtocol, HttpInterceptingShapeDeserializer, HttpInterceptingShapeSerializer, } from \"@smithy/core/protocols\";\nimport { NormalizedSchema, TypeRegistry } from \"@smithy/core/schema\";\nimport { ProtocolLib } from \"../ProtocolLib\";\nimport { JsonCodec } from \"./JsonCodec\";\nimport { loadRestJsonErrorCode } from \"./parseJsonBody\";\nexport class AwsRestJsonProtocol extends HttpBindingProtocol {\n    serializer;\n    deserializer;\n    codec;\n    mixin = new ProtocolLib();\n    constructor({ defaultNamespace }) {\n        super({\n            defaultNamespace,\n        });\n        const settings = {\n            timestampFormat: {\n                useTrait: true,\n                default: 7,\n            },\n            httpBindings: true,\n            jsonName: true,\n        };\n        this.codec = new JsonCodec(settings);\n        this.serializer = new HttpInterceptingShapeSerializer(this.codec.createSerializer(), settings);\n        this.deserializer = new HttpInterceptingShapeDeserializer(this.codec.createDeserializer(), settings);\n    }\n    getShapeId() {\n        return \"aws.protocols#restJson1\";\n    }\n    getPayloadCodec() {\n        return this.codec;\n    }\n    setSerdeContext(serdeContext) {\n        this.codec.setSerdeContext(serdeContext);\n        super.setSerdeContext(serdeContext);\n    }\n    async serializeRequest(operationSchema, input, context) {\n        const request = await super.serializeRequest(operationSchema, input, context);\n        const inputSchema = NormalizedSchema.of(operationSchema.input);\n        if (!request.headers[\"content-type\"]) {\n            const contentType = this.mixin.resolveRestContentType(this.getDefaultContentType(), inputSchema);\n            if (contentType) {\n                request.headers[\"content-type\"] = contentType;\n            }\n        }\n        if (request.body == null && request.headers[\"content-type\"] === this.getDefaultContentType()) {\n            request.body = \"{}\";\n        }\n        return request;\n    }\n    async deserializeResponse(operationSchema, context, response) {\n        const output = await super.deserializeResponse(operationSchema, context, response);\n        const outputSchema = NormalizedSchema.of(operationSchema.output);\n        for (const [name, member] of outputSchema.structIterator()) {\n            if (member.getMemberTraits().httpPayload && !(name in output)) {\n                output[name] = null;\n            }\n        }\n        return output;\n    }\n    async handleError(operationSchema, context, response, dataObject, metadata) {\n        const errorIdentifier = loadRestJsonErrorCode(response, dataObject) ?? \"Unknown\";\n        const { errorSchema, errorMetadata } = await this.mixin.getErrorSchemaOrThrowBaseException(errorIdentifier, this.options.defaultNamespace, response, dataObject, metadata);\n        const ns = NormalizedSchema.of(errorSchema);\n        const message = dataObject.message ?? dataObject.Message ?? \"Unknown\";\n        const ErrorCtor = TypeRegistry.for(errorSchema[1]).getErrorCtor(errorSchema) ?? Error;\n        const exception = new ErrorCtor(message);\n        await this.deserializeHttpMessage(errorSchema, context, response, dataObject);\n        const output = {};\n        for (const [name, member] of ns.structIterator()) {\n            const target = member.getMergedTraits().jsonName ?? name;\n            output[name] = this.codec.createDeserializer().readObject(member, dataObject[target]);\n        }\n        throw this.mixin.decorateServiceException(Object.assign(exception, errorMetadata, {\n            $fault: ns.getMergedTraits().error,\n            message,\n        }, output), dataObject);\n    }\n    getDefaultContentType() {\n        return \"application/json\";\n    }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}