{"ast":null,"code":"import _objectSpread from \"/home/rcts/Email-differ/Frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { runPolling } from \"./poller\";\nimport { validateWaiterOptions } from \"./utils\";\nimport { waiterServiceDefaults, WaiterState } from \"./waiter\";\nconst abortTimeout = abortSignal => {\n  let onAbort;\n  const promise = new Promise(resolve => {\n    onAbort = () => resolve({\n      state: WaiterState.ABORTED\n    });\n    if (typeof abortSignal.addEventListener === \"function\") {\n      abortSignal.addEventListener(\"abort\", onAbort);\n    } else {\n      abortSignal.onabort = onAbort;\n    }\n  });\n  return {\n    clearListener() {\n      if (typeof abortSignal.removeEventListener === \"function\") {\n        abortSignal.removeEventListener(\"abort\", onAbort);\n      }\n    },\n    aborted: promise\n  };\n};\nexport const createWaiter = async (options, input, acceptorChecks) => {\n  var _options$abortControl;\n  const params = _objectSpread(_objectSpread({}, waiterServiceDefaults), options);\n  validateWaiterOptions(params);\n  const exitConditions = [runPolling(params, input, acceptorChecks)];\n  const finalize = [];\n  if (options.abortSignal) {\n    const {\n      aborted,\n      clearListener\n    } = abortTimeout(options.abortSignal);\n    finalize.push(clearListener);\n    exitConditions.push(aborted);\n  }\n  if ((_options$abortControl = options.abortController) !== null && _options$abortControl !== void 0 && _options$abortControl.signal) {\n    const {\n      aborted,\n      clearListener\n    } = abortTimeout(options.abortController.signal);\n    finalize.push(clearListener);\n    exitConditions.push(aborted);\n  }\n  return Promise.race(exitConditions).then(result => {\n    for (const fn of finalize) {\n      fn();\n    }\n    return result;\n  });\n};","map":{"version":3,"names":["runPolling","validateWaiterOptions","waiterServiceDefaults","WaiterState","abortTimeout","abortSignal","onAbort","promise","Promise","resolve","state","ABORTED","addEventListener","onabort","clearListener","removeEventListener","aborted","createWaiter","options","input","acceptorChecks","_options$abortControl","params","_objectSpread","exitConditions","finalize","push","abortController","signal","race","then","result","fn"],"sources":["/home/rcts/Email-differ/Frontend/node_modules/@smithy/util-waiter/dist-es/createWaiter.js"],"sourcesContent":["import { runPolling } from \"./poller\";\nimport { validateWaiterOptions } from \"./utils\";\nimport { waiterServiceDefaults, WaiterState } from \"./waiter\";\nconst abortTimeout = (abortSignal) => {\n    let onAbort;\n    const promise = new Promise((resolve) => {\n        onAbort = () => resolve({ state: WaiterState.ABORTED });\n        if (typeof abortSignal.addEventListener === \"function\") {\n            abortSignal.addEventListener(\"abort\", onAbort);\n        }\n        else {\n            abortSignal.onabort = onAbort;\n        }\n    });\n    return {\n        clearListener() {\n            if (typeof abortSignal.removeEventListener === \"function\") {\n                abortSignal.removeEventListener(\"abort\", onAbort);\n            }\n        },\n        aborted: promise,\n    };\n};\nexport const createWaiter = async (options, input, acceptorChecks) => {\n    const params = {\n        ...waiterServiceDefaults,\n        ...options,\n    };\n    validateWaiterOptions(params);\n    const exitConditions = [runPolling(params, input, acceptorChecks)];\n    const finalize = [];\n    if (options.abortSignal) {\n        const { aborted, clearListener } = abortTimeout(options.abortSignal);\n        finalize.push(clearListener);\n        exitConditions.push(aborted);\n    }\n    if (options.abortController?.signal) {\n        const { aborted, clearListener } = abortTimeout(options.abortController.signal);\n        finalize.push(clearListener);\n        exitConditions.push(aborted);\n    }\n    return Promise.race(exitConditions).then((result) => {\n        for (const fn of finalize) {\n            fn();\n        }\n        return result;\n    });\n};\n"],"mappings":";AAAA,SAASA,UAAU,QAAQ,UAAU;AACrC,SAASC,qBAAqB,QAAQ,SAAS;AAC/C,SAASC,qBAAqB,EAAEC,WAAW,QAAQ,UAAU;AAC7D,MAAMC,YAAY,GAAIC,WAAW,IAAK;EAClC,IAAIC,OAAO;EACX,MAAMC,OAAO,GAAG,IAAIC,OAAO,CAAEC,OAAO,IAAK;IACrCH,OAAO,GAAGA,CAAA,KAAMG,OAAO,CAAC;MAAEC,KAAK,EAAEP,WAAW,CAACQ;IAAQ,CAAC,CAAC;IACvD,IAAI,OAAON,WAAW,CAACO,gBAAgB,KAAK,UAAU,EAAE;MACpDP,WAAW,CAACO,gBAAgB,CAAC,OAAO,EAAEN,OAAO,CAAC;IAClD,CAAC,MACI;MACDD,WAAW,CAACQ,OAAO,GAAGP,OAAO;IACjC;EACJ,CAAC,CAAC;EACF,OAAO;IACHQ,aAAaA,CAAA,EAAG;MACZ,IAAI,OAAOT,WAAW,CAACU,mBAAmB,KAAK,UAAU,EAAE;QACvDV,WAAW,CAACU,mBAAmB,CAAC,OAAO,EAAET,OAAO,CAAC;MACrD;IACJ,CAAC;IACDU,OAAO,EAAET;EACb,CAAC;AACL,CAAC;AACD,OAAO,MAAMU,YAAY,GAAG,MAAAA,CAAOC,OAAO,EAAEC,KAAK,EAAEC,cAAc,KAAK;EAAA,IAAAC,qBAAA;EAClE,MAAMC,MAAM,GAAAC,aAAA,CAAAA,aAAA,KACLrB,qBAAqB,GACrBgB,OAAO,CACb;EACDjB,qBAAqB,CAACqB,MAAM,CAAC;EAC7B,MAAME,cAAc,GAAG,CAACxB,UAAU,CAACsB,MAAM,EAAEH,KAAK,EAAEC,cAAc,CAAC,CAAC;EAClE,MAAMK,QAAQ,GAAG,EAAE;EACnB,IAAIP,OAAO,CAACb,WAAW,EAAE;IACrB,MAAM;MAAEW,OAAO;MAAEF;IAAc,CAAC,GAAGV,YAAY,CAACc,OAAO,CAACb,WAAW,CAAC;IACpEoB,QAAQ,CAACC,IAAI,CAACZ,aAAa,CAAC;IAC5BU,cAAc,CAACE,IAAI,CAACV,OAAO,CAAC;EAChC;EACA,KAAAK,qBAAA,GAAIH,OAAO,CAACS,eAAe,cAAAN,qBAAA,eAAvBA,qBAAA,CAAyBO,MAAM,EAAE;IACjC,MAAM;MAAEZ,OAAO;MAAEF;IAAc,CAAC,GAAGV,YAAY,CAACc,OAAO,CAACS,eAAe,CAACC,MAAM,CAAC;IAC/EH,QAAQ,CAACC,IAAI,CAACZ,aAAa,CAAC;IAC5BU,cAAc,CAACE,IAAI,CAACV,OAAO,CAAC;EAChC;EACA,OAAOR,OAAO,CAACqB,IAAI,CAACL,cAAc,CAAC,CAACM,IAAI,CAAEC,MAAM,IAAK;IACjD,KAAK,MAAMC,EAAE,IAAIP,QAAQ,EAAE;MACvBO,EAAE,CAAC,CAAC;IACR;IACA,OAAOD,MAAM;EACjB,CAAC,CAAC;AACN,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}