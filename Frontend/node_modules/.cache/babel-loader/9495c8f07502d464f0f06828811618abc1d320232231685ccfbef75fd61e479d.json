{"ast":null,"code":"import _objectSpread from\"/home/rcts/Email-differ/Frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// src/pages/Auth/SignUpPage.jsx\nimport React,{useState,useEffect}from\"react\";import{Box,TextField,Typography,Button,FormControl,InputLabel,Select,MenuItem,Checkbox,Divider,Stack,CircularProgress,Stepper,Step,StepLabel,Paper}from\"@mui/material\";import{useNavigate}from\"react-router-dom\";import{GithubAuthProvider,signInWithPopup,getAdditionalUserInfo,signOut}from\"firebase/auth\";import{auth,signInWithPhoneNumber}from\"../../firebase\";import{setupRecaptcha}from\"../../utils/setupRecaptcha\";import{cleanupRecaptcha}from\"../../utils/recaptchaCleanup\";import{resetRecaptcha}from\"../../utils/setupRecaptcha\";import{requestOtp}from\"../../api/apiService\";import hero1 from\"../../assets/white.png\";import hero2 from\"../../assets/badal_final.png\";import Swal from\"sweetalert2\";import Autocomplete from\"@mui/material/Autocomplete\";import\"../../styles/verifyAnimations.css\";// ---------- CONSTANTS ----------\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ORGANIZATIONS=[\"Self\",\"Government of India\",\"NITI Aayog\",\"Indian Institute of Technology\",\"Indian Institute of Science\",\"Microsoft India\",\"Google India\",\"TCS\",\"Infosys\",\"Wipro\",\"Other\"];const ORG_TYPE_MAPPINGS={\"Government of India\":\"Government\",\"NITI Aayog\":\"Government\",\"Indian Institute of Technology\":\"Academic\",\"Indian Institute of Science\":\"Academic\",\"Microsoft India\":\"Corporate\",\"Google India\":\"Corporate\",TCS:\"Corporate\",Infosys:\"Corporate\",Wipro:\"Corporate\",Self:\"Self\"};const ROLES=[{label:\"Program Coordinator\",value:\"R002\"},{label:\"Organization Manager\",value:\"R003\"},{label:\"Mentor\",value:\"R005\"},{label:\"Developer\",value:\"R004\"}];const GENDERS=[\"Male\",\"Female\",\"Other\",\"Prefer not to say\"];// Validation regex patterns\nconst githubRegex=/^https:\\/\\/(www\\.)?github\\.com\\/[A-Za-z0-9_-]+\\/?$/;const linkedinRegex=/^https:\\/\\/(www\\.)?linkedin\\.com\\/in\\/[A-Za-z0-9_-]+\\/?$/;const discordTagRegex=/^.{2,32}#[0-9]{1,4}$/;const discordUrlRegex=/^https:\\/\\/(www\\.)?discord\\.com\\/users\\/\\d+\\/?$/;const DISCORD_REDIRECT=\"http://127.0.0.1:3000/rcts/codeforgovtech/discord-callback\";const steps=[\"Contact Info\",\"Affiliation\",\"Social & Verification\"];const SignUpPage=()=>{const navigate=useNavigate();const[isSendingOtp,setIsSendingOtp]=useState(false);const[activeStep,setActiveStep]=useState(()=>{const savedStep=sessionStorage.getItem(\"activeStep\");return savedStep?parseInt(savedStep,10):0;});// Discord server invite - matches DISCORD_GUILD_ID: 973851473131761674\nconst DISCORD_INVITE=\"https://discord.gg/BsbzbUHz\";const DISCORD_OAUTH=\"https://discord.com/oauth2/authorize\"+\"?client_id=1450787791834447874\"+\"&redirect_uri=\"+encodeURIComponent(DISCORD_REDIRECT)+\"&response_type=code\"+\"&scope=identify%20guilds\";const[phoneCheckStatus,setPhoneCheckStatus]=useState({checking:false,exists:false,message:\"\"});const[showCustomOrg,setShowCustomOrg]=useState(false);const[discordVerified,setDiscordVerified]=useState(sessionStorage.getItem(\"discordVerified\")===\"true\");const[discordNotMember,setDiscordNotMember]=useState(sessionStorage.getItem(\"discordNotMember\")===\"true\");const initialFormData={fullName:\"\",phone:\"\",email:\"\",gender:\"\",organisation:\"\",orgType:\"\",role:\"\",githubUrl:\"\",githubId:\"\",discordId:\"\",linkedinId:\"\",termsAccepted:false};// navigation flag for preserving data\nconst isNavigatingBack=sessionStorage.getItem(\"isNavigating\");const cameFromTermsOnLoad=sessionStorage.getItem(\"cameFromTerms\");const[data,setData]=useState(()=>{// Restore data if coming back from navigation (OTP, Discord, Terms)\nif(isNavigatingBack===\"true\"||cameFromTermsOnLoad===\"true\"){const savedData=sessionStorage.getItem(\"signupFormData\");sessionStorage.removeItem(\"isNavigating\");return savedData?JSON.parse(savedData):initialFormData;}sessionStorage.removeItem(\"signupFormData\");return initialFormData;});const[githubStatus,setGithubStatus]=useState({verifying:false,verified:false,username:\"\",error:\"\"});const[githubCancelled,setGithubCancelled]=useState(false);const[discordCancelled,setDiscordCancelled]=useState(false);// Clear signup data when manually opening /signup\nuseEffect(()=>{const fromSignIn=sessionStorage.getItem(\"fromSignIn\");const cameFromOtp=sessionStorage.getItem(\"cameFromOtp\");const cameFromDiscord=sessionStorage.getItem(\"cameFromDiscord\");const cameFromTerms=sessionStorage.getItem(\"cameFromTerms\");// Detect if the page is reloaded (F5 or Ctrl+R or browser refresh)\nconst navigation=performance.getEntriesByType(\"navigation\")[0];const isReload=(navigation===null||navigation===void 0?void 0:navigation.type)===\"reload\";// Coming from sign-in → full reset\nif(fromSignIn){sessionStorage.removeItem(\"fromSignIn\");sessionStorage.removeItem(\"signupFormData\");sessionStorage.removeItem(\"githubVerified\");sessionStorage.removeItem(\"githubUsername\");sessionStorage.removeItem(\"githubUrl\");sessionStorage.removeItem(\"githubId\");sessionStorage.removeItem(\"discordVerified\");sessionStorage.removeItem(\"discordUsername\");sessionStorage.removeItem(\"discordAvatarUrl\");sessionStorage.removeItem(\"discordId\");sessionStorage.removeItem(\"discordNotMember\");sessionStorage.removeItem(\"activeStep\");// Also reset component state so UI clears immediately\ntry{setData(initialFormData);}catch(e){}try{setActiveStep(0);}catch(e){}try{setGithubStatus({verifying:false,verified:false,username:\"\",error:\"\"});}catch(e){}try{setDiscordVerified(false);setDiscordNotMember(false);}catch(e){}return;}// Page refresh → keep all data\nif(isReload){return;}// Returning from OAuth or Terms → keep all data\nif(cameFromOtp||cameFromDiscord||cameFromTerms){sessionStorage.removeItem(\"cameFromTerms\");return;}// Fresh visit to /signup → full reset\nsessionStorage.removeItem(\"signupFormData\");sessionStorage.removeItem(\"githubVerified\");sessionStorage.removeItem(\"githubUsername\");sessionStorage.removeItem(\"githubUrl\");sessionStorage.removeItem(\"githubId\");sessionStorage.removeItem(\"discordVerified\");sessionStorage.removeItem(\"discordUsername\");sessionStorage.removeItem(\"discordAvatarUrl\");sessionStorage.removeItem(\"discordId\");sessionStorage.removeItem(\"discordNotMember\");sessionStorage.removeItem(\"activeStep\");},[]);// Discord from session\nuseEffect(()=>{const verified=sessionStorage.getItem(\"discordVerified\")===\"true\";const notMember=sessionStorage.getItem(\"discordNotMember\")===\"true\";setDiscordVerified(verified);setDiscordNotMember(notMember);if(verified){const discordId=sessionStorage.getItem(\"discordId\");if(discordId){setData(prev=>_objectSpread(_objectSpread({},prev),{},{discordId:discordId}));}}},[]);// Handle Discord cancellation\nuseEffect(()=>{if(sessionStorage.getItem(\"discord_cancelled\")===\"true\"){setDiscordCancelled(true);sessionStorage.removeItem(\"discord_cancelled\");setTimeout(()=>setDiscordCancelled(false),2500);}if(sessionStorage.getItem(\"github_cancelled\")===\"true\"){setGithubCancelled(true);sessionStorage.removeItem(\"github_cancelled\");setTimeout(()=>setGithubCancelled(false),2500);}},[]);// Save form data on unload\nuseEffect(()=>{const handleBeforeUnload=()=>{var _window,_window$performance,_window$performance$n;if(((_window=window)===null||_window===void 0?void 0:(_window$performance=_window.performance)===null||_window$performance===void 0?void 0:(_window$performance$n=_window$performance.navigation)===null||_window$performance$n===void 0?void 0:_window$performance$n.type)!==1){sessionStorage.setItem(\"signupFormData\",JSON.stringify(data));}};window.addEventListener(\"beforeunload\",handleBeforeUnload);return()=>window.removeEventListener(\"beforeunload\",handleBeforeUnload);},[data]);// Real-time phone number validation\nuseEffect(()=>{const checkPhone=async()=>{if(!/^\\d{10}$/.test(data.phone)){setPhoneCheckStatus({checking:false,exists:false,message:\"\"});return;}setPhoneCheckStatus({checking:true,exists:false,message:\"Checking...\"});try{const result=await requestOtp({phone:data.phone// ❌ do NOT send email here\n});if((result===null||result===void 0?void 0:result.exists)===true&&result.reason===\"phone\"){setPhoneCheckStatus({checking:false,exists:true,message:\"Phone already registered\"});return;}setPhoneCheckStatus({checking:false,exists:false,message:\"Available\"});}catch(_unused){setPhoneCheckStatus({checking:false,exists:false,message:\"\"});}};const timer=setTimeout(()=>{if(data.phone)checkPhone();},800);return()=>clearTimeout(timer);},[data.phone]);// Restore GitHub verified data\nuseEffect(()=>{const verified=sessionStorage.getItem(\"githubVerified\")===\"true\";const username=sessionStorage.getItem(\"githubUsername\");const url=sessionStorage.getItem(\"githubUrl\");const githubId=sessionStorage.getItem(\"githubId\");if(verified&&username&&url){setGithubStatus({verifying:false,verified:true,username,error:\"\"});setData(prev=>_objectSpread(_objectSpread({},prev),{},{githubUrl:url,githubId:githubId||null}));}},[]);// Signup reCAPTCHA init\nuseEffect(()=>{if(activeStep===2){setTimeout(()=>{try{if(!window.recaptchaVerifier){setupRecaptcha(auth,\"recaptcha-container-signup\");}}catch(err){console.log(\"reCAPTCHA setup failed:\",err);}},300);}},[activeStep]);// Destroy reCAPTCHA when leaving step 2\nuseEffect(()=>{if(activeStep!==2){cleanupRecaptcha();resetRecaptcha();}},[activeStep]);const handleOrgChange=org=>{if(!org){setShowCustomOrg(false);setData(_objectSpread(_objectSpread({},data),{},{organisation:\"\",orgType:\"\"}));return;}if(org===\"Other\"){setShowCustomOrg(true);setData(_objectSpread(_objectSpread({},data),{},{organisation:\"\",orgType:\"\"}));}else{setShowCustomOrg(false);const orgType=ORG_TYPE_MAPPINGS[org]||\"\";setData(_objectSpread(_objectSpread({},data),{},{organisation:org,orgType}));}};const handleVerifyGithub=async()=>{setGithubStatus({verifying:true,verified:false,username:\"\",error:\"\"});try{var _info$profile;const provider=new GithubAuthProvider();const result=await signInWithPopup(auth,provider);const info=getAdditionalUserInfo(result);const githubUsername=info===null||info===void 0?void 0:info.username;const githubNumericId=info===null||info===void 0?void 0:(_info$profile=info.profile)===null||_info$profile===void 0?void 0:_info$profile.id;// GitHub's numeric user ID\nif(!githubUsername)throw new Error(\"Unable to retrieve GitHub username\");const verifiedUrl=\"https://github.com/\".concat(githubUsername);setData(prev=>_objectSpread(_objectSpread({},prev),{},{githubUrl:verifiedUrl,githubId:githubNumericId?String(githubNumericId):null}));sessionStorage.setItem(\"githubVerified\",\"true\");sessionStorage.setItem(\"githubUsername\",githubUsername);sessionStorage.setItem(\"githubUrl\",verifiedUrl);sessionStorage.setItem(\"githubId\",githubNumericId?String(githubNumericId):\"\");setGithubStatus({verifying:false,verified:true,username:githubUsername,error:\"\"});await signOut(auth);}catch(err){console.error(\"GitHub verify error:\",err);if(err.code===\"auth/popup-closed-by-user\"){sessionStorage.setItem(\"github_cancelled\",\"true\");setGithubStatus({verifying:false,verified:false,username:\"\",error:\"\"});Swal.fire({icon:\"warning\",title:\"Verification Cancelled\",text:\"GitHub verification was cancelled. Please try again.\",confirmButtonColor:\"#1E4DD8\"});return;}let errorMessage=\"Failed to verify GitHub account. Please try again.\";if(err.code===\"auth/popup-blocked\"){errorMessage=\"Popup was blocked. Please allow popups for this site and try again.\";}else if(err.code===\"auth/cancelled-popup-request\"){errorMessage=\"Verification cancelled. Please try again.\";}Swal.fire({icon:\"error\",title:\"GitHub Verification Failed\",text:errorMessage,confirmButtonColor:\"#1E4DD8\"});setGithubStatus({verifying:false,verified:false,username:\"\",error:\"\"});}};// ------- PER-STEP VALIDATION -------\nconst validateStep0=()=>{if(!data.fullName.trim()){Swal.fire(\"Warning\",\"Please enter your full name to continue\",\"warning\");return false;}if(!/^\\d{10}$/.test(data.phone)){Swal.fire(\"Warning\",\"Please enter a valid 10-digit phone number\",\"warning\");return false;}if(phoneCheckStatus.exists){Swal.fire(\"Info\",\"Phone number already registered. Please sign in instead.\",\"info\");return false;}if(!data.email.includes(\"@\")){Swal.fire(\"Warning\",\"Please enter a valid email address\",\"warning\");return false;}if(!data.gender){Swal.fire(\"Warning\",\"Please select your gender to continue\",\"warning\");return false;}return true;};const validateStep1=()=>{if(!data.organisation){Swal.fire(\"Warning\",\"Please select or enter your organisation\",\"warning\");return false;}if(!data.role){Swal.fire(\"Warning\",\"Please select your role to continue\",\"warning\");return false;}return true;};const validateSocialBeforeSubmit=()=>{if(!data.githubUrl||data.githubUrl.trim()===\"\"){Swal.fire(\"Warning\",\"GitHub URL is required\",\"warning\");return false;}if(!githubRegex.test(data.githubUrl)){Swal.fire(\"Warning\",\"Enter a valid GitHub URL\",\"warning\");return false;}if(!githubStatus.verified){Swal.fire(\"Warning\",\"Please verify your GitHub profile\",\"warning\");return false;}if(sessionStorage.getItem(\"discordVerified\")!==\"true\"){Swal.fire(\"Warning\",\"Please verify your Discord account\",\"warning\");return false;}const verifiedDiscordId=sessionStorage.getItem(\"discordId\");if(verifiedDiscordId){data.discordId=verifiedDiscordId;}if(data.linkedinId&&!linkedinRegex.test(data.linkedinId)){Swal.fire(\"Warning\",\"Invalid LinkedIn URL format\",\"warning\");return false;}const isDiscordVerified=sessionStorage.getItem(\"discordVerified\")===\"true\";if(data.discordId&&!isDiscordVerified&&!discordTagRegex.test(data.discordId)&&!discordUrlRegex.test(data.discordId)){Swal.fire(\"Warning\",\"Invalid Discord format\",\"warning\");return false;}if(!data.termsAccepted){Swal.fire(\"Warning\",\"Accept Terms & Conditions\",\"warning\");return false;}return true;};const handleNext=()=>{if(activeStep===0&&!validateStep0())return;if(activeStep===1&&!validateStep1())return;// Clear OAuth flags when user manually proceeds to next step\nsessionStorage.removeItem(\"cameFromOtp\");sessionStorage.removeItem(\"cameFromDiscord\");setActiveStep(prev=>prev+1);};const handleBackStep=()=>{// Clear OAuth flags when user navigates back\nsessionStorage.removeItem(\"cameFromOtp\");sessionStorage.removeItem(\"cameFromDiscord\");setActiveStep(prev=>Math.max(prev-1,0));};const silentValidateStep0=()=>data.fullName.trim()&&/^\\d{10}$/.test(data.phone)&&data.email.includes(\"@\")&&data.gender;const silentValidateStep1=()=>data.organisation&&data.role;const silentValidateStep2=()=>data.termsAccepted&&githubStatus.verified&&sessionStorage.getItem(\"discordVerified\")===\"true\"&&(!data.linkedinId||linkedinRegex.test(data.linkedinId));const isSignupAllowed=()=>silentValidateStep0()&&silentValidateStep1()&&silentValidateStep2();// ------- FINAL SUBMIT (OTP SEND) -------\nconst handleSubmit=async()=>{// Step 1: Validate form fields per step\nif(!validateStep0())return;if(!validateStep1())return;if(!validateSocialBeforeSubmit())return;// Step 2: Check if phone/email already exist — BEFORE sending OTP\nsetIsSendingOtp(true);try{const preCheck=await requestOtp({phone:data.phone,email:data.email// now included\n});if(preCheck.exists===true){// Clear OTP state to avoid confusion\nsetIsSendingOtp(false);if(preCheck.reason===\"email\"){Swal.fire(\"Email already exists\",preCheck.message,\"info\");return;}if(preCheck.reason===\"phone\"||preCheck.reason===\"both\"){Swal.fire(\"Phone already exists\",preCheck.message,\"info\");return;}}// Step 3: Only if new user → proceed with OTP\nif(!window.recaptchaVerifier){await setupRecaptcha(auth,\"recaptcha-container-signup\");await new Promise(resolve=>setTimeout(resolve,200));}if(!window.recaptchaVerifier){throw new Error(\"reCAPTCHA not initialized. Please refresh and try again.\");}const phoneNumber=\"+91\".concat(data.phone);const confirmationResult=await signInWithPhoneNumber(auth,phoneNumber,window.recaptchaVerifier);sessionStorage.setItem(\"verificationId\",confirmationResult.verificationId);sessionStorage.setItem(\"signupFormData\",JSON.stringify(data));sessionStorage.setItem(\"isNavigating\",\"true\");Swal.fire({icon:\"success\",title:\"OTP Sent!\",text:\"Check your phone for the verification code\",timer:2000,showConfirmButton:false});navigate(\"/verify-otp\",{state:{phone:data.phone}});}catch(err){let msg=err.message||\"An error occurred\";if(msg.includes(\"too-many-requests\"))msg=\"Too many attempts. Try later.\";else if(msg.includes(\"invalid-phone-number\"))msg=\"Invalid phone number format.\";else if(msg.includes(\"reCAPTCHA\"))msg=\"reCAPTCHA failed. Please refresh and try again.\";Swal.fire(\"Error\",msg,\"error\");// Cleanup and reinit reCAPTCHA on error\ncleanupRecaptcha();resetRecaptcha();setTimeout(async()=>{try{await setupRecaptcha(auth,\"recaptcha-container-signup\");}catch(e){console.warn(\"Error reinitializing reCAPTCHA:\",e);}},500);}finally{setIsSendingOtp(false);}};// ---\n// ------- JSX FOR STEPS -------\nconst renderStepContent=()=>{if(activeStep===0){// CONTACT INFO\nreturn/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Typography,{fontWeight:\"bold\",fontSize:14,mb:1,alignSelf:\"flex-start\",children:\"Contact Info\"}),/*#__PURE__*/_jsx(Stack,{direction:{xs:\"column\",sm:\"row\"},spacing:2,width:\"100%\",children:/*#__PURE__*/_jsx(TextField,{label:\"Full Name\",fullWidth:true,size:\"small\",margin:\"dense\",value:data.fullName,onChange:e=>setData(_objectSpread(_objectSpread({},data),{},{fullName:e.target.value})),required:true})}),/*#__PURE__*/_jsx(TextField,{label:\"Phone\",fullWidth:true,size:\"small\",margin:\"dense\",value:data.phone,onChange:e=>{if(/^\\d{0,10}$/.test(e.target.value))setData(_objectSpread(_objectSpread({},data),{},{phone:e.target.value}));},error:phoneCheckStatus.exists,helperText:phoneCheckStatus.checking?/*#__PURE__*/_jsx(\"span\",{style:{color:\"#1976d2\"},children:\"\\u23F3 Checking availability...\"}):phoneCheckStatus.exists?/*#__PURE__*/_jsx(\"span\",{style:{color:\"#d32f2f\"},children:\"\\u274C Phone already registered. Please sign in.\"}):phoneCheckStatus.message===\"Available\"&&data.phone.length===10?/*#__PURE__*/_jsx(\"span\",{style:{color:\"#2e7d32\"},children:\"\\u2713 Available\"}):\"\",InputProps:{endAdornment:phoneCheckStatus.checking?/*#__PURE__*/_jsx(CircularProgress,{size:20}):null},required:true}),/*#__PURE__*/_jsx(TextField,{label:\"Email\",fullWidth:true,size:\"small\",margin:\"dense\",value:data.email,onChange:e=>setData(_objectSpread(_objectSpread({},data),{},{email:e.target.value})),required:true}),/*#__PURE__*/_jsxs(FormControl,{fullWidth:true,size:\"small\",margin:\"dense\",required:true,children:[/*#__PURE__*/_jsx(InputLabel,{children:\"Gender\"}),/*#__PURE__*/_jsx(Select,{label:\"Gender\",value:data.gender,onChange:e=>setData(_objectSpread(_objectSpread({},data),{},{gender:e.target.value})),children:GENDERS.map(g=>/*#__PURE__*/_jsx(MenuItem,{value:g,children:g},g))})]})]});}if(activeStep===1){// AFFILIATION\nreturn/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Typography,{fontWeight:\"bold\",fontSize:14,mb:1,alignSelf:\"flex-start\",children:\"Affiliation\"}),/*#__PURE__*/_jsx(Autocomplete,{disablePortal:true,options:ORGANIZATIONS,value:data.organisation||(showCustomOrg?\"Other\":\"\"),onChange:(e,newValue)=>handleOrgChange(newValue),renderInput:params=>/*#__PURE__*/_jsx(TextField,_objectSpread(_objectSpread({},params),{},{label:\"Organisation\",required:true,fullWidth:true,size:\"small\",margin:\"dense\"})),sx:{width:\"100%\"}}),showCustomOrg&&/*#__PURE__*/_jsx(TextField,{label:\"Enter Organisation Name\",fullWidth:true,size:\"small\",margin:\"dense\",required:true,value:data.organisation,onChange:e=>setData(_objectSpread(_objectSpread({},data),{},{organisation:e.target.value}))}),showCustomOrg?/*#__PURE__*/_jsxs(FormControl,{fullWidth:true,size:\"small\",margin:\"dense\",required:true,children:[/*#__PURE__*/_jsx(InputLabel,{children:\"Organisation Type\"}),/*#__PURE__*/_jsxs(Select,{label:\"Organisation Type\",value:data.orgType,onChange:e=>setData(_objectSpread(_objectSpread({},data),{},{orgType:e.target.value})),children:[/*#__PURE__*/_jsx(MenuItem,{value:\"Government\",children:\"Government\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"Corporate\",children:\"Corporate\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"Academic\",children:\"Academic\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"NGO\",children:\"NGO\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"Self\",children:\"Self\"})]})]}):/*#__PURE__*/_jsx(TextField,{label:\"Organisation Type\",fullWidth:true,size:\"small\",margin:\"dense\",value:data.orgType,InputProps:{readOnly:true}}),/*#__PURE__*/_jsxs(FormControl,{fullWidth:true,size:\"small\",margin:\"dense\",required:true,children:[/*#__PURE__*/_jsx(InputLabel,{children:\"Role\"}),/*#__PURE__*/_jsx(Select,{label:\"Role\",value:data.role,onChange:e=>setData(_objectSpread(_objectSpread({},data),{},{role:e.target.value})),children:ROLES.map(r=>/*#__PURE__*/_jsx(MenuItem,{value:r.value,children:r.label},r.value))})]})]});}// STEP 2: SOCIAL & TERMS\nreturn/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Typography,{fontWeight:\"bold\",fontSize:14,mb:1,alignSelf:\"flex-start\",children:\"Social & Verification\"}),/*#__PURE__*/_jsx(Typography,{fontWeight:\"bold\",fontSize:14,mt:2,mb:1,alignSelf:\"flex-start\",children:\"GitHub\"}),/*#__PURE__*/_jsxs(Box,{sx:{display:\"flex\",flexDirection:\"column\",gap:1,width:\"100%\",mt:1},children:[!githubStatus.verified?/*#__PURE__*/_jsx(Button,{fullWidth:true,variant:\"contained\",onClick:handleVerifyGithub,className:githubCancelled?\"verify-shake\":\"\",disabled:githubStatus.verifying,sx:{borderRadius:\"10px\",fontWeight:\"bold\",backgroundColor:\"#000\",color:\"white\",\"&:hover\":{backgroundColor:\"#333\"}},children:githubStatus.verifying?\"Verifying...\":\"VERIFY GITHUB\"}):/*#__PURE__*/_jsxs(Box,{sx:{display:\"flex\",alignItems:\"center\",gap:2,p:1.5,borderRadius:2,backgroundColor:\"#e8f5e9\",border:\"1px solid #4caf50\"},children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png\",alt:\"GitHub logo\",style:{width:40,height:40,borderRadius:\"50%\"}}),/*#__PURE__*/_jsx(Typography,{fontWeight:\"bold\",color:\"#2e7d32\",children:githubStatus.username}),/*#__PURE__*/_jsx(Typography,{sx:{ml:\"auto\",background:\"#4caf50\",color:\"white\",px:1.5,py:0.5,borderRadius:1,fontSize:12,fontWeight:600},children:\"Verified \\u2713\"})]}),githubCancelled&&/*#__PURE__*/_jsx(Box,{className:\"verify-error\",sx:{mt:1,padding:\"10px 12px\",borderRadius:\"8px\",border:\"1px solid #ef5350\",background:\"#ffebee\"},children:/*#__PURE__*/_jsx(Typography,{color:\"#d32f2f\",fontSize:13,fontWeight:\"600\",children:\"\\u274C GitHub verification cancelled\"})})]}),/*#__PURE__*/_jsx(Typography,{fontWeight:\"bold\",fontSize:14,mt:3,mb:1,alignSelf:\"flex-start\",children:\"Discord\"}),/*#__PURE__*/_jsx(Box,{sx:{display:\"flex\",flexDirection:\"column\",gap:1,width:\"100%\",mt:1},children:discordVerified?/*#__PURE__*/_jsxs(Box,{sx:{display:\"flex\",alignItems:\"center\",gap:2,p:1.5,borderRadius:2,backgroundColor:\"#e8f5e9\",border:\"1px solid #4caf50\"},children:[/*#__PURE__*/_jsx(\"img\",{src:sessionStorage.getItem(\"discordAvatarUrl\"),alt:\"Discord avatar\",style:{width:40,height:40,borderRadius:\"50%\"}}),/*#__PURE__*/_jsx(Typography,{fontWeight:\"bold\",color:\"#2e7d32\",children:sessionStorage.getItem(\"discordUsername\")}),/*#__PURE__*/_jsx(Typography,{sx:{ml:\"auto\",background:\"#4caf50\",color:\"white\",px:1.5,py:0.5,borderRadius:1,fontSize:12,fontWeight:600},children:\"Verified \\u2713\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Button,{fullWidth:true,variant:\"contained\",className:discordCancelled?\"verify-shake\":\"\",sx:{borderRadius:\"10px\",fontWeight:\"bold\",backgroundColor:\"#1E4DD8\",\"&:hover\":{backgroundColor:\"#1536A1\"}},onClick:()=>{sessionStorage.setItem(\"signupFormData\",JSON.stringify(data));sessionStorage.setItem(\"activeStep\",\"2\");sessionStorage.setItem(\"cameFromDiscord\",\"true\");sessionStorage.setItem(\"oauthReturnPath\",\"/signup\");window.location.href=DISCORD_OAUTH;},children:\"VERIFY DISCORD\"}),discordCancelled&&/*#__PURE__*/_jsx(Box,{className:\"verify-error\",sx:{mt:1,padding:\"10px 12px\",borderRadius:\"8px\",border:\"1px solid #ef5350\",background:\"#ffebee\"},children:/*#__PURE__*/_jsx(Typography,{color:\"#d32f2f\",fontSize:13,fontWeight:\"600\",children:\"\\u274C Discord authorization cancelled\"})}),discordNotMember&&/*#__PURE__*/_jsx(Button,{fullWidth:true,variant:\"outlined\",component:\"a\",href:DISCORD_INVITE,target:\"_blank\",rel:\"noopener noreferrer\",sx:{borderRadius:\"10px\",fontWeight:\"bold\"},children:\"JOIN DISCORD SERVER\"}),discordNotMember&&/*#__PURE__*/_jsx(Typography,{fontSize:13,color:\"#d32f2f\",children:\"\\u274C You must join our Discord server before verification.\"})]})}),/*#__PURE__*/_jsx(Typography,{fontWeight:\"bold\",fontSize:14,mt:3,mb:1,alignSelf:\"flex-start\",children:\"LinkedIn\"}),/*#__PURE__*/_jsx(TextField,{label:\"LinkedIn URL\",fullWidth:true,margin:\"dense\",size:\"small\",value:data.linkedinId,onChange:e=>setData(_objectSpread(_objectSpread({},data),{},{linkedinId:e.target.value})),error:data.linkedinId!==\"\"&&!linkedinRegex.test(data.linkedinId),helperText:data.linkedinId!==\"\"&&!linkedinRegex.test(data.linkedinId)?\"Enter valid LinkedIn profile URL (e.g. https://linkedin.com/in/username)\":\"\"}),/*#__PURE__*/_jsx(Box,{sx:{width:\"100%\",display:\"flex\",justifyContent:\"center\",mt:2,mb:1},children:/*#__PURE__*/_jsx(\"div\",{id:\"recaptcha-container-signup\"})}),/*#__PURE__*/_jsxs(Box,{display:\"flex\",alignItems:\"center\",width:\"100%\",mt:1,children:[/*#__PURE__*/_jsx(Checkbox,{checked:data.termsAccepted,onChange:e=>setData(_objectSpread(_objectSpread({},data),{},{termsAccepted:e.target.checked}))}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",children:[\"Accept\",\" \",/*#__PURE__*/_jsx(\"span\",{style:{color:\"#1E4DD8\",cursor:\"pointer\",textDecoration:\"underline\"},onClick:()=>{sessionStorage.setItem(\"signupFormData\",JSON.stringify(data));sessionStorage.setItem(\"activeStep\",String(activeStep));sessionStorage.setItem(\"cameFromTerms\",\"true\");navigate(\"/terms-and-conditions\");},children:\"Terms & Conditions\"})]})]}),/*#__PURE__*/_jsx(Button,{fullWidth:true,variant:\"contained\",disabled:!isSignupAllowed()||isSendingOtp,sx:{mt:2,borderRadius:\"20px\",backgroundColor:!isSignupAllowed()?\"#B0BEC5\":\"#1E4DD8\",\"&:hover\":{backgroundColor:!isSignupAllowed()?\"#B0BEC5\":\"#1536A1\"},py:1},onClick:handleSubmit,children:isSendingOtp?/*#__PURE__*/_jsx(CircularProgress,{size:20,sx:{color:\"white\"}}):\"Sign Up & Send OTP\"}),/*#__PURE__*/_jsx(Divider,{sx:{mt:3,mb:1,width:\"100%\"}})]});};// ------- MAIN RENDER -------\nreturn/*#__PURE__*/_jsx(Box,{sx:{minHeight:\"100vh\",width:\"100%\",background:\"linear-gradient(135deg, #1e3c72, #2a5298)\",display:\"flex\",justifyContent:\"center\",alignItems:\"center\",py:4,px:2},children:/*#__PURE__*/_jsxs(Box,{sx:{width:\"100%\",maxWidth:1400,display:\"flex\",flexDirection:{xs:\"column\",md:\"row\"},gap:{xs:4,md:8},alignItems:\"center\"},children:[/*#__PURE__*/_jsxs(Box,{sx:{flex:1,color:\"white\",textAlign:{xs:\"center\",md:\"left\"}},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h3\",fontWeight:900,mb:1,children:\"Join C4GT-Badal\"}),/*#__PURE__*/_jsx(Typography,{variant:\"h2\",fontWeight:900,sx:{fontSize:{xs:\"2.3rem\",md:\"3.2rem\"}},mb:3,children:\"Build for Public Good\"}),/*#__PURE__*/_jsx(Typography,{sx:{opacity:0.95,maxWidth:520,fontSize:\"1.1rem\",lineHeight:1.6,marginX:{xs:\"auto\",md:0}},mb:3,children:\"Collaborate with government, academia, and industry to solve real-world challenges. Sign up to be part of India\\u2019s largest open collaboration platform for governance and technology.\"}),/*#__PURE__*/_jsxs(Stack,{direction:\"row\",spacing:2,justifyContent:{xs:\"center\",md:\"flex-start\"},children:[/*#__PURE__*/_jsx(\"img\",{src:hero2,alt:\"Badal Logo\",style:{height:100,width:\"auto\",borderRadius:16}}),/*#__PURE__*/_jsx(\"img\",{src:hero1,alt:\"C4GT Logo\",style:{height:100,width:\"auto\",borderRadius:16}})]})]}),/*#__PURE__*/_jsx(Box,{sx:{flex:0.9,display:\"flex\",justifyContent:\"center\"},children:/*#__PURE__*/_jsxs(Paper,{elevation:8,sx:{width:\"100%\",maxWidth:480,p:4,borderRadius:4,background:\"rgba(255,255,255,0.96)\"},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",fontWeight:800,textAlign:\"center\",color:\"#1E4DD8\",mb:2,children:\"Create Your Account\"}),/*#__PURE__*/_jsx(Stepper,{activeStep:activeStep,alternativeLabel:true,sx:{mb:3},children:steps.map(label=>/*#__PURE__*/_jsx(Step,{children:/*#__PURE__*/_jsx(StepLabel,{children:label})},label))}),/*#__PURE__*/_jsx(Box,{sx:{display:\"flex\",flexDirection:\"column\",gap:1},children:renderStepContent()}),/*#__PURE__*/_jsxs(Box,{sx:{display:\"flex\",justifyContent:\"space-between\",alignItems:\"center\",mt:3},children:[/*#__PURE__*/_jsx(Button,{disabled:activeStep===0,onClick:handleBackStep,sx:{textTransform:\"none\"},children:\"Back\"}),activeStep<2?/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:handleNext,sx:{textTransform:\"none\",borderRadius:3,backgroundColor:\"#1E4DD8\",\"&:hover\":{backgroundColor:\"#1536A1\"}},children:\"Next\"}):/*#__PURE__*/_jsxs(Typography,{fontSize:15,color:\"text.secondary\",children:[\"Already have an account?\",\" \",/*#__PURE__*/_jsx(\"span\",{onClick:()=>navigate(\"/signin\"),style:{color:\"#1E4DD8\",cursor:\"pointer\",textDecoration:\"underline\"},children:\"Sign In\"})]})]})]})})]})});};export default SignUpPage;","map":{"version":3,"names":["React","useState","useEffect","Box","TextField","Typography","Button","FormControl","InputLabel","Select","MenuItem","Checkbox","Divider","Stack","CircularProgress","Stepper","Step","StepLabel","Paper","useNavigate","GithubAuthProvider","signInWithPopup","getAdditionalUserInfo","signOut","auth","signInWithPhoneNumber","setupRecaptcha","cleanupRecaptcha","resetRecaptcha","requestOtp","hero1","hero2","Swal","Autocomplete","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ORGANIZATIONS","ORG_TYPE_MAPPINGS","TCS","Infosys","Wipro","Self","ROLES","label","value","GENDERS","githubRegex","linkedinRegex","discordTagRegex","discordUrlRegex","DISCORD_REDIRECT","steps","SignUpPage","navigate","isSendingOtp","setIsSendingOtp","activeStep","setActiveStep","savedStep","sessionStorage","getItem","parseInt","DISCORD_INVITE","DISCORD_OAUTH","encodeURIComponent","phoneCheckStatus","setPhoneCheckStatus","checking","exists","message","showCustomOrg","setShowCustomOrg","discordVerified","setDiscordVerified","discordNotMember","setDiscordNotMember","initialFormData","fullName","phone","email","gender","organisation","orgType","role","githubUrl","githubId","discordId","linkedinId","termsAccepted","isNavigatingBack","cameFromTermsOnLoad","data","setData","savedData","removeItem","JSON","parse","githubStatus","setGithubStatus","verifying","verified","username","error","githubCancelled","setGithubCancelled","discordCancelled","setDiscordCancelled","fromSignIn","cameFromOtp","cameFromDiscord","cameFromTerms","navigation","performance","getEntriesByType","isReload","type","e","notMember","prev","_objectSpread","setTimeout","handleBeforeUnload","_window","_window$performance","_window$performance$n","window","setItem","stringify","addEventListener","removeEventListener","checkPhone","test","result","reason","_unused","timer","clearTimeout","url","recaptchaVerifier","err","console","log","handleOrgChange","org","handleVerifyGithub","_info$profile","provider","info","githubUsername","githubNumericId","profile","id","Error","verifiedUrl","concat","String","code","fire","icon","title","text","confirmButtonColor","errorMessage","validateStep0","trim","includes","validateStep1","validateSocialBeforeSubmit","verifiedDiscordId","isDiscordVerified","handleNext","handleBackStep","Math","max","silentValidateStep0","silentValidateStep1","silentValidateStep2","isSignupAllowed","handleSubmit","preCheck","Promise","resolve","phoneNumber","confirmationResult","verificationId","showConfirmButton","state","msg","warn","renderStepContent","children","fontWeight","fontSize","mb","alignSelf","direction","xs","sm","spacing","width","fullWidth","size","margin","onChange","target","required","helperText","style","color","length","InputProps","endAdornment","map","g","disablePortal","options","newValue","renderInput","params","sx","readOnly","r","mt","display","flexDirection","gap","variant","onClick","className","disabled","borderRadius","backgroundColor","alignItems","p","border","src","alt","height","ml","background","px","py","padding","location","href","component","rel","justifyContent","checked","cursor","textDecoration","minHeight","maxWidth","md","flex","textAlign","opacity","lineHeight","marginX","elevation","alternativeLabel","textTransform"],"sources":["/home/rcts/Email-differ/Frontend/src/pages/Signin-otp/SignUpPage.jsx"],"sourcesContent":["// src/pages/Auth/SignUpPage.jsx\n\nimport React, { useState, useEffect } from \"react\";\nimport {\n  Box,\n  TextField,\n  Typography,\n  Button,\n  FormControl,\n  InputLabel,\n  Select,\n  MenuItem,\n  Checkbox,\n  Divider,\n  Stack,\n  CircularProgress,\n  Stepper,\n  Step,\n  StepLabel,\n  Paper\n} from \"@mui/material\";\nimport { useNavigate } from \"react-router-dom\";\nimport {\n  GithubAuthProvider,\n  signInWithPopup,\n  getAdditionalUserInfo,\n  signOut,\n} from \"firebase/auth\";\nimport { auth, signInWithPhoneNumber } from \"../../firebase\";\nimport { setupRecaptcha } from \"../../utils/setupRecaptcha\";\nimport { cleanupRecaptcha, } from \"../../utils/recaptchaCleanup\";\nimport { resetRecaptcha } from \"../../utils/setupRecaptcha\";\nimport { requestOtp } from \"../../api/apiService\";\nimport hero1 from \"../../assets/white.png\";\nimport hero2 from \"../../assets/badal_final.png\";\nimport Swal from \"sweetalert2\";\nimport Autocomplete from \"@mui/material/Autocomplete\";\nimport \"../../styles/verifyAnimations.css\";\n\n// ---------- CONSTANTS ----------\nconst ORGANIZATIONS = [\n  \"Self\",\n  \"Government of India\",\n  \"NITI Aayog\",\n  \"Indian Institute of Technology\",\n  \"Indian Institute of Science\",\n  \"Microsoft India\",\n  \"Google India\",\n  \"TCS\",\n  \"Infosys\",\n  \"Wipro\",\n  \"Other\",\n];\n\nconst ORG_TYPE_MAPPINGS = {\n  \"Government of India\": \"Government\",\n  \"NITI Aayog\": \"Government\",\n  \"Indian Institute of Technology\": \"Academic\",\n  \"Indian Institute of Science\": \"Academic\",\n  \"Microsoft India\": \"Corporate\",\n  \"Google India\": \"Corporate\",\n  TCS: \"Corporate\",\n  Infosys: \"Corporate\",\n  Wipro: \"Corporate\",\n  Self: \"Self\",\n};\n\nconst ROLES = [\n  { label: \"Program Coordinator\", value: \"R002\" },\n  { label: \"Organization Manager\", value: \"R003\" },\n  { label: \"Mentor\", value: \"R005\" },\n  { label: \"Developer\", value: \"R004\" },\n];\n\nconst GENDERS = [\"Male\", \"Female\", \"Other\", \"Prefer not to say\"];\n\n// Validation regex patterns\nconst githubRegex = /^https:\\/\\/(www\\.)?github\\.com\\/[A-Za-z0-9_-]+\\/?$/;\nconst linkedinRegex = /^https:\\/\\/(www\\.)?linkedin\\.com\\/in\\/[A-Za-z0-9_-]+\\/?$/;\nconst discordTagRegex = /^.{2,32}#[0-9]{1,4}$/;\nconst discordUrlRegex = /^https:\\/\\/(www\\.)?discord\\.com\\/users\\/\\d+\\/?$/;\n\nconst DISCORD_REDIRECT =\n   \"http://127.0.0.1:3000/rcts/codeforgovtech/discord-callback\";\n\nconst steps = [\"Contact Info\", \"Affiliation\", \"Social & Verification\"];\n\nconst SignUpPage = () => {\n  const navigate = useNavigate();\n  const [isSendingOtp, setIsSendingOtp] = useState(false);\n  const [activeStep, setActiveStep] = useState(() => {\n    const savedStep = sessionStorage.getItem(\"activeStep\");\n    return savedStep ? parseInt(savedStep, 10) : 0;\n  });\n\n  // Discord server invite - matches DISCORD_GUILD_ID: 973851473131761674\n  const DISCORD_INVITE = \"https://discord.gg/BsbzbUHz\";\n\n  const DISCORD_OAUTH =\n    \"https://discord.com/oauth2/authorize\" +\n    \"?client_id=1450787791834447874\" +\n    \"&redirect_uri=\" +\n    encodeURIComponent(DISCORD_REDIRECT) +\n    \"&response_type=code\" +\n    \"&scope=identify%20guilds\";\n\n  const [phoneCheckStatus, setPhoneCheckStatus] = useState({\n    checking: false,\n    exists: false,\n    message: \"\",\n  });\n\n  const [showCustomOrg, setShowCustomOrg] = useState(false);\n  const [discordVerified, setDiscordVerified] = useState(\n    sessionStorage.getItem(\"discordVerified\") === \"true\"\n  );\n  const [discordNotMember, setDiscordNotMember] = useState(\n    sessionStorage.getItem(\"discordNotMember\") === \"true\"\n  );\n\n  const initialFormData = {\n    fullName: \"\",\n    phone: \"\",\n    email: \"\",\n    gender: \"\",\n    organisation: \"\",\n    orgType: \"\",\n    role: \"\",\n    githubUrl: \"\",\n    githubId: \"\",\n    discordId: \"\",\n    linkedinId: \"\",\n    termsAccepted: false,\n  };\n\n  // navigation flag for preserving data\n  const isNavigatingBack = sessionStorage.getItem(\"isNavigating\");\n  const cameFromTermsOnLoad = sessionStorage.getItem(\"cameFromTerms\");\n\n  const [data, setData] = useState(() => {\n    // Restore data if coming back from navigation (OTP, Discord, Terms)\n    if (isNavigatingBack === \"true\" || cameFromTermsOnLoad === \"true\") {\n      const savedData = sessionStorage.getItem(\"signupFormData\");\n      sessionStorage.removeItem(\"isNavigating\");\n      return savedData ? JSON.parse(savedData) : initialFormData;\n    }\n    sessionStorage.removeItem(\"signupFormData\");\n    return initialFormData;\n  });\n\n  const [githubStatus, setGithubStatus] = useState({\n    verifying: false,\n    verified: false,\n    username: \"\",\n    error: \"\",\n  });\n\n  const [githubCancelled, setGithubCancelled] = useState(false);\n  const [discordCancelled, setDiscordCancelled] = useState(false);\n\n  // Clear signup data when manually opening /signup\n  useEffect(() => {\n  const fromSignIn = sessionStorage.getItem(\"fromSignIn\");\n  const cameFromOtp = sessionStorage.getItem(\"cameFromOtp\");\n  const cameFromDiscord = sessionStorage.getItem(\"cameFromDiscord\");\n  const cameFromTerms = sessionStorage.getItem(\"cameFromTerms\");\n\n  // Detect if the page is reloaded (F5 or Ctrl+R or browser refresh)\n  const navigation = performance.getEntriesByType(\"navigation\")[0];\n  const isReload = navigation?.type === \"reload\";\n\n  // Coming from sign-in → full reset\n  if (fromSignIn) {\n    sessionStorage.removeItem(\"fromSignIn\");\n\n    sessionStorage.removeItem(\"signupFormData\");\n    sessionStorage.removeItem(\"githubVerified\");\n    sessionStorage.removeItem(\"githubUsername\");\n    sessionStorage.removeItem(\"githubUrl\");\n    sessionStorage.removeItem(\"githubId\");\n\n    sessionStorage.removeItem(\"discordVerified\");\n    sessionStorage.removeItem(\"discordUsername\");\n    sessionStorage.removeItem(\"discordAvatarUrl\");\n    sessionStorage.removeItem(\"discordId\");\n    sessionStorage.removeItem(\"discordNotMember\");\n\n    sessionStorage.removeItem(\"activeStep\");\n\n    // Also reset component state so UI clears immediately\n    try {\n      setData(initialFormData);\n    } catch (e) {}\n    try {\n      setActiveStep(0);\n    } catch (e) {}\n    try {\n      setGithubStatus({ verifying: false, verified: false, username: \"\", error: \"\" });\n    } catch (e) {}\n    try {\n      setDiscordVerified(false);\n      setDiscordNotMember(false);\n    } catch (e) {}\n\n    return;\n  }\n\n  // Page refresh → keep all data\n  if (isReload) {\n    return;\n  }\n\n  // Returning from OAuth or Terms → keep all data\n  if (cameFromOtp || cameFromDiscord || cameFromTerms) {\n    sessionStorage.removeItem(\"cameFromTerms\");\n    return;\n  }\n\n  // Fresh visit to /signup → full reset\n  sessionStorage.removeItem(\"signupFormData\");\n  sessionStorage.removeItem(\"githubVerified\");\n  sessionStorage.removeItem(\"githubUsername\");\n  sessionStorage.removeItem(\"githubUrl\");\n  sessionStorage.removeItem(\"githubId\");\n\n  sessionStorage.removeItem(\"discordVerified\");\n  sessionStorage.removeItem(\"discordUsername\");\n  sessionStorage.removeItem(\"discordAvatarUrl\");\n  sessionStorage.removeItem(\"discordId\");\n  sessionStorage.removeItem(\"discordNotMember\");\n\n  sessionStorage.removeItem(\"activeStep\");\n}, []);\n\n  // Discord from session\n  useEffect(() => {\n    const verified = sessionStorage.getItem(\"discordVerified\") === \"true\";\n    const notMember = sessionStorage.getItem(\"discordNotMember\") === \"true\";\n\n    setDiscordVerified(verified);\n    setDiscordNotMember(notMember);\n\n    if (verified) {\n      const discordId = sessionStorage.getItem(\"discordId\");\n      if (discordId) {\n        setData((prev) => ({ ...prev, discordId: discordId }));\n      }\n    }\n  }, []);\n\n  // Handle Discord cancellation\n  useEffect(() => {\n    if (sessionStorage.getItem(\"discord_cancelled\") === \"true\") {\n      setDiscordCancelled(true);\n      sessionStorage.removeItem(\"discord_cancelled\");\n      setTimeout(() => setDiscordCancelled(false), 2500);\n    }\n    if (sessionStorage.getItem(\"github_cancelled\") === \"true\") {\n      setGithubCancelled(true);\n      sessionStorage.removeItem(\"github_cancelled\");\n      setTimeout(() => setGithubCancelled(false), 2500);\n    }\n  }, []);\n\n  // Save form data on unload\n  useEffect(() => {\n    const handleBeforeUnload = () => {\n      if (window?.performance?.navigation?.type !== 1) {\n        sessionStorage.setItem(\"signupFormData\", JSON.stringify(data));\n      }\n    };\n    window.addEventListener(\"beforeunload\", handleBeforeUnload);\n    return () =>\n      window.removeEventListener(\"beforeunload\", handleBeforeUnload);\n  }, [data]);\n\n  // Real-time phone number validation\n  useEffect(() => {\n    const checkPhone = async () => {\n      if (!/^\\d{10}$/.test(data.phone)) {\n        setPhoneCheckStatus({ checking: false, exists: false, message: \"\" });\n        return;\n      }\n\n      setPhoneCheckStatus({\n        checking: true,\n        exists: false,\n        message: \"Checking...\",\n      });\n\n      try {\n        const result = await requestOtp({\n          phone: data.phone\n          // ❌ do NOT send email here\n        });\n\n        if (result?.exists === true && result.reason === \"phone\") {\n          setPhoneCheckStatus({\n            checking: false,\n            exists: true,\n            message: \"Phone already registered\",\n          });\n          return;\n        }\n\n        setPhoneCheckStatus({\n          checking: false,\n          exists: false,\n          message: \"Available\",\n        });\n\n      } catch {\n        setPhoneCheckStatus({\n          checking: false,\n          exists: false,\n          message: \"\",\n        });\n      }\n    };\n\n    const timer = setTimeout(() => {\n      if (data.phone) checkPhone();\n    }, 800);\n\n    return () => clearTimeout(timer);\n  }, [data.phone]);\n\n  // Restore GitHub verified data\n  useEffect(() => {\n    const verified = sessionStorage.getItem(\"githubVerified\") === \"true\";\n    const username = sessionStorage.getItem(\"githubUsername\");\n    const url = sessionStorage.getItem(\"githubUrl\");\n    const githubId = sessionStorage.getItem(\"githubId\");\n\n    if (verified && username && url) {\n      setGithubStatus({\n        verifying: false,\n        verified: true,\n        username,\n        error: \"\",\n      });\n\n      setData((prev) => ({ \n        ...prev, \n        githubUrl: url,\n        githubId: githubId || null \n      }));\n    }\n  }, []);\n\n  // Signup reCAPTCHA init\n  useEffect(() => {\n    if (activeStep === 2) {\n      setTimeout(() => {\n        try {\n          if (!window.recaptchaVerifier) {\n            setupRecaptcha(auth, \"recaptcha-container-signup\");\n          }\n        } catch (err) {\n          console.log(\"reCAPTCHA setup failed:\", err);\n        }\n      }, 300);\n    }\n  }, [activeStep]);\n\n  // Destroy reCAPTCHA when leaving step 2\n  useEffect(() => {\n    if (activeStep !== 2) {\n      cleanupRecaptcha();\n      resetRecaptcha();\n    }\n  }, [activeStep]);\n\n  const handleOrgChange = (org) => {\n    if (!org) {\n      setShowCustomOrg(false);\n      setData({ ...data, organisation: \"\", orgType: \"\" });\n      return;\n    }\n\n    if (org === \"Other\") {\n      setShowCustomOrg(true);\n      setData({ ...data, organisation: \"\", orgType: \"\" });\n    } else {\n      setShowCustomOrg(false);\n      const orgType = ORG_TYPE_MAPPINGS[org] || \"\";\n      setData({ ...data, organisation: org, orgType });\n    }\n  };\n\n  const handleVerifyGithub = async () => {\n    setGithubStatus({\n      verifying: true,\n      verified: false,\n      username: \"\",\n      error: \"\",\n    });\n\n    try {\n      const provider = new GithubAuthProvider();\n      const result = await signInWithPopup(auth, provider);\n      const info = getAdditionalUserInfo(result);\n      const githubUsername = info?.username;\n      const githubNumericId = info?.profile?.id; // GitHub's numeric user ID\n\n      if (!githubUsername) throw new Error(\"Unable to retrieve GitHub username\");\n\n      const verifiedUrl = `https://github.com/${githubUsername}`;\n\n      setData((prev) => ({ \n        ...prev, \n        githubUrl: verifiedUrl,\n        githubId: githubNumericId ? String(githubNumericId) : null \n      }));\n\n      sessionStorage.setItem(\"githubVerified\", \"true\");\n      sessionStorage.setItem(\"githubUsername\", githubUsername);\n      sessionStorage.setItem(\"githubUrl\", verifiedUrl);\n      sessionStorage.setItem(\"githubId\", githubNumericId ? String(githubNumericId) : \"\");\n\n      setGithubStatus({\n        verifying: false,\n        verified: true,\n        username: githubUsername,\n        error: \"\",\n      });\n\n      await signOut(auth);\n    } catch (err) {\n      console.error(\"GitHub verify error:\", err);\n      \n      if (err.code === \"auth/popup-closed-by-user\") {\n        sessionStorage.setItem(\"github_cancelled\", \"true\");\n        setGithubStatus({\n          verifying: false,\n          verified: false,\n          username: \"\",\n          error: \"\",\n        });\n        Swal.fire({\n          icon: \"warning\",\n          title: \"Verification Cancelled\",\n          text: \"GitHub verification was cancelled. Please try again.\",\n          confirmButtonColor: \"#1E4DD8\"\n        });\n        return;\n      }\n\n      let errorMessage = \"Failed to verify GitHub account. Please try again.\";\n      if (err.code === \"auth/popup-blocked\") {\n        errorMessage = \"Popup was blocked. Please allow popups for this site and try again.\";\n      } else if (err.code === \"auth/cancelled-popup-request\") {\n        errorMessage = \"Verification cancelled. Please try again.\";\n      }\n\n      Swal.fire({\n        icon: \"error\",\n        title: \"GitHub Verification Failed\",\n        text: errorMessage,\n        confirmButtonColor: \"#1E4DD8\"\n      });\n      \n      setGithubStatus({\n        verifying: false,\n        verified: false,\n        username: \"\",\n        error: \"\",\n      });\n    }\n  };\n\n  // ------- PER-STEP VALIDATION -------\n\n  const validateStep0 = () => {\n    if (!data.fullName.trim()) {\n      Swal.fire(\"Warning\", \"Please enter your full name to continue\", \"warning\");\n      return false;\n    }\n    if (!/^\\d{10}$/.test(data.phone)) {\n      Swal.fire(\"Warning\", \"Please enter a valid 10-digit phone number\", \"warning\");\n      return false;\n    }\n    if (phoneCheckStatus.exists) {\n      Swal.fire(\n        \"Info\",\n        \"Phone number already registered. Please sign in instead.\",\n        \"info\"\n      );\n      return false;\n    }\n    if (!data.email.includes(\"@\")) {\n      Swal.fire(\"Warning\", \"Please enter a valid email address\", \"warning\");\n      return false;\n    }\n    if (!data.gender) {\n      Swal.fire(\"Warning\", \"Please select your gender to continue\", \"warning\");\n      return false;\n    }\n    return true;\n  };\n\n  const validateStep1 = () => {\n    if (!data.organisation) {\n      Swal.fire(\"Warning\", \"Please select or enter your organisation\", \"warning\");\n      return false;\n    }\n    if (!data.role) {\n      Swal.fire(\"Warning\", \"Please select your role to continue\", \"warning\");\n      return false;\n    }\n    return true;\n  };\n\n  const validateSocialBeforeSubmit = () => {\n    if (!data.githubUrl || data.githubUrl.trim() === \"\") {\n      Swal.fire(\"Warning\", \"GitHub URL is required\", \"warning\");\n      return false;\n    }\n    if (!githubRegex.test(data.githubUrl)) {\n      Swal.fire(\"Warning\", \"Enter a valid GitHub URL\", \"warning\");\n      return false;\n    }\n    if (!githubStatus.verified) {\n      Swal.fire(\"Warning\", \"Please verify your GitHub profile\", \"warning\");\n      return false;\n    }\n\n    if (sessionStorage.getItem(\"discordVerified\") !== \"true\") {\n      Swal.fire(\"Warning\", \"Please verify your Discord account\", \"warning\");\n      return false;\n    }\n\n    const verifiedDiscordId = sessionStorage.getItem(\"discordId\");\n    if (verifiedDiscordId) {\n      data.discordId = verifiedDiscordId;\n    }\n\n    if (\n      data.linkedinId &&\n      !linkedinRegex.test(data.linkedinId)\n    ) {\n      Swal.fire(\"Warning\", \"Invalid LinkedIn URL format\", \"warning\");\n      return false;\n    }\n\n    const isDiscordVerified =\n      sessionStorage.getItem(\"discordVerified\") === \"true\";\n    if (\n      data.discordId &&\n      !isDiscordVerified &&\n      !discordTagRegex.test(data.discordId) &&\n      !discordUrlRegex.test(data.discordId)\n    ) {\n      Swal.fire(\"Warning\", \"Invalid Discord format\", \"warning\");\n      return false;\n    }\n\n    if (!data.termsAccepted) {\n      Swal.fire(\"Warning\", \"Accept Terms & Conditions\", \"warning\");\n      return false;\n    }\n\n    return true;\n  };\n\n  const handleNext = () => {\n    if (activeStep === 0 && !validateStep0()) return;\n    if (activeStep === 1 && !validateStep1()) return;\n\n    // Clear OAuth flags when user manually proceeds to next step\n    sessionStorage.removeItem(\"cameFromOtp\");\n    sessionStorage.removeItem(\"cameFromDiscord\");\n    \n    setActiveStep((prev) => prev + 1);\n  };\n\n  const handleBackStep = () => {\n    // Clear OAuth flags when user navigates back\n    sessionStorage.removeItem(\"cameFromOtp\");\n    sessionStorage.removeItem(\"cameFromDiscord\");\n    \n    setActiveStep((prev) => Math.max(prev - 1, 0));\n  };\n  const silentValidateStep0 = () =>\n  data.fullName.trim() &&\n  /^\\d{10}$/.test(data.phone) &&\n  data.email.includes(\"@\") &&\n  data.gender;\n\nconst silentValidateStep1 = () =>\n  data.organisation &&\n  data.role;\n\nconst silentValidateStep2 = () =>\n  data.termsAccepted &&\n  githubStatus.verified &&\n  sessionStorage.getItem(\"discordVerified\") === \"true\" &&\n  (!data.linkedinId || linkedinRegex.test(data.linkedinId));\n\nconst isSignupAllowed = () =>\n  silentValidateStep0() &&\n  silentValidateStep1() &&\n  silentValidateStep2();\n\n\n  // ------- FINAL SUBMIT (OTP SEND) -------\n\n    const handleSubmit = async () => {\n  // Step 1: Validate form fields per step\n  if (!validateStep0()) return;\n  if (!validateStep1()) return;\n  if (!validateSocialBeforeSubmit()) return;\n\n  // Step 2: Check if phone/email already exist — BEFORE sending OTP\n  setIsSendingOtp(true);\n\n  try {\n    const preCheck = await requestOtp({\n      phone: data.phone,\n      email: data.email, // now included\n    });\n\n    if (preCheck.exists === true) {\n      // Clear OTP state to avoid confusion\n      setIsSendingOtp(false);\n      \n      if (preCheck.reason === \"email\") {\n        Swal.fire(\"Email already exists\", preCheck.message, \"info\");\n        return;\n      }\n\n      if (preCheck.reason === \"phone\" || preCheck.reason === \"both\") {\n        Swal.fire(\"Phone already exists\", preCheck.message, \"info\");\n        return;\n      }\n    }\n\n    // Step 3: Only if new user → proceed with OTP\n    if (!window.recaptchaVerifier) {\n      await setupRecaptcha(auth, \"recaptcha-container-signup\");\n      await new Promise((resolve) => setTimeout(resolve, 200));\n    }\n\n    if (!window.recaptchaVerifier) {\n      throw new Error(\"reCAPTCHA not initialized. Please refresh and try again.\");\n    }\n\n    const phoneNumber = `+91${data.phone}`;\n    const confirmationResult = await signInWithPhoneNumber(\n      auth,\n      phoneNumber,\n      window.recaptchaVerifier\n    );\n\n    sessionStorage.setItem(\"verificationId\", confirmationResult.verificationId);\n    sessionStorage.setItem(\"signupFormData\", JSON.stringify(data));\n    sessionStorage.setItem(\"isNavigating\", \"true\");\n\n    Swal.fire({\n      icon: \"success\",\n      title: \"OTP Sent!\",\n      text: \"Check your phone for the verification code\",\n      timer: 2000,\n      showConfirmButton: false,\n    });\n\n    navigate(\"/verify-otp\", { state: { phone: data.phone } });\n  } catch (err) {\n    let msg = err.message || \"An error occurred\";\n    if (msg.includes(\"too-many-requests\"))\n      msg = \"Too many attempts. Try later.\";\n    else if (msg.includes(\"invalid-phone-number\"))\n      msg = \"Invalid phone number format.\";\n    else if (msg.includes(\"reCAPTCHA\")) \n      msg = \"reCAPTCHA failed. Please refresh and try again.\";\n\n    Swal.fire(\"Error\", msg, \"error\");\n\n    // Cleanup and reinit reCAPTCHA on error\n    cleanupRecaptcha();\n    resetRecaptcha();\n    setTimeout(async () => {\n      try {\n        await setupRecaptcha(auth, \"recaptcha-container-signup\");\n      } catch (e) {\n        console.warn(\"Error reinitializing reCAPTCHA:\", e);\n      }\n    }, 500);\n  } finally {\n    setIsSendingOtp(false);\n  }\n};\n  // ---\n  // ------- JSX FOR STEPS -------\n\n  const renderStepContent = () => {\n    if (activeStep === 0) {\n      // CONTACT INFO\n      return (\n        <>\n          <Typography\n            fontWeight=\"bold\"\n            fontSize={14}\n            mb={1}\n            alignSelf=\"flex-start\"\n          >\n            Contact Info\n          </Typography>\n\n          <Stack direction={{ xs: \"column\", sm: \"row\" }} spacing={2} width=\"100%\">\n            <TextField\n              label=\"Full Name\"\n              fullWidth\n              size=\"small\"\n              margin=\"dense\"\n              value={data.fullName}\n              onChange={(e) =>\n                setData({ ...data, fullName: e.target.value })\n              }\n              required\n            />\n          </Stack>\n\n          <TextField\n            label=\"Phone\"\n            fullWidth\n            size=\"small\"\n            margin=\"dense\"\n            value={data.phone}\n            onChange={(e) => {\n              if (/^\\d{0,10}$/.test(e.target.value))\n                setData({ ...data, phone: e.target.value });\n            }}\n            error={phoneCheckStatus.exists}\n            helperText={\n              phoneCheckStatus.checking ? (\n                <span style={{ color: \"#1976d2\" }}>\n                  ⏳ Checking availability...\n                </span>\n              ) : phoneCheckStatus.exists ? (\n                <span style={{ color: \"#d32f2f\" }}>\n                  ❌ Phone already registered. Please sign in.\n                </span>\n              ) : phoneCheckStatus.message === \"Available\" &&\n                data.phone.length === 10 ? (\n                <span style={{ color: \"#2e7d32\" }}>✓ Available</span>\n              ) : (\n                \"\"\n              )\n            }\n            InputProps={{\n              endAdornment: phoneCheckStatus.checking ? (\n                <CircularProgress size={20} />\n              ) : null,\n            }}\n            required\n          />\n\n          <TextField\n            label=\"Email\"\n            fullWidth\n            size=\"small\"\n            margin=\"dense\"\n            value={data.email}\n            onChange={(e) => setData({ ...data, email: e.target.value })}\n            required\n          />\n\n          <FormControl fullWidth size=\"small\" margin=\"dense\" required>\n            <InputLabel>Gender</InputLabel>\n            <Select\n              label=\"Gender\"\n              value={data.gender}\n              onChange={(e) =>\n                setData({ ...data, gender: e.target.value })\n              }\n            >\n              {GENDERS.map((g) => (\n                <MenuItem key={g} value={g}>\n                  {g}\n                </MenuItem>\n              ))}\n            </Select>\n          </FormControl>\n        </>\n      );\n    }\n\n    if (activeStep === 1) {\n      // AFFILIATION\n      return (\n        <>\n          <Typography\n            fontWeight=\"bold\"\n            fontSize={14}\n            mb={1}\n            alignSelf=\"flex-start\"\n          >\n            Affiliation\n          </Typography>\n\n          <Autocomplete\n            disablePortal\n            options={ORGANIZATIONS}\n            value={data.organisation || (showCustomOrg ? \"Other\" : \"\")}\n            onChange={(e, newValue) => handleOrgChange(newValue)}\n            renderInput={(params) => (\n              <TextField\n                {...params}\n                label=\"Organisation\"\n                required\n                fullWidth\n                size=\"small\"\n                margin=\"dense\"\n              />\n            )}\n            sx={{ width: \"100%\" }}\n          />\n\n          {showCustomOrg && (\n            <TextField\n              label=\"Enter Organisation Name\"\n              fullWidth\n              size=\"small\"\n              margin=\"dense\"\n              required\n              value={data.organisation}\n              onChange={(e) =>\n                setData({ ...data, organisation: e.target.value })\n              }\n            />\n          )}\n\n          {showCustomOrg ? (\n            <FormControl fullWidth size=\"small\" margin=\"dense\" required>\n              <InputLabel>Organisation Type</InputLabel>\n              <Select\n                label=\"Organisation Type\"\n                value={data.orgType}\n                onChange={(e) =>\n                  setData({ ...data, orgType: e.target.value })\n                }\n              >\n                <MenuItem value=\"Government\">Government</MenuItem>\n                <MenuItem value=\"Corporate\">Corporate</MenuItem>\n                <MenuItem value=\"Academic\">Academic</MenuItem>\n                <MenuItem value=\"NGO\">NGO</MenuItem>\n                <MenuItem value=\"Self\">Self</MenuItem>\n              </Select>\n            </FormControl>\n          ) : (\n            <TextField\n              label=\"Organisation Type\"\n              fullWidth\n              size=\"small\"\n              margin=\"dense\"\n              value={data.orgType}\n              InputProps={{ readOnly: true }}\n            />\n          )}\n\n          <FormControl fullWidth size=\"small\" margin=\"dense\" required>\n            <InputLabel>Role</InputLabel>\n            <Select\n              label=\"Role\"\n              value={data.role}\n              onChange={(e) =>\n                setData({ ...data, role: e.target.value })\n              }\n            >\n              {ROLES.map((r) => (\n                <MenuItem key={r.value} value={r.value}>\n                  {r.label}\n                </MenuItem>\n              ))}\n            </Select>\n          </FormControl>\n        </>\n      );\n    }\n\n    // STEP 2: SOCIAL & TERMS\n    return (\n      <>\n        <Typography\n          fontWeight=\"bold\"\n          fontSize={14}\n          mb={1}\n          alignSelf=\"flex-start\"\n        >\n          Social & Verification\n        </Typography>\n\n        {/* GitHub */}\n        <Typography\n          fontWeight=\"bold\"\n          fontSize={14}\n          mt={2}\n          mb={1}\n          alignSelf=\"flex-start\"\n        >\n          GitHub\n        </Typography>\n\n        <Box\n          sx={{\n            display: \"flex\",\n            flexDirection: \"column\",\n            gap: 1,\n            width: \"100%\",\n            mt: 1,\n          }}\n        >\n          {!githubStatus.verified ? (\n            <Button\n              fullWidth\n              variant=\"contained\"\n              onClick={handleVerifyGithub}\n              className={githubCancelled ? \"verify-shake\" : \"\"}\n              disabled={githubStatus.verifying}\n              sx={{\n                borderRadius: \"10px\",\n                fontWeight: \"bold\",\n                backgroundColor: \"#000\",\n                color: \"white\",\n                \"&:hover\": { backgroundColor: \"#333\" },\n              }}\n            >\n              {githubStatus.verifying ? \"Verifying...\" : \"VERIFY GITHUB\"}\n            </Button>\n          ) : (\n            <Box\n              sx={{\n                display: \"flex\",\n                alignItems: \"center\",\n                gap: 2,\n                p: 1.5,\n                borderRadius: 2,\n                backgroundColor: \"#e8f5e9\",\n                border: \"1px solid #4caf50\",\n              }}\n            >\n              <img\n                src=\"https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png\"\n                alt=\"GitHub logo\"\n                style={{\n                  width: 40,\n                  height: 40,\n                  borderRadius: \"50%\",\n                }}\n              />\n\n              <Typography fontWeight=\"bold\" color=\"#2e7d32\">\n                {githubStatus.username}\n              </Typography>\n\n              <Typography\n                sx={{\n                  ml: \"auto\",\n                  background: \"#4caf50\",\n                  color: \"white\",\n                  px: 1.5,\n                  py: 0.5,\n                  borderRadius: 1,\n                  fontSize: 12,\n                  fontWeight: 600,\n                }}\n              >\n                Verified ✓\n              </Typography>\n            </Box>\n          )}\n\n          {githubCancelled && (\n            <Box\n              className=\"verify-error\"\n              sx={{\n                mt: 1,\n                padding: \"10px 12px\",\n                borderRadius: \"8px\",\n                border: \"1px solid #ef5350\",\n                background: \"#ffebee\",\n              }}\n            >\n              <Typography color=\"#d32f2f\" fontSize={13} fontWeight=\"600\">\n                ❌ GitHub verification cancelled\n              </Typography>\n            </Box>\n          )}\n        </Box>\n\n        {/* Discord */}\n        <Typography\n          fontWeight=\"bold\"\n          fontSize={14}\n          mt={3}\n          mb={1}\n          alignSelf=\"flex-start\"\n        >\n          Discord\n        </Typography>\n\n        <Box\n          sx={{\n            display: \"flex\",\n            flexDirection: \"column\",\n            gap: 1,\n            width: \"100%\",\n            mt: 1,\n          }}\n        >\n          {discordVerified ? (\n            <Box\n              sx={{\n                display: \"flex\",\n                alignItems: \"center\",\n                gap: 2,\n                p: 1.5,\n                borderRadius: 2,\n                backgroundColor: \"#e8f5e9\",\n                border: \"1px solid #4caf50\",\n              }}\n            >\n              <img\n                src={sessionStorage.getItem(\"discordAvatarUrl\")}\n                alt=\"Discord avatar\"\n                style={{\n                  width: 40,\n                  height: 40,\n                  borderRadius: \"50%\",\n                }}\n              />\n\n              <Typography fontWeight=\"bold\" color=\"#2e7d32\">\n                {sessionStorage.getItem(\"discordUsername\")}\n              </Typography>\n\n              <Typography\n                sx={{\n                  ml: \"auto\",\n                  background: \"#4caf50\",\n                  color: \"white\",\n                  px: 1.5,\n                  py: 0.5,\n                  borderRadius: 1,\n                  fontSize: 12,\n                  fontWeight: 600,\n                }}\n              >\n                Verified ✓\n              </Typography>\n            </Box>\n          ) : (\n            <>\n              <Button\n                fullWidth\n                variant=\"contained\"\n                className={discordCancelled ? \"verify-shake\" : \"\"}\n                sx={{\n                  borderRadius: \"10px\",\n                  fontWeight: \"bold\",\n                  backgroundColor: \"#1E4DD8\",\n                  \"&:hover\": { backgroundColor: \"#1536A1\" },\n                }}\n                onClick={() => {\n                  sessionStorage.setItem(\n                    \"signupFormData\",\n                    JSON.stringify(data)\n                  );\n                  sessionStorage.setItem(\"activeStep\", \"2\");\n                  sessionStorage.setItem(\"cameFromDiscord\", \"true\");\n                  sessionStorage.setItem(\"oauthReturnPath\", \"/signup\");\n                  window.location.href = DISCORD_OAUTH;\n                }}\n              >\n                VERIFY DISCORD\n              </Button>\n\n              {discordCancelled && (\n                <Box\n                  className=\"verify-error\"\n                  sx={{\n                    mt: 1,\n                    padding: \"10px 12px\",\n                    borderRadius: \"8px\",\n                    border: \"1px solid #ef5350\",\n                    background: \"#ffebee\",\n                  }}\n                >\n                  <Typography color=\"#d32f2f\" fontSize={13} fontWeight=\"600\">\n                    ❌ Discord authorization cancelled\n                  </Typography>\n                </Box>\n              )}\n\n              {discordNotMember && (\n                <Button\n                  fullWidth\n                  variant=\"outlined\"\n                  component=\"a\"\n                  href={DISCORD_INVITE}\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                  sx={{\n                    borderRadius: \"10px\",\n                    fontWeight: \"bold\",\n                  }}\n                >\n                  JOIN DISCORD SERVER\n                </Button>\n              )}\n\n              {discordNotMember && (\n                <Typography fontSize={13} color=\"#d32f2f\">\n                  ❌ You must join our Discord server before verification.\n                </Typography>\n              )}\n            </>\n          )}  \n        </Box>\n\n        {/* LinkedIn */}\n<Typography\n  fontWeight=\"bold\"\n  fontSize={14}\n  mt={3}\n  mb={1}\n  alignSelf=\"flex-start\"\n>\n  LinkedIn\n</Typography>\n\n<TextField\n  label=\"LinkedIn URL\"\n  fullWidth\n  margin=\"dense\"\n  size=\"small\"\n  value={data.linkedinId}\n  onChange={(e) =>\n    setData({ ...data, linkedinId: e.target.value })\n  }\n  error={data.linkedinId !== \"\" && !linkedinRegex.test(data.linkedinId)}\n  helperText={\n    data.linkedinId !== \"\" &&\n    !linkedinRegex.test(data.linkedinId)\n      ? \"Enter valid LinkedIn profile URL (e.g. https://linkedin.com/in/username)\"\n      : \"\"\n  }\n/>\n        {/* reCAPTCHA */}\n        <Box\n          sx={{\n            width: \"100%\",\n            display: \"flex\",\n            justifyContent: \"center\",\n            mt: 2,\n            mb: 1,\n          }}\n        >\n          <div id=\"recaptcha-container-signup\" />\n        </Box>\n\n        {/* Terms */}\n        <Box\n          display=\"flex\"\n          alignItems=\"center\"\n          width=\"100%\"\n          mt={1}\n        >\n          <Checkbox\n            checked={data.termsAccepted}\n            onChange={(e) =>\n              setData({ ...data, termsAccepted: e.target.checked })\n            }\n          />\n          <Typography variant=\"body2\">\n            Accept{\" \"}\n            <span\n              style={{\n                color: \"#1E4DD8\",\n                cursor: \"pointer\",\n                textDecoration: \"underline\",\n              }}\n              onClick={() => {\n                sessionStorage.setItem(\"signupFormData\", JSON.stringify(data));\n                sessionStorage.setItem(\"activeStep\", String(activeStep));\n                sessionStorage.setItem(\"cameFromTerms\", \"true\");\n                navigate(\"/terms-and-conditions\");\n              }}\n            >\n              Terms & Conditions\n            </span>\n          </Typography>\n        </Box>\n\n        <Button\n  fullWidth\n  variant=\"contained\"\n  disabled={!isSignupAllowed() || isSendingOtp}\n  sx={{\n    mt: 2,\n    borderRadius: \"20px\",\n    backgroundColor: !isSignupAllowed() ? \"#B0BEC5\" : \"#1E4DD8\",\n    \"&:hover\": {\n      backgroundColor: !isSignupAllowed() ? \"#B0BEC5\" : \"#1536A1\",\n    },\n    py: 1,\n  }}\n  onClick={handleSubmit}\n>\n\n          {isSendingOtp ? (\n            <CircularProgress size={20} sx={{ color: \"white\" }} />\n          ) : (\n            \"Sign Up & Send OTP\"\n          )}\n        </Button>\n\n        <Divider sx={{ mt: 3, mb: 1, width: \"100%\" }} />\n      </>\n    );\n  };\n\n  // ------- MAIN RENDER -------\n  return (\n    <Box\n      sx={{\n        minHeight: \"100vh\",\n        width: \"100%\",\n        background: \"linear-gradient(135deg, #1e3c72, #2a5298)\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        py: 4,\n        px: 2,\n      }}\n    >\n      <Box\n        sx={{\n          width: \"100%\",\n          maxWidth: 1400,\n          display: \"flex\",\n          flexDirection: { xs: \"column\", md: \"row\" },\n          gap: { xs: 4, md: 8 },\n          alignItems: \"center\",\n        }}\n      >\n        {/* LEFT HERO */}\n        <Box\n          sx={{\n            flex: 1,\n            color: \"white\",\n            textAlign: { xs: \"center\", md: \"left\" },\n          }}\n        >\n          <Typography variant=\"h3\" fontWeight={900} mb={1}>\n            Join C4GT-Badal\n          </Typography>\n          <Typography\n            variant=\"h2\"\n            fontWeight={900}\n            sx={{ fontSize: { xs: \"2.3rem\", md: \"3.2rem\" } }}\n            mb={3}\n          >\n            Build for Public Good\n          </Typography>\n\n          <Typography\n            sx={{\n              opacity: 0.95,\n              maxWidth: 520,\n              fontSize: \"1.1rem\",\n              lineHeight: 1.6,\n              marginX: { xs: \"auto\", md: 0 },\n            }}\n            mb={3}\n          >\n            Collaborate with government, academia, and industry to solve\n            real-world challenges. Sign up to be part of India’s largest\n            open collaboration platform for governance and technology.\n          </Typography>\n\n          <Stack direction=\"row\" spacing={2} justifyContent={{ xs: \"center\", md: \"flex-start\" }}>\n       \n            <img\n  src={hero2}\n  alt=\"Badal Logo\"\n  style={{ height: 100, width: \"auto\", borderRadius: 16 }}\n/>\n<img\n  src={hero1}\n  alt=\"C4GT Logo\"\n  style={{ height: 100, width: \"auto\", borderRadius: 16 }}\n/>\n\n          </Stack>\n        </Box>\n\n        {/* RIGHT CARD WITH STEPPER */}\n        <Box\n          sx={{\n            flex: 0.9,\n            display: \"flex\",\n            justifyContent: \"center\",\n          }}\n        >\n          <Paper\n            elevation={8}\n            sx={{\n              width: \"100%\",\n              maxWidth: 480,\n              p: 4,\n              borderRadius: 4,\n              background: \"rgba(255,255,255,0.96)\",\n            }}\n          >\n\n            <Typography\n              variant=\"h5\"\n              fontWeight={800}\n              textAlign=\"center\"\n              color=\"#1E4DD8\"\n              mb={2}\n            >\n              Create Your Account\n            </Typography>\n\n            {/* Stepper */}\n            <Stepper activeStep={activeStep} alternativeLabel sx={{ mb: 3 }}>\n              {steps.map((label) => (\n                <Step key={label}>\n                  <StepLabel>{label}</StepLabel>\n                </Step>\n              ))}\n            </Stepper>\n\n            {/* Step Content */}\n            <Box sx={{ display: \"flex\", flexDirection: \"column\", gap: 1 }}>\n              {renderStepContent()}\n            </Box>\n\n            {/* Step Navigation Buttons */}\n            <Box\n              sx={{\n                display: \"flex\",\n                justifyContent: \"space-between\",\n                alignItems: \"center\",\n                mt: 3,\n              }}\n            >\n              <Button\n                disabled={activeStep === 0}\n                onClick={handleBackStep}\n                sx={{ textTransform: \"none\" }}\n              >\n                Back\n              </Button>\n              {activeStep < 2 ? (\n                <Button\n                  variant=\"contained\"\n                  onClick={handleNext}\n                  sx={{\n                    textTransform: \"none\",\n                    borderRadius: 3,\n                    backgroundColor: \"#1E4DD8\",\n                    \"&:hover\": { backgroundColor: \"#1536A1\" },\n                  }}\n                >\n                  Next\n                </Button>\n              ) : (\n                <Typography\n                  fontSize={15}\n                  color=\"text.secondary\"\n                >\n                  Already have an account?{\" \"}\n                  <span\n                    onClick={() => navigate(\"/signin\")}\n                    style={{\n                      color: \"#1E4DD8\",\n                      cursor: \"pointer\",\n                      textDecoration: \"underline\",\n                    }}\n                  >\n                    Sign In\n                  </span>\n                </Typography>\n              )}\n            </Box>\n          </Paper>\n        </Box>\n      </Box>\n    </Box>\n  );\n};\n\nexport default SignUpPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}