{"ast":null,"code":"import _objectSpread from \"/home/rcts/Email-differ/Frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _defineProperty from \"/home/rcts/Email-differ/Frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport { NormalizedSchema, translateTraits } from \"@smithy/core/schema\";\nimport { HttpRequest, HttpResponse } from \"@smithy/protocol-http\";\nimport { SerdeContext } from \"./SerdeContext\";\nexport class HttpProtocol extends SerdeContext {\n  constructor(options) {\n    super();\n    _defineProperty(this, \"options\", void 0);\n    this.options = options;\n  }\n  getRequestType() {\n    return HttpRequest;\n  }\n  getResponseType() {\n    return HttpResponse;\n  }\n  setSerdeContext(serdeContext) {\n    this.serdeContext = serdeContext;\n    this.serializer.setSerdeContext(serdeContext);\n    this.deserializer.setSerdeContext(serdeContext);\n    if (this.getPayloadCodec()) {\n      this.getPayloadCodec().setSerdeContext(serdeContext);\n    }\n  }\n  updateServiceEndpoint(request, endpoint) {\n    if (\"url\" in endpoint) {\n      request.protocol = endpoint.url.protocol;\n      request.hostname = endpoint.url.hostname;\n      request.port = endpoint.url.port ? Number(endpoint.url.port) : undefined;\n      request.path = endpoint.url.pathname;\n      request.fragment = endpoint.url.hash || void 0;\n      request.username = endpoint.url.username || void 0;\n      request.password = endpoint.url.password || void 0;\n      if (!request.query) {\n        request.query = {};\n      }\n      for (const [k, v] of endpoint.url.searchParams.entries()) {\n        request.query[k] = v;\n      }\n      return request;\n    } else {\n      request.protocol = endpoint.protocol;\n      request.hostname = endpoint.hostname;\n      request.port = endpoint.port ? Number(endpoint.port) : undefined;\n      request.path = endpoint.path;\n      request.query = _objectSpread({}, endpoint.query);\n      return request;\n    }\n  }\n  setHostPrefix(request, operationSchema, input) {\n    var _operationSchema$trai;\n    const inputNs = NormalizedSchema.of(operationSchema.input);\n    const opTraits = translateTraits((_operationSchema$trai = operationSchema.traits) !== null && _operationSchema$trai !== void 0 ? _operationSchema$trai : {});\n    if (opTraits.endpoint) {\n      var _opTraits$endpoint;\n      let hostPrefix = (_opTraits$endpoint = opTraits.endpoint) === null || _opTraits$endpoint === void 0 ? void 0 : _opTraits$endpoint[0];\n      if (typeof hostPrefix === \"string\") {\n        const hostLabelInputs = [...inputNs.structIterator()].filter(_ref => {\n          let [, member] = _ref;\n          return member.getMergedTraits().hostLabel;\n        });\n        for (const [name] of hostLabelInputs) {\n          const replacement = input[name];\n          if (typeof replacement !== \"string\") {\n            throw new Error(\"@smithy/core/schema - \".concat(name, \" in input must be a string as hostLabel.\"));\n          }\n          hostPrefix = hostPrefix.replace(\"{\".concat(name, \"}\"), replacement);\n        }\n        request.hostname = hostPrefix + request.hostname;\n      }\n    }\n  }\n  deserializeMetadata(output) {\n    var _ref2, _output$headers$xAmz;\n    return {\n      httpStatusCode: output.statusCode,\n      requestId: (_ref2 = (_output$headers$xAmz = output.headers[\"x-amzn-requestid\"]) !== null && _output$headers$xAmz !== void 0 ? _output$headers$xAmz : output.headers[\"x-amzn-request-id\"]) !== null && _ref2 !== void 0 ? _ref2 : output.headers[\"x-amz-request-id\"],\n      extendedRequestId: output.headers[\"x-amz-id-2\"],\n      cfId: output.headers[\"x-amz-cf-id\"]\n    };\n  }\n  async serializeEventStream(_ref3) {\n    let {\n      eventStream,\n      requestSchema,\n      initialRequest\n    } = _ref3;\n    const eventStreamSerde = await this.loadEventStreamCapability();\n    return eventStreamSerde.serializeEventStream({\n      eventStream,\n      requestSchema,\n      initialRequest\n    });\n  }\n  async deserializeEventStream(_ref4) {\n    let {\n      response,\n      responseSchema,\n      initialResponseContainer\n    } = _ref4;\n    const eventStreamSerde = await this.loadEventStreamCapability();\n    return eventStreamSerde.deserializeEventStream({\n      response,\n      responseSchema,\n      initialResponseContainer\n    });\n  }\n  async loadEventStreamCapability() {\n    const {\n      EventStreamSerde\n    } = await import(\"@smithy/core/event-streams\");\n    return new EventStreamSerde({\n      marshaller: this.getEventStreamMarshaller(),\n      serializer: this.serializer,\n      deserializer: this.deserializer,\n      serdeContext: this.serdeContext,\n      defaultContentType: this.getDefaultContentType()\n    });\n  }\n  getDefaultContentType() {\n    throw new Error(\"@smithy/core/protocols - \".concat(this.constructor.name, \" getDefaultContentType() implementation missing.\"));\n  }\n  async deserializeHttpMessage(schema, context, response, arg4, arg5) {\n    void schema;\n    void context;\n    void response;\n    void arg4;\n    void arg5;\n    return [];\n  }\n  getEventStreamMarshaller() {\n    const context = this.serdeContext;\n    if (!context.eventStreamMarshaller) {\n      throw new Error(\"@smithy/core - HttpProtocol: eventStreamMarshaller missing in serdeContext.\");\n    }\n    return context.eventStreamMarshaller;\n  }\n}","map":{"version":3,"names":["NormalizedSchema","translateTraits","HttpRequest","HttpResponse","SerdeContext","HttpProtocol","constructor","options","_defineProperty","getRequestType","getResponseType","setSerdeContext","serdeContext","serializer","deserializer","getPayloadCodec","updateServiceEndpoint","request","endpoint","protocol","url","hostname","port","Number","undefined","path","pathname","fragment","hash","username","password","query","k","v","searchParams","entries","_objectSpread","setHostPrefix","operationSchema","input","_operationSchema$trai","inputNs","of","opTraits","traits","_opTraits$endpoint","hostPrefix","hostLabelInputs","structIterator","filter","_ref","member","getMergedTraits","hostLabel","name","replacement","Error","concat","replace","deserializeMetadata","output","_ref2","_output$headers$xAmz","httpStatusCode","statusCode","requestId","headers","extendedRequestId","cfId","serializeEventStream","_ref3","eventStream","requestSchema","initialRequest","eventStreamSerde","loadEventStreamCapability","deserializeEventStream","_ref4","response","responseSchema","initialResponseContainer","EventStreamSerde","marshaller","getEventStreamMarshaller","defaultContentType","getDefaultContentType","deserializeHttpMessage","schema","context","arg4","arg5","eventStreamMarshaller"],"sources":["/home/rcts/Email-differ/Frontend/node_modules/@smithy/core/dist-es/submodules/protocols/HttpProtocol.js"],"sourcesContent":["import { NormalizedSchema, translateTraits } from \"@smithy/core/schema\";\nimport { HttpRequest, HttpResponse } from \"@smithy/protocol-http\";\nimport { SerdeContext } from \"./SerdeContext\";\nexport class HttpProtocol extends SerdeContext {\n    options;\n    constructor(options) {\n        super();\n        this.options = options;\n    }\n    getRequestType() {\n        return HttpRequest;\n    }\n    getResponseType() {\n        return HttpResponse;\n    }\n    setSerdeContext(serdeContext) {\n        this.serdeContext = serdeContext;\n        this.serializer.setSerdeContext(serdeContext);\n        this.deserializer.setSerdeContext(serdeContext);\n        if (this.getPayloadCodec()) {\n            this.getPayloadCodec().setSerdeContext(serdeContext);\n        }\n    }\n    updateServiceEndpoint(request, endpoint) {\n        if (\"url\" in endpoint) {\n            request.protocol = endpoint.url.protocol;\n            request.hostname = endpoint.url.hostname;\n            request.port = endpoint.url.port ? Number(endpoint.url.port) : undefined;\n            request.path = endpoint.url.pathname;\n            request.fragment = endpoint.url.hash || void 0;\n            request.username = endpoint.url.username || void 0;\n            request.password = endpoint.url.password || void 0;\n            if (!request.query) {\n                request.query = {};\n            }\n            for (const [k, v] of endpoint.url.searchParams.entries()) {\n                request.query[k] = v;\n            }\n            return request;\n        }\n        else {\n            request.protocol = endpoint.protocol;\n            request.hostname = endpoint.hostname;\n            request.port = endpoint.port ? Number(endpoint.port) : undefined;\n            request.path = endpoint.path;\n            request.query = {\n                ...endpoint.query,\n            };\n            return request;\n        }\n    }\n    setHostPrefix(request, operationSchema, input) {\n        const inputNs = NormalizedSchema.of(operationSchema.input);\n        const opTraits = translateTraits(operationSchema.traits ?? {});\n        if (opTraits.endpoint) {\n            let hostPrefix = opTraits.endpoint?.[0];\n            if (typeof hostPrefix === \"string\") {\n                const hostLabelInputs = [...inputNs.structIterator()].filter(([, member]) => member.getMergedTraits().hostLabel);\n                for (const [name] of hostLabelInputs) {\n                    const replacement = input[name];\n                    if (typeof replacement !== \"string\") {\n                        throw new Error(`@smithy/core/schema - ${name} in input must be a string as hostLabel.`);\n                    }\n                    hostPrefix = hostPrefix.replace(`{${name}}`, replacement);\n                }\n                request.hostname = hostPrefix + request.hostname;\n            }\n        }\n    }\n    deserializeMetadata(output) {\n        return {\n            httpStatusCode: output.statusCode,\n            requestId: output.headers[\"x-amzn-requestid\"] ?? output.headers[\"x-amzn-request-id\"] ?? output.headers[\"x-amz-request-id\"],\n            extendedRequestId: output.headers[\"x-amz-id-2\"],\n            cfId: output.headers[\"x-amz-cf-id\"],\n        };\n    }\n    async serializeEventStream({ eventStream, requestSchema, initialRequest, }) {\n        const eventStreamSerde = await this.loadEventStreamCapability();\n        return eventStreamSerde.serializeEventStream({\n            eventStream,\n            requestSchema,\n            initialRequest,\n        });\n    }\n    async deserializeEventStream({ response, responseSchema, initialResponseContainer, }) {\n        const eventStreamSerde = await this.loadEventStreamCapability();\n        return eventStreamSerde.deserializeEventStream({\n            response,\n            responseSchema,\n            initialResponseContainer,\n        });\n    }\n    async loadEventStreamCapability() {\n        const { EventStreamSerde } = await import(\"@smithy/core/event-streams\");\n        return new EventStreamSerde({\n            marshaller: this.getEventStreamMarshaller(),\n            serializer: this.serializer,\n            deserializer: this.deserializer,\n            serdeContext: this.serdeContext,\n            defaultContentType: this.getDefaultContentType(),\n        });\n    }\n    getDefaultContentType() {\n        throw new Error(`@smithy/core/protocols - ${this.constructor.name} getDefaultContentType() implementation missing.`);\n    }\n    async deserializeHttpMessage(schema, context, response, arg4, arg5) {\n        void schema;\n        void context;\n        void response;\n        void arg4;\n        void arg5;\n        return [];\n    }\n    getEventStreamMarshaller() {\n        const context = this.serdeContext;\n        if (!context.eventStreamMarshaller) {\n            throw new Error(\"@smithy/core - HttpProtocol: eventStreamMarshaller missing in serdeContext.\");\n        }\n        return context.eventStreamMarshaller;\n    }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}